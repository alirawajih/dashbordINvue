/*
 Highcharts JS v11.1.0 (2023-09-05)

 3D features for Highcharts JS

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/highcharts-3d",["highcharts"],function(F){a(F);a.Highcharts=F;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function F(a,y,r,J){a.hasOwnProperty(y)||(a[y]=J.apply(null,r),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:y,module:a[y]}})))}a=a?a._modules:
{};F(a,"Core/Math3D.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,y){function r(a,c,e,d){var k=c.options.chart.options3d;const g=E(d,e?c.inverted:!1),q={x:c.plotWidth/2,y:c.plotHeight/2,z:k.depth/2,vd:E(k.depth,1)*E(k.viewDistance,0)},x=c.scale3d||1;d=K*k.beta*(g?-1:1);k=K*k.alpha*(g?-1:1);var H=Math.cos(k),m=Math.cos(-d),l=Math.sin(k),I=Math.sin(-d);e||(q.x+=c.plotLeft,q.y+=c.plotTop);return a.map(function(d){var e=(g?d.y:d.x)-q.x;var a=(g?d.x:d.y)-q.y;d=(d.z||0)-q.z;e={x:m*e-I*d,
y:-l*I*e+H*a-m*l*d,z:H*I*e+l*a+H*m*d};a=u(e,q,q.vd);a.x=a.x*x+q.x;a.y=a.y*x+q.y;a.z=e.z*x+q.z;return{x:g?a.y:a.x,y:g?a.x:a.y,z:a.z}})}function u(a,c,e){c=0<e&&e<Number.POSITIVE_INFINITY?e/(a.z+c.z+e):1;return{x:a.x*c,y:a.y*c}}function g(a){let c=0,e,d;for(e=0;e<a.length;e++)d=(e+1)%a.length,c+=a[e].x*a[d].y-a[d].x*a[e].y;return c/2}const {deg2rad:K}=a,{pick:E}=y;return{perspective:r,perspective3D:u,pointCameraDistance:function(a,c){var e=c.options.chart.options3d,d=c.plotWidth/2;c=c.plotHeight/2;
e=E(e.depth,1)*E(e.viewDistance,0)+e.depth;return Math.sqrt(Math.pow(d-E(a.plotX,a.x),2)+Math.pow(c-E(a.plotY,a.y),2)+Math.pow(e-E(a.plotZ,a.z),2))},shapeArea:g,shapeArea3D:function(a,c,e){return g(r(a,c,e))}}});F(a,"Core/Renderer/SVG/SVGElement3D.js",[a["Core/Color/Color.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(a,y,r){const {parse:u}=a,{defined:g,merge:K,objectEach:E,pick:L}=r,c={base:{initArgs:function(a){const d=this,e=d.renderer,c=e[d.pathType+"Path"](a),g=c.zIndexes;
d.parts.forEach(function(a){const k={"class":"highcharts-3d-"+a,zIndex:g[a]||0};e.styledMode&&("top"===a?k.filter="url(#highcharts-brighter)":"side"===a&&(k.filter="url(#highcharts-darker)"));d[a]=e.path(c[a]).attr(k).add(d)});d.attr({"stroke-linejoin":"round",zIndex:g.group});d.originalDestroy=d.destroy;d.destroy=d.destroyParts;d.forcedSides=c.forcedSides},singleSetterForParts:function(a,d,c,g,q,x){const e={};g=[null,null,g||"attr",q,x];const k=c&&c.zIndexes;c?(k&&k.group&&this.attr({zIndex:k.group}),
E(c,function(d,g){e[g]={};e[g][a]=d;k&&(e[g].zIndex=c.zIndexes[g]||0)}),g[1]=e):(e[a]=d,g[0]=e);return this.processParts.apply(this,g)},processParts:function(a,d,c,g,q){const e=this;e.parts.forEach(function(k){d&&(a=L(d[k],!1));if(!1!==a)e[k][c](a,g,q)});return e},destroyParts:function(){this.processParts(null,null,"destroy");return this.originalDestroy()}}};c.cuboid=K(c.base,{parts:["front","top","side"],pathType:"cuboid",attr:function(a,d,c,u){if("string"===typeof a&&"undefined"!==typeof d){const e=
a;a={};a[e]=d}return a.shapeArgs||g(a.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](a.shapeArgs||a)):y.prototype.attr.call(this,a,void 0,c,u)},animate:function(a,d,k){if(g(a.x)&&g(a.y)){a=this.renderer[this.pathType+"Path"](a);const e=a.forcedSides;this.singleSetterForParts("d",null,a,"animate",d,k);this.attr({zIndex:a.zIndexes.group});e!==this.forcedSides&&(this.forcedSides=e,this.renderer.styledMode||c.cuboid.fillSetter.call(this,this.fill))}else y.prototype.animate.call(this,
a,d,k);return this},fillSetter:function(a){this.forcedSides=this.forcedSides||[];this.singleSetterForParts("fill",null,{front:a,top:u(a).brighten(0<=this.forcedSides.indexOf("top")?0:.1).get(),side:u(a).brighten(0<=this.forcedSides.indexOf("side")?0:-.1).get()});this.color=this.fill=a;return this}});return c});F(a,"Core/Renderer/SVG/SVGRenderer3D.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Math3D.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGElement3D.js"],
a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,y,r,J,g,K,E,L){const {animObject:c}=a,{parse:e}=y,{charts:d,deg2rad:k}=r,{perspective:u,shapeArea:q}=J,{defined:x,extend:H,merge:m,pick:l}=L,I=Math.cos,M=Math.sin,z=Math.PI,N=4*(Math.sqrt(2)-1)/3/(z/2);class G extends E{static compose(f){f=f.prototype;const a=G.prototype;f.elements3d=K;f.arc3d=a.arc3d;f.arc3dPath=a.arc3dPath;f.cuboid=a.cuboid;f.cuboidPath=a.cuboidPath;f.element3d=a.element3d;f.face3d=a.face3d;f.polyhedron=a.polyhedron;
f.toLinePath=a.toLinePath;f.toLineSegments=a.toLineSegments}static curveTo(a,d,b,n,h,v,w,A){let C=[],f=v-h;return v>h&&v-h>Math.PI/2+1E-4?(C=C.concat(this.curveTo(a,d,b,n,h,h+Math.PI/2,w,A)),C=C.concat(this.curveTo(a,d,b,n,h+Math.PI/2,v,w,A))):v<h&&h-v>Math.PI/2+1E-4?(C=C.concat(this.curveTo(a,d,b,n,h,h-Math.PI/2,w,A)),C=C.concat(this.curveTo(a,d,b,n,h-Math.PI/2,v,w,A))):[["C",a+b*Math.cos(h)-b*N*f*Math.sin(h)+w,d+n*Math.sin(h)+n*N*f*Math.cos(h)+A,a+b*Math.cos(v)+b*N*f*Math.sin(v)+w,d+n*Math.sin(v)-
n*N*f*Math.cos(v)+A,a+b*Math.cos(v)+w,d+n*Math.sin(v)+A]]}toLinePath(a,d){const b=[];a.forEach(function(a){b.push(["L",a.x,a.y])});a.length&&(b[0][0]="M",d&&b.push(["Z"]));return b}toLineSegments(a){let f=[],b=!0;a.forEach(function(a){f.push(b?["M",a.x,a.y]:["L",a.x,a.y]);b=!b});return f}face3d(a){const f=this,b=this.createElement("path");b.vertexes=[];b.insidePlotArea=!1;b.enabled=!0;b.attr=function(b){if("object"===typeof b&&(x(b.enabled)||x(b.vertexes)||x(b.insidePlotArea))){this.enabled=l(b.enabled,
this.enabled);this.vertexes=l(b.vertexes,this.vertexes);this.insidePlotArea=l(b.insidePlotArea,this.insidePlotArea);delete b.enabled;delete b.vertexes;delete b.insidePlotArea;var h=u(this.vertexes,d[f.chartIndex],this.insidePlotArea);const a=f.toLinePath(h,!0);h=q(h);b.d=a;b.visibility=this.enabled&&0<h?"inherit":"hidden"}return g.prototype.attr.apply(this,arguments)};b.animate=function(b){if("object"===typeof b&&(x(b.enabled)||x(b.vertexes)||x(b.insidePlotArea))){this.enabled=l(b.enabled,this.enabled);
this.vertexes=l(b.vertexes,this.vertexes);this.insidePlotArea=l(b.insidePlotArea,this.insidePlotArea);delete b.enabled;delete b.vertexes;delete b.insidePlotArea;var h=u(this.vertexes,d[f.chartIndex],this.insidePlotArea);const a=f.toLinePath(h,!0);h=q(h);h=this.enabled&&0<h?"visible":"hidden";b.d=a;this.attr("visibility",h)}return g.prototype.animate.apply(this,arguments)};return b.attr(a)}polyhedron(a){const f=this,b=this.g(),d=b.destroy;this.styledMode||b.attr({"stroke-linejoin":"round"});b.faces=
[];b.destroy=function(){for(let h=0;h<b.faces.length;h++)b.faces[h].destroy();return d.call(this)};b.attr=function(h,a,w,A){if("object"===typeof h&&x(h.faces)){for(;b.faces.length>h.faces.length;)b.faces.pop().destroy();for(;b.faces.length<h.faces.length;)b.faces.push(f.face3d().add(b));for(let a=0;a<h.faces.length;a++)f.styledMode&&delete h.faces[a].fill,b.faces[a].attr(h.faces[a],null,w,A);delete h.faces}return g.prototype.attr.apply(this,arguments)};b.animate=function(h,a,w){if(h&&h.faces){for(;b.faces.length>
h.faces.length;)b.faces.pop().destroy();for(;b.faces.length<h.faces.length;)b.faces.push(f.face3d().add(b));for(let f=0;f<h.faces.length;f++)b.faces[f].animate(h.faces[f],a,w);delete h.faces}return g.prototype.animate.apply(this,arguments)};return b.attr(a)}element3d(a,d){const b=this.g();H(b,this.elements3d[a]);b.initArgs(d);return b}cuboid(a){return this.element3d("cuboid",a)}cuboidPath(a){function f(h){return 0===w&&1<h&&6>h?{x:B[h].x,y:B[h].y+10,z:B[h].z}:B[0].x===B[7].x&&4<=h?{x:B[h].x+10,y:B[h].y,
z:B[h].z}:0===C&&2>h||5<h?{x:B[h].x,y:B[h].y,z:B[h].z+10}:B[h]}function b(h){return B[h]}let n=a.x||0,h=a.y||0,v=a.z||0,w=a.height||0;var A=a.width||0;let C=a.depth||0,D=d[this.chartIndex];let P,e,c=D.options.chart.options3d.alpha,p=0,B=[{x:n,y:h,z:v},{x:n+A,y:h,z:v},{x:n+A,y:h+w,z:v},{x:n,y:h+w,z:v},{x:n,y:h+w,z:v+C},{x:n+A,y:h+w,z:v+C},{x:n+A,y:h,z:v+C},{x:n,y:h,z:v+C}],g=[];B=u(B,D,a.insidePlotArea);var k=function(h,w,a){let C=[[],-1],d=h.map(b),v=w.map(b);h=h.map(f);w=w.map(f);0>q(d)?C=[d,0]:
0>q(v)?C=[v,1]:a&&(g.push(a),C=0>q(h)?[d,0]:0>q(w)?[v,1]:[d,0]);return C};var m=k([3,2,1,0],[7,6,5,4],"front");a=m[0];P=m[1];m=k([1,6,7,0],[4,5,2,3],"top");A=m[0];e=m[1];m=k([1,2,5,6],[0,7,4,3],"side");k=m[0];m=m[1];1===m?p+=1E6*(D.plotWidth-n):m||(p+=1E6*n);p+=10*(!e||0<=c&&180>=c||360>c&&357.5<c?D.plotHeight-h:10+h);1===P?p+=100*v:P||(p+=100*(1E3-v));return{front:this.toLinePath(a,!0),top:this.toLinePath(A,!0),side:this.toLinePath(k,!0),zIndexes:{group:Math.round(p)},forcedSides:g,isFront:P,isTop:e}}arc3d(a){function d(a){let w=
!1,b={},C;a=m(a);for(C in a)-1!==h.indexOf(C)&&(b[C]=a[C],delete a[C],w=!0);return w?[b,a]:!1}const b=this.g(),f=b.renderer,h="x y r innerR start end depth".split(" ");a=m(a);a.alpha=(a.alpha||0)*k;a.beta=(a.beta||0)*k;b.top=f.path();b.side1=f.path();b.side2=f.path();b.inn=f.path();b.out=f.path();b.onAdd=function(){const h=b.parentGroup,a=b.attr("class");b.top.add(b);["out","inn","side1","side2"].forEach(function(w){b[w].attr({"class":a+" highcharts-3d-side"}).add(h)})};["addClass","removeClass"].forEach(function(h){b[h]=
function(){const a=arguments;["top","out","inn","side1","side2"].forEach(function(w){b[w][h].apply(b[w],a)})}});b.setPaths=function(h){const a=b.renderer.arc3dPath(h),d=100*a.zTop;b.attribs=h;b.top.attr({d:a.top,zIndex:a.zTop});b.inn.attr({d:a.inn,zIndex:a.zInn});b.out.attr({d:a.out,zIndex:a.zOut});b.side1.attr({d:a.side1,zIndex:a.zSide1});b.side2.attr({d:a.side2,zIndex:a.zSide2});b.zIndex=d;b.attr({zIndex:d});h.center&&(b.top.setRadialReference(h.center),delete h.center)};b.setPaths(a);b.fillSetter=
function(h){const a=e(h).brighten(-.1).get();this.fill=h;this.side1.attr({fill:a});this.side2.attr({fill:a});this.inn.attr({fill:a});this.out.attr({fill:a});this.top.attr({fill:h});return this};["opacity","translateX","translateY","visibility"].forEach(function(a){b[a+"Setter"]=function(a,h){b[h]=a;["out","inn","side1","side2","top"].forEach(function(w){b[w].attr(h,a)})}});b.attr=function(a){let h,f;"object"===typeof a&&(f=d(a))&&(h=f[0],arguments[0]=f[1],H(b.attribs,h),b.setPaths(b.attribs));return g.prototype.attr.apply(b,
arguments)};b.animate=function(a,h,f){let w=this.attribs,A,v,n="data-"+Math.random().toString(26).substring(2,9);delete a.center;delete a.z;delete a.alpha;delete a.beta;v=c(l(h,this.renderer.globalAnimation));v.duration&&(h=d(a),b[n]=0,a[n]=1,b[n+"Setter"]=r.noop,h&&(A=h[0],v.step=function(a,h){function b(a){return w[a]+(l(A[a],w[a])-w[a])*h.pos}h.prop===n&&h.elem.setPaths(m(w,{x:b("x"),y:b("y"),r:b("r"),innerR:b("innerR"),start:b("start"),end:b("end"),depth:b("depth")}))}),h=v);return g.prototype.animate.call(this,
a,h,f)};b.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();this.side2.destroy();return g.prototype.destroy.call(this)};b.hide=function(){this.top.hide();this.out.hide();this.inn.hide();this.side1.hide();this.side2.hide()};b.show=function(a){this.top.show(a);this.out.show(a);this.inn.show(a);this.side1.show(a);this.side2.show(a)};return b}arc3dPath(a){function d(a){a%=2*Math.PI;a>Math.PI&&(a=2*Math.PI-a);return a}var b=a.x||0,f=a.y||0,h=a.start||0,v=
(a.end||0)-1E-5,w=a.r||0,A=a.innerR||0,C=a.depth||0,D=a.alpha||0,c=a.beta||0,e=Math.cos(h);const g=Math.sin(h);a=Math.cos(v);var p=Math.sin(v);const B=w*Math.cos(c);w*=Math.cos(D);const k=A*Math.cos(c),m=A*Math.cos(D);A=C*Math.sin(c);const l=C*Math.sin(D);C=[["M",b+B*e,f+w*g]];C=C.concat(G.curveTo(b,f,B,w,h,v,0,0));C.push(["L",b+k*a,f+m*p]);C=C.concat(G.curveTo(b,f,k,m,v,h,0,0));C.push(["Z"]);var u=0<c?Math.PI/2:0;c=0<D?0:Math.PI/2;u=h>-u?h:v>-u?-u:h;const x=v<z-c?v:h<z-c?z-c:v,q=2*z-c;D=[["M",b+
B*I(u),f+w*M(u)]];D=D.concat(G.curveTo(b,f,B,w,u,x,0,0));v>q&&h<q?(D.push(["L",b+B*I(x)+A,f+w*M(x)+l]),D=D.concat(G.curveTo(b,f,B,w,x,q,A,l)),D.push(["L",b+B*I(q),f+w*M(q)]),D=D.concat(G.curveTo(b,f,B,w,q,v,0,0)),D.push(["L",b+B*I(v)+A,f+w*M(v)+l]),D=D.concat(G.curveTo(b,f,B,w,v,q,A,l)),D.push(["L",b+B*I(q),f+w*M(q)]),D=D.concat(G.curveTo(b,f,B,w,q,x,0,0))):v>z-c&&h<z-c&&(D.push(["L",b+B*Math.cos(x)+A,f+w*Math.sin(x)+l]),D=D.concat(G.curveTo(b,f,B,w,x,v,A,l)),D.push(["L",b+B*Math.cos(v),f+w*Math.sin(v)]),
D=D.concat(G.curveTo(b,f,B,w,v,x,0,0)));D.push(["L",b+B*Math.cos(x)+A,f+w*Math.sin(x)+l]);D=D.concat(G.curveTo(b,f,B,w,x,u,A,l));D.push(["Z"]);c=[["M",b+k*e,f+m*g]];c=c.concat(G.curveTo(b,f,k,m,h,v,0,0));c.push(["L",b+k*Math.cos(v)+A,f+m*Math.sin(v)+l]);c=c.concat(G.curveTo(b,f,k,m,v,h,A,l));c.push(["Z"]);e=[["M",b+B*e,f+w*g],["L",b+B*e+A,f+w*g+l],["L",b+k*e+A,f+m*g+l],["L",b+k*e,f+m*g],["Z"]];b=[["M",b+B*a,f+w*p],["L",b+B*a+A,f+w*p+l],["L",b+k*a+A,f+m*p+l],["L",b+k*a,f+m*p],["Z"]];p=Math.atan2(l,
-A);f=Math.abs(v+p);a=Math.abs(h+p);h=Math.abs((h+v)/2+p);f=d(f);a=d(a);h=d(h);h*=1E5;v=1E5*a;f*=1E5;return{top:C,zTop:1E5*Math.PI+1,out:D,zOut:Math.max(h,v,f),inn:c,zInn:Math.max(h,v,f),side1:e,zSide1:.99*f,side2:b,zSide2:.99*v}}}return G});F(a,"Core/Chart/Chart3D.js",[a["Core/Color/Color.js"],a["Core/Defaults.js"],a["Core/Math3D.js"],a["Core/Utilities.js"]],function(a,y,r,J){const {parse:g}=a,{defaultOptions:u}=y,{perspective:E,shapeArea3D:L}=r,{addEvent:c,isArray:e,merge:d,pick:k,wrap:O}=J;var q;
(function(a){function q(a){this.is3d()&&"scatter"===a.options.type&&(a.options.type="scatter3d")}function m(){if(this.chart3d&&this.is3d()){const h=this.renderer;var a=this.options.chart.options3d;const b=this.chart3d.get3dFrame(),f=this.plotLeft,d=this.plotLeft+this.plotWidth,c=this.plotTop,e=this.plotTop+this.plotHeight;a=a.depth;const k=f-(b.left.visible?b.left.size:0),n=d+(b.right.visible?b.right.size:0),p=c-(b.top.visible?b.top.size:0),m=e+(b.bottom.visible?b.bottom.size:0),l=0-(b.front.visible?
b.front.size:0),t=a+(b.back.visible?b.back.size:0),z=this.hasRendered?"animate":"attr";this.chart3d.frame3d=b;this.frameShapes||(this.frameShapes={bottom:h.polyhedron().add(),top:h.polyhedron().add(),left:h.polyhedron().add(),right:h.polyhedron().add(),back:h.polyhedron().add(),front:h.polyhedron().add()});this.frameShapes.bottom[z]({"class":"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:b.bottom.frontFacing?-1E3:1E3,faces:[{fill:g(b.bottom.color).brighten(.1).get(),vertexes:[{x:k,y:m,z:l},
{x:n,y:m,z:l},{x:n,y:m,z:t},{x:k,y:m,z:t}],enabled:b.bottom.visible},{fill:g(b.bottom.color).brighten(.1).get(),vertexes:[{x:f,y:e,z:a},{x:d,y:e,z:a},{x:d,y:e,z:0},{x:f,y:e,z:0}],enabled:b.bottom.visible},{fill:g(b.bottom.color).brighten(-.1).get(),vertexes:[{x:k,y:m,z:l},{x:k,y:m,z:t},{x:f,y:e,z:a},{x:f,y:e,z:0}],enabled:b.bottom.visible&&!b.left.visible},{fill:g(b.bottom.color).brighten(-.1).get(),vertexes:[{x:n,y:m,z:t},{x:n,y:m,z:l},{x:d,y:e,z:0},{x:d,y:e,z:a}],enabled:b.bottom.visible&&!b.right.visible},
{fill:g(b.bottom.color).get(),vertexes:[{x:n,y:m,z:l},{x:k,y:m,z:l},{x:f,y:e,z:0},{x:d,y:e,z:0}],enabled:b.bottom.visible&&!b.front.visible},{fill:g(b.bottom.color).get(),vertexes:[{x:k,y:m,z:t},{x:n,y:m,z:t},{x:d,y:e,z:a},{x:f,y:e,z:a}],enabled:b.bottom.visible&&!b.back.visible}]});this.frameShapes.top[z]({"class":"highcharts-3d-frame highcharts-3d-frame-top",zIndex:b.top.frontFacing?-1E3:1E3,faces:[{fill:g(b.top.color).brighten(.1).get(),vertexes:[{x:k,y:p,z:t},{x:n,y:p,z:t},{x:n,y:p,z:l},{x:k,
y:p,z:l}],enabled:b.top.visible},{fill:g(b.top.color).brighten(.1).get(),vertexes:[{x:f,y:c,z:0},{x:d,y:c,z:0},{x:d,y:c,z:a},{x:f,y:c,z:a}],enabled:b.top.visible},{fill:g(b.top.color).brighten(-.1).get(),vertexes:[{x:k,y:p,z:t},{x:k,y:p,z:l},{x:f,y:c,z:0},{x:f,y:c,z:a}],enabled:b.top.visible&&!b.left.visible},{fill:g(b.top.color).brighten(-.1).get(),vertexes:[{x:n,y:p,z:l},{x:n,y:p,z:t},{x:d,y:c,z:a},{x:d,y:c,z:0}],enabled:b.top.visible&&!b.right.visible},{fill:g(b.top.color).get(),vertexes:[{x:k,
y:p,z:l},{x:n,y:p,z:l},{x:d,y:c,z:0},{x:f,y:c,z:0}],enabled:b.top.visible&&!b.front.visible},{fill:g(b.top.color).get(),vertexes:[{x:n,y:p,z:t},{x:k,y:p,z:t},{x:f,y:c,z:a},{x:d,y:c,z:a}],enabled:b.top.visible&&!b.back.visible}]});this.frameShapes.left[z]({"class":"highcharts-3d-frame highcharts-3d-frame-left",zIndex:b.left.frontFacing?-1E3:1E3,faces:[{fill:g(b.left.color).brighten(.1).get(),vertexes:[{x:k,y:m,z:l},{x:f,y:e,z:0},{x:f,y:e,z:a},{x:k,y:m,z:t}],enabled:b.left.visible&&!b.bottom.visible},
{fill:g(b.left.color).brighten(.1).get(),vertexes:[{x:k,y:p,z:t},{x:f,y:c,z:a},{x:f,y:c,z:0},{x:k,y:p,z:l}],enabled:b.left.visible&&!b.top.visible},{fill:g(b.left.color).brighten(-.1).get(),vertexes:[{x:k,y:m,z:t},{x:k,y:p,z:t},{x:k,y:p,z:l},{x:k,y:m,z:l}],enabled:b.left.visible},{fill:g(b.left.color).brighten(-.1).get(),vertexes:[{x:f,y:c,z:a},{x:f,y:e,z:a},{x:f,y:e,z:0},{x:f,y:c,z:0}],enabled:b.left.visible},{fill:g(b.left.color).get(),vertexes:[{x:k,y:m,z:l},{x:k,y:p,z:l},{x:f,y:c,z:0},{x:f,y:e,
z:0}],enabled:b.left.visible&&!b.front.visible},{fill:g(b.left.color).get(),vertexes:[{x:k,y:p,z:t},{x:k,y:m,z:t},{x:f,y:e,z:a},{x:f,y:c,z:a}],enabled:b.left.visible&&!b.back.visible}]});this.frameShapes.right[z]({"class":"highcharts-3d-frame highcharts-3d-frame-right",zIndex:b.right.frontFacing?-1E3:1E3,faces:[{fill:g(b.right.color).brighten(.1).get(),vertexes:[{x:n,y:m,z:t},{x:d,y:e,z:a},{x:d,y:e,z:0},{x:n,y:m,z:l}],enabled:b.right.visible&&!b.bottom.visible},{fill:g(b.right.color).brighten(.1).get(),
vertexes:[{x:n,y:p,z:l},{x:d,y:c,z:0},{x:d,y:c,z:a},{x:n,y:p,z:t}],enabled:b.right.visible&&!b.top.visible},{fill:g(b.right.color).brighten(-.1).get(),vertexes:[{x:d,y:c,z:0},{x:d,y:e,z:0},{x:d,y:e,z:a},{x:d,y:c,z:a}],enabled:b.right.visible},{fill:g(b.right.color).brighten(-.1).get(),vertexes:[{x:n,y:m,z:l},{x:n,y:p,z:l},{x:n,y:p,z:t},{x:n,y:m,z:t}],enabled:b.right.visible},{fill:g(b.right.color).get(),vertexes:[{x:n,y:p,z:l},{x:n,y:m,z:l},{x:d,y:e,z:0},{x:d,y:c,z:0}],enabled:b.right.visible&&!b.front.visible},
{fill:g(b.right.color).get(),vertexes:[{x:n,y:m,z:t},{x:n,y:p,z:t},{x:d,y:c,z:a},{x:d,y:e,z:a}],enabled:b.right.visible&&!b.back.visible}]});this.frameShapes.back[z]({"class":"highcharts-3d-frame highcharts-3d-frame-back",zIndex:b.back.frontFacing?-1E3:1E3,faces:[{fill:g(b.back.color).brighten(.1).get(),vertexes:[{x:n,y:m,z:t},{x:k,y:m,z:t},{x:f,y:e,z:a},{x:d,y:e,z:a}],enabled:b.back.visible&&!b.bottom.visible},{fill:g(b.back.color).brighten(.1).get(),vertexes:[{x:k,y:p,z:t},{x:n,y:p,z:t},{x:d,y:c,
z:a},{x:f,y:c,z:a}],enabled:b.back.visible&&!b.top.visible},{fill:g(b.back.color).brighten(-.1).get(),vertexes:[{x:k,y:m,z:t},{x:k,y:p,z:t},{x:f,y:c,z:a},{x:f,y:e,z:a}],enabled:b.back.visible&&!b.left.visible},{fill:g(b.back.color).brighten(-.1).get(),vertexes:[{x:n,y:p,z:t},{x:n,y:m,z:t},{x:d,y:e,z:a},{x:d,y:c,z:a}],enabled:b.back.visible&&!b.right.visible},{fill:g(b.back.color).get(),vertexes:[{x:f,y:c,z:a},{x:d,y:c,z:a},{x:d,y:e,z:a},{x:f,y:e,z:a}],enabled:b.back.visible},{fill:g(b.back.color).get(),
vertexes:[{x:k,y:m,z:t},{x:n,y:m,z:t},{x:n,y:p,z:t},{x:k,y:p,z:t}],enabled:b.back.visible}]});this.frameShapes.front[z]({"class":"highcharts-3d-frame highcharts-3d-frame-front",zIndex:b.front.frontFacing?-1E3:1E3,faces:[{fill:g(b.front.color).brighten(.1).get(),vertexes:[{x:k,y:m,z:l},{x:n,y:m,z:l},{x:d,y:e,z:0},{x:f,y:e,z:0}],enabled:b.front.visible&&!b.bottom.visible},{fill:g(b.front.color).brighten(.1).get(),vertexes:[{x:n,y:p,z:l},{x:k,y:p,z:l},{x:f,y:c,z:0},{x:d,y:c,z:0}],enabled:b.front.visible&&
!b.top.visible},{fill:g(b.front.color).brighten(-.1).get(),vertexes:[{x:k,y:p,z:l},{x:k,y:m,z:l},{x:f,y:e,z:0},{x:f,y:c,z:0}],enabled:b.front.visible&&!b.left.visible},{fill:g(b.front.color).brighten(-.1).get(),vertexes:[{x:n,y:m,z:l},{x:n,y:p,z:l},{x:d,y:c,z:0},{x:d,y:e,z:0}],enabled:b.front.visible&&!b.right.visible},{fill:g(b.front.color).get(),vertexes:[{x:d,y:c,z:0},{x:f,y:c,z:0},{x:f,y:e,z:0},{x:d,y:e,z:0}],enabled:b.front.visible},{fill:g(b.front.color).get(),vertexes:[{x:n,y:m,z:l},{x:k,y:m,
z:l},{x:k,y:p,z:l},{x:n,y:p,z:l}],enabled:b.front.visible}]})}}function l(){this.styledMode&&[{name:"darker",slope:.6},{name:"brighter",slope:1.4}].forEach(function(a){this.renderer.definition({tagName:"filter",attributes:{id:"highcharts-"+a.name},children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",attributes:{type:"linear",slope:a.slope}},{tagName:"feFuncG",attributes:{type:"linear",slope:a.slope}},{tagName:"feFuncB",attributes:{type:"linear",slope:a.slope}}]}]})},this)}function x(){const a=
this.options;this.is3d()&&(a.series||[]).forEach(function(b){"scatter"===(b.type||a.chart.type||a.chart.defaultSeriesType)&&(b.type="scatter3d")})}function M(){const a=this.options.chart.options3d;if(this.chart3d&&this.is3d()){a&&(a.alpha=a.alpha%360+(0<=a.alpha?0:360),a.beta=a.beta%360+(0<=a.beta?0:360));const b=this.inverted,f=this.clipBox,h=this.margin,d=b?"x":"y",c=b?"height":"width",e=b?"width":"height";f[b?"y":"x"]=-(h[3]||0);f[d]=-(h[0]||0);f[c]=this.chartWidth+(h[3]||0)+(h[1]||0);f[e]=this.chartHeight+
(h[0]||0)+(h[2]||0);this.scale3d=1;!0===a.fitToPlot&&(this.scale3d=this.chart3d.getScale(a.depth));this.chart3d.frame3d=this.chart3d.get3dFrame()}}function z(){this.is3d()&&(this.isDirtyBox=!0)}function r(){this.chart3d&&this.is3d()&&(this.chart3d.frame3d=this.chart3d.get3dFrame())}function G(){this.chart3d||(this.chart3d=new n(this))}function f(a){return this.is3d()||a.apply(this,[].slice.call(arguments,1))}function t(a){let b=this.series.length;if(this.is3d())for(;b--;)a=this.series[b],a.translate(),
a.render();else a.call(this)}function b(a){a.apply(this,[].slice.call(arguments,1));this.is3d()&&(this.container.className+=" highcharts-3d-chart")}class n{constructor(a){this.frame3d=void 0;this.chart=a}get3dFrame(){function a(a,b,f){const d=["size","color","visible"],h={};for(let b=0;b<d.length;b++){const f=d[b];for(let b=0;b<a.length;b++)if("object"===typeof a[b]){const d=a[b][f];if("undefined"!==typeof d&&null!==d){h[f]=d;break}}}a=f;!0===h.visible||!1===h.visible?a=h.visible:"auto"===h.visible&&
(a=0<b);return{size:k(h.size,1),color:k(h.color,"none"),frontFacing:0<b,visible:a}}function b(a){a=L(a,f);return.5<a?1:-.5>a?-1:0}const f=this.chart;var d=f.options.chart.options3d,c=d.frame,e=f.plotLeft;const n=f.plotLeft+f.plotWidth,m=f.plotTop;var l=f.plotTop+f.plotHeight;const t=d.depth;var g=b([{x:e,y:l,z:t},{x:n,y:l,z:t},{x:n,y:l,z:0},{x:e,y:l,z:0}]),z=b([{x:e,y:m,z:0},{x:n,y:m,z:0},{x:n,y:m,z:t},{x:e,y:m,z:t}]),u=b([{x:e,y:m,z:0},{x:e,y:m,z:t},{x:e,y:l,z:t},{x:e,y:l,z:0}]),q=b([{x:n,y:m,z:t},
{x:n,y:m,z:0},{x:n,y:l,z:0},{x:n,y:l,z:t}]);const x=b([{x:e,y:l,z:0},{x:n,y:l,z:0},{x:n,y:m,z:0},{x:e,y:m,z:0}]),M=b([{x:e,y:m,z:t},{x:n,y:m,z:t},{x:n,y:l,z:t},{x:e,y:l,z:t}]);let I=!1,G=!1,r=!1,y=!1;[].concat(f.xAxis,f.yAxis,f.zAxis).forEach(function(a){a&&(a.horiz?a.opposite?G=!0:I=!0:a.opposite?y=!0:r=!0)});c={axes:{},bottom:a([c.bottom,c.top,c],g,I),top:a([c.top,c.bottom,c],z,G),left:a([c.left,c.right,c.side,c],u,r),right:a([c.right,c.left,c.side,c],q,y),back:a([c.back,c.front,c],M,!0),front:a([c.front,
c.back,c],x,!1)};"auto"===d.axisLabelPosition?(q=function(a,b){return a.visible!==b.visible||a.visible&&b.visible&&a.frontFacing!==b.frontFacing},d=[],q(c.left,c.front)&&d.push({y:(m+l)/2,x:e,z:0,xDir:{x:1,y:0,z:0}}),q(c.left,c.back)&&d.push({y:(m+l)/2,x:e,z:t,xDir:{x:0,y:0,z:-1}}),q(c.right,c.front)&&d.push({y:(m+l)/2,x:n,z:0,xDir:{x:0,y:0,z:1}}),q(c.right,c.back)&&d.push({y:(m+l)/2,x:n,z:t,xDir:{x:-1,y:0,z:0}}),g=[],q(c.bottom,c.front)&&g.push({x:(e+n)/2,y:l,z:0,xDir:{x:1,y:0,z:0}}),q(c.bottom,
c.back)&&g.push({x:(e+n)/2,y:l,z:t,xDir:{x:-1,y:0,z:0}}),z=[],q(c.top,c.front)&&z.push({x:(e+n)/2,y:m,z:0,xDir:{x:1,y:0,z:0}}),q(c.top,c.back)&&z.push({x:(e+n)/2,y:m,z:t,xDir:{x:-1,y:0,z:0}}),u=[],q(c.bottom,c.left)&&u.push({z:(0+t)/2,y:l,x:e,xDir:{x:0,y:0,z:-1}}),q(c.bottom,c.right)&&u.push({z:(0+t)/2,y:l,x:n,xDir:{x:0,y:0,z:1}}),l=[],q(c.top,c.left)&&l.push({z:(0+t)/2,y:m,x:e,xDir:{x:0,y:0,z:-1}}),q(c.top,c.right)&&l.push({z:(0+t)/2,y:m,x:n,xDir:{x:0,y:0,z:1}}),e=function(a,b,d){if(0===a.length)return null;
if(1===a.length)return a[0];const h=E(a,f,!1);let c=0;for(let a=1;a<h.length;a++)d*h[a][b]>d*h[c][b]?c=a:d*h[a][b]===d*h[c][b]&&h[a].z<h[c].z&&(c=a);return a[c]},c.axes={y:{left:e(d,"x",-1),right:e(d,"x",1)},x:{top:e(z,"y",-1),bottom:e(g,"y",1)},z:{top:e(l,"y",-1),bottom:e(u,"y",1)}}):c.axes={y:{left:{x:e,z:0,xDir:{x:1,y:0,z:0}},right:{x:n,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:m,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:l,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:r?n:e,y:m,xDir:r?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:r?
n:e,y:l,xDir:r?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}};return c}getScale(a){const b=this.chart,f=b.plotLeft,d=b.plotWidth+f,h=b.plotTop,c=b.plotHeight+h,e=f+b.plotWidth/2,n=h+b.plotHeight/2;var m=Number.MAX_VALUE,l=-Number.MAX_VALUE,k=Number.MAX_VALUE,t=-Number.MAX_VALUE;let g,z=1;g=[{x:f,y:h,z:0},{x:f,y:h,z:a}];[0,1].forEach(function(a){g.push({x:d,y:g[a].y,z:g[a].z})});[0,1,2,3].forEach(function(a){g.push({x:g[a].x,y:c,z:g[a].z})});g=E(g,b,!1);g.forEach(function(a){m=Math.min(m,a.x);l=Math.max(l,a.x);k=
Math.min(k,a.y);t=Math.max(t,a.y)});f>m&&(z=Math.min(z,1-Math.abs((f+e)/(m+e))%1));d<l&&(z=Math.min(z,(d-e)/(l-e)));h>k&&(z=0>k?Math.min(z,(h+n)/(-k+h+n)):Math.min(z,1-(h+n)/(k+n)%1));c<t&&(z=Math.min(z,Math.abs((c-n)/(t-n))));return z}}a.Composition=n;a.defaultOptions={chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}};a.compose=function(h,n){const k=h.prototype;
n=n.prototype;k.is3d=function(){return!(!this.options.chart.options3d||!this.options.chart.options3d.enabled)};k.propsRequireDirtyBox.push("chart.options3d");k.propsRequireUpdateSeries.push("chart.options3d");n.matrixSetter=function(){let a;if(1>this.pos&&(e(this.start)||e(this.end))){const b=this.start||[1,0,0,1,0,0],f=this.end||[1,0,0,1,0,0];a=[];for(let d=0;6>d;d++)a.push(this.pos*f[d]+(1-this.pos)*b[d])}else a=this.end;this.elem.attr(this.prop,a,null,!0)};d(!0,u,a.defaultOptions);c(h,"init",G);
c(h,"addSeries",q);c(h,"afterDrawChartBox",m);c(h,"afterGetContainer",l);c(h,"afterInit",x);c(h,"afterSetChartSize",M);c(h,"beforeRedraw",z);c(h,"beforeRender",r);O(k,"isInsidePlot",f);O(k,"renderSeries",t);O(k,"setClassName",b)}})(q||(q={}));"";return q});F(a,"Core/Axis/ZAxis.js",[a["Core/Axis/Axis.js"],a["Core/Utilities.js"]],function(a,y){function u(a){return new e(this,a)}function J(){const a=this.options.zAxis=L(this.options.zAxis||{});this.is3d()&&(this.zAxis=[],a.forEach(a=>{this.addZAxis(a).setScale()}))}
const {addEvent:g,merge:K,pick:E,splat:L}=y,c=[];class e extends a{constructor(){super(...arguments);this.isZAxis=!0}static compose(a){y.pushUnique(c,a)&&(g(a,"afterGetAxes",J),a=a.prototype,a.addZAxis=u,a.collectionsWithInit.zAxis=[a.addZAxis],a.collectionsWithUpdate.push("zAxis"))}init(a,c){this.isZAxis=!0;super.init(a,c,"zAxis")}getSeriesExtremes(){const a=this.chart;this.hasVisibleSeries=!1;this.dataMin=this.dataMax=this.ignoreMinPadding=this.ignoreMaxPadding=void 0;this.stacking&&this.stacking.buildStacks();
this.series.forEach(d=>{if(d.visible||!a.options.chart.ignoreHiddenSeries)this.hasVisibleSeries=!0,d=d.zData,d.length&&(this.dataMin=Math.min(E(this.dataMin,d[0]),Math.min.apply(null,d)),this.dataMax=Math.max(E(this.dataMax,d[0]),Math.max.apply(null,d)))})}setAxisSize(){const a=this.chart;super.setAxisSize();this.width=this.len=a.options.chart.options3d&&a.options.chart.options3d.depth||0;this.right=a.chartWidth-this.width-this.left}setOptions(a){a=K({offset:0,lineWidth:0},a);super.setOptions(a)}}
return e});F(a,"Core/Axis/Axis3DDefaults.js",[],function(){return{labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}}});F(a,"Core/Axis/Tick3DComposition.js",[a["Core/Utilities.js"]],function(a){function u(a){const c=this.axis.axis3D;c&&g(a.pos,c.fix3dPosition(a.pos))}function r(a){var c=this.axis.axis3D;const e=a.apply(this,[].slice.call(arguments,1));if(c){const a=e[0],k=e[1];if("M"===a[0]&&"L"===k[0])return c=[c.fix3dPosition({x:a[1],y:a[2],z:0}),c.fix3dPosition({x:k[1],
y:k[2],z:0})],this.axis.chart.renderer.toLineSegments(c)}return e}const {addEvent:J,extend:g,wrap:K}=a,E=[];return{compose:function(g){a.pushUnique(E,g)&&(J(g,"afterGetLabelPosition",u),K(g.prototype,"getMarkPath",r))}}});F(a,"Core/Axis/Axis3DComposition.js",[a["Core/Axis/Axis3DDefaults.js"],a["Core/Globals.js"],a["Core/Math3D.js"],a["Core/Axis/Tick3DComposition.js"],a["Core/Utilities.js"]],function(a,y,r,J,g){function u(){const a=this.chart,d=this.options;a.is3d&&a.is3d()&&"colorAxis"!==this.coll&&
(d.tickWidth=M(d.tickWidth,0),d.gridLineWidth=M(d.gridLineWidth,1))}function E(a){this.chart.is3d()&&"colorAxis"!==this.coll&&a.point&&(a.point.crosshairPos=this.isXAxis?a.point.axisXpos:this.len-a.point.axisYpos)}function L(){this.axis3D||(this.axis3D=new G(this))}function c(a){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:a.apply(this,[].slice.call(arguments,1))}function e(a){if(!this.chart.is3d()||"colorAxis"===this.coll)return a.apply(this,[].slice.call(arguments,1));var f=arguments,b=
f[2];const d=[];f=this.getPlotLinePath({value:f[1]});b=this.getPlotLinePath({value:b});if(f&&b)for(let a=0;a<f.length;a+=2){const h=f[a],c=f[a+1],e=b[a],n=b[a+1];"M"===h[0]&&"L"===c[0]&&"M"===e[0]&&"L"===n[0]&&d.push(h,c,n,["L",e[1],e[2]],["Z"])}return d}function d(a){var f=this.axis3D;const b=this.chart;var d=a.apply(this,[].slice.call(arguments,1));if("colorAxis"===this.coll||!b.chart3d||!b.is3d()||null===d)return d;var h=b.options.chart.options3d;const c=this.isZAxis?b.plotWidth:h.depth;h=b.chart3d.frame3d;
const e=d[0],m=d[1];d=[];"M"===e[0]&&"L"===m[0]&&(f=[f.swapZ({x:e[1],y:e[2],z:0}),f.swapZ({x:e[1],y:e[2],z:c}),f.swapZ({x:m[1],y:m[2],z:0}),f.swapZ({x:m[1],y:m[2],z:c})],this.horiz?(this.isZAxis?(h.left.visible&&d.push(f[0],f[2]),h.right.visible&&d.push(f[1],f[3])):(h.front.visible&&d.push(f[0],f[2]),h.back.visible&&d.push(f[1],f[3])),h.top.visible&&d.push(f[0],f[1]),h.bottom.visible&&d.push(f[2],f[3])):(h.front.visible&&d.push(f[0],f[2]),h.back.visible&&d.push(f[1],f[3]),h.left.visible&&d.push(f[0],
f[1]),h.right.visible&&d.push(f[2],f[3])),d=x(d,this.chart,!1));return b.renderer.toLineSegments(d)}function k(a,d){var b=this.chart,f=this.ticks,h=this.gridGroup;if(this.categories&&b.frameShapes&&b.is3d()&&h&&d&&d.label){h=h.element.childNodes[0].getBBox();const a=b.frameShapes.left.getBBox();var c=b.options.chart.options3d;b={x:b.plotWidth/2,y:b.plotHeight/2,z:c.depth/2,vd:M(c.depth,1)*M(c.viewDistance,0)};c=d.pos;const e=f[c-1];f=f[c+1];let m,l;0!==c&&e&&e.label&&e.label.xy&&(m=H({x:e.label.xy.x,
y:e.label.xy.y,z:null},b,b.vd));f&&f.label&&f.label.xy&&(l=H({x:f.label.xy.x,y:f.label.xy.y,z:null},b,b.vd));f={x:d.label.xy.x,y:d.label.xy.y,z:null};f=H(f,b,b.vd);return Math.abs(m?f.x-m.x:l?l.x-f.x:h.x-a.x)}return a.apply(this,[].slice.call(arguments,1))}function O(a){const f=a.apply(this,[].slice.call(arguments,1));return this.axis3D?this.axis3D.fix3dPosition(f,!0):f}const {deg2rad:q}=y,{perspective:x,perspective3D:H,shapeArea:m}=r,{addEvent:l,merge:I,pick:M,wrap:z}=g,N=[];class G{static compose(f,
m){J.compose(m);g.pushUnique(N,f)&&(I(!0,f.defaultOptions,a),f.keepProps.push("axis3D"),l(f,"init",L),l(f,"afterSetOptions",u),l(f,"drawCrosshair",E),f=f.prototype,z(f,"getLinePath",c),z(f,"getPlotBandPath",e),z(f,"getPlotLinePath",d),z(f,"getSlotWidth",k),z(f,"getTitlePosition",O))}constructor(a){this.axis=a}fix3dPosition(a,d){const b=this.axis;var c=b.chart;if("colorAxis"===b.coll||!c.chart3d||!c.is3d())return a;var f=q*c.options.chart.options3d.alpha,e=q*c.options.chart.options3d.beta,l=M(d&&b.options.title.position3d,
b.options.labels.position3d);d=M(d&&b.options.title.skew3d,b.options.labels.skew3d);const k=c.chart3d.frame3d;var g=c.plotLeft;const z=c.plotWidth+g,t=c.plotTop,u=c.plotHeight+t;let I=c=0;var p={x:0,y:1,z:0};let G=!1;a=b.axis3D.swapZ({x:a.x,y:a.y,z:0});if(b.isZAxis)if(b.opposite){if(null===k.axes.z.top)return{};I=a.y-t;a.x=k.axes.z.top.x;a.y=k.axes.z.top.y;g=k.axes.z.top.xDir;G=!k.top.frontFacing}else{if(null===k.axes.z.bottom)return{};I=a.y-u;a.x=k.axes.z.bottom.x;a.y=k.axes.z.bottom.y;g=k.axes.z.bottom.xDir;
G=!k.bottom.frontFacing}else if(b.horiz)if(b.opposite){if(null===k.axes.x.top)return{};I=a.y-t;a.y=k.axes.x.top.y;a.z=k.axes.x.top.z;g=k.axes.x.top.xDir;G=!k.top.frontFacing}else{if(null===k.axes.x.bottom)return{};I=a.y-u;a.y=k.axes.x.bottom.y;a.z=k.axes.x.bottom.z;g=k.axes.x.bottom.xDir;G=!k.bottom.frontFacing}else if(b.opposite){if(null===k.axes.y.right)return{};c=a.x-z;a.x=k.axes.y.right.x;a.z=k.axes.y.right.z;g=k.axes.y.right.xDir;g={x:g.z,y:g.y,z:-g.x}}else{if(null===k.axes.y.left)return{};c=
a.x-g;a.x=k.axes.y.left.x;a.z=k.axes.y.left.z;g=k.axes.y.left.xDir}"chart"!==l&&("flap"===l?b.horiz?(e=Math.sin(f),f=Math.cos(f),b.opposite&&(e=-e),G&&(e=-e),p={x:g.z*e,y:f,z:-g.x*e}):g={x:Math.cos(e),y:0,z:Math.sin(e)}:"ortho"===l?b.horiz?(p=Math.cos(f),l=Math.sin(e)*p,f=-Math.sin(f),e=-p*Math.cos(e),p={x:g.y*e-g.z*f,y:g.z*l-g.x*e,z:g.x*f-g.y*l},f=1/Math.sqrt(p.x*p.x+p.y*p.y+p.z*p.z),G&&(f=-f),p={x:f*p.x,y:f*p.y,z:f*p.z}):g={x:Math.cos(e),y:0,z:Math.sin(e)}:b.horiz?p={x:Math.sin(e)*Math.sin(f),y:Math.cos(f),
z:-Math.cos(e)*Math.sin(f)}:g={x:Math.cos(e),y:0,z:Math.sin(e)});a.x+=c*g.x+I*p.x;a.y+=c*g.y+I*p.y;a.z+=c*g.z+I*p.z;c=x([a],b.chart)[0];d&&(0>m(x([a,{x:a.x+g.x,y:a.y+g.y,z:a.z+g.z},{x:a.x+p.x,y:a.y+p.y,z:a.z+p.z}],b.chart))&&(g={x:-g.x,y:-g.y,z:-g.z}),a=x([{x:a.x,y:a.y,z:a.z},{x:a.x+g.x,y:a.y+g.y,z:a.z+g.z},{x:a.x+p.x,y:a.y+p.y,z:a.z+p.z}],b.chart),c.matrix=[a[1].x-a[0].x,a[1].y-a[0].y,a[2].x-a[0].x,a[2].y-a[0].y,c.x,c.y],c.matrix[4]-=c.x*c.matrix[0]+c.y*c.matrix[2],c.matrix[5]-=c.x*c.matrix[1]+c.y*
c.matrix[3]);return c}swapZ(a,c){const b=this.axis;return b.isZAxis?(c=c?0:b.chart.plotLeft,{x:c+a.z,y:a.y,z:a.x-c}):a}}return G});F(a,"Core/Series/Series3D.js",[a["Core/Math3D.js"],a["Core/Series/Series.js"],a["Core/Utilities.js"]],function(a,y,r){const {perspective:u}=a,{addEvent:g,extend:K,merge:E,pick:L,isNumber:c}=r;class e extends y{translate(){super.translate.apply(this,arguments);this.chart.is3d()&&this.translate3dPoints()}translate3dPoints(){var a=this.options,e=this.chart,g=L(this.zAxis,
e.options.zAxis[0]);let q=[],x,r,m=[];this.zPadding=(a.stacking?c(a.stack)?a.stack:0:this.index||0)*(a.depth||0+(a.groupZPadding||1));for(r=0;r<this.data.length;r++)a=this.data[r],g&&g.translate?(x=g.logarithmic&&g.val2lin?g.val2lin(a.z):a.z,a.plotZ=g.translate(x),a.isInside=a.isInside?x>=g.min&&x<=g.max:!1):a.plotZ=this.zPadding,a.axisXpos=a.plotX,a.axisYpos=a.plotY,a.axisZpos=a.plotZ,q.push({x:a.plotX,y:a.plotY,z:a.plotZ}),m.push(a.plotX||0);this.rawPointsX=m;e=u(q,e,!0);for(r=0;r<this.data.length;r++)a=
this.data[r],g=e[r],a.plotX=g.x,a.plotY=g.y,a.plotZ=g.z}}e.defaultOptions=E(y.defaultOptions);g(y,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()});K(y.prototype,{translate3dPoints:e.prototype.translate3dPoints});return e});F(a,"Series/Area3D/Area3DSeries.js",[a["Core/Math3D.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,y,r){function u(a){const c=a.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return c;var d=K.getGraphPath,k=this.options;
const u=Math.round(this.yAxis.getThreshold(k.threshold));let q=[];if(this.rawPointsX)for(let a=0;a<this.points.length;a++)q.push({x:this.rawPointsX[a],y:k.stacking?this.points[a].yBottom:u,z:this.zPadding});k=this.chart.options.chart.options3d;q=g(q,this.chart,!0).map(a=>({plotX:a.x,plotY:a.y,plotZ:a.z}));this.group&&k&&k.depth&&k.beta&&(this.markerGroup&&(this.markerGroup.add(this.group),this.markerGroup.attr({translateX:0,translateY:0})),this.group.attr({zIndex:Math.max(1,270<k.beta||90>k.beta?
k.depth-Math.round(this.zPadding||0):Math.round(this.zPadding||0))}));q.reversed=!0;d=d.call(this,q,!0,!0);d[0]&&"M"===d[0][0]&&(d[0]=["L",d[0][1],d[0][2]]);this.areaPath&&(d=this.areaPath.splice(0,this.areaPath.length/2).concat(d),d.xMap=this.areaPath.xMap,this.areaPath=d);return c}const {perspective:g}=a,{seriesTypes:{line:{prototype:K}}}=y,{wrap:E}=r,L=[];return{compose:function(a){r.pushUnique(L,a)&&E(a.prototype,"getGraphPath",u)}}});F(a,"Series/Column3D/Column3DComposition.js",[a["Series/Column/ColumnSeries.js"],
a["Core/Series/Series.js"],a["Core/Math3D.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Axis/Stacking/StackItem.js"],a["Core/Utilities.js"]],function(a,y,r,J,g,K){function u(a,c){const d=a.series,e={totalStacks:0};let g,m=1;d.forEach(function(a){g=x(a.options.stack,c?0:d.length-1-a.index);e[g]?e[g].series.push(a):(e[g]={series:[a],position:m},m++)});e.totalStacks=m+1;return e}function L(a){const c=a.apply(this,[].slice.call(arguments,1));this.chart.is3d&&this.chart.is3d()&&(c.stroke=this.options.edgeColor||
c.fill,c["stroke-width"]=x(this.options.edgeWidth,1));return c}function c(a,c,d){const e=this.chart.is3d&&this.chart.is3d();e&&(this.options.inactiveOtherPoints=!0);a.call(this,c,d);e&&(this.options.inactiveOtherPoints=!1)}function e(a,...c){return this.series.chart.is3d()?this.graphic&&"g"!==this.graphic.element.nodeName:a.apply(this,c)}const {prototype:d}=a,{perspective:k}=r,{addEvent:F,extend:q,pick:x,wrap:H}=K;H(d,"translate",function(a){a.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&
this.translate3dShapes()});H(y.prototype,"justifyDataLabel",function(a){return arguments[2].outside3dPlot?!1:a.apply(this,[].slice.call(arguments,1))});d.translate3dPoints=function(){};d.translate3dShapes=function(){let a=this,c=a.chart,d=a.options,e=d.depth,g=(d.stacking?d.stack||0:a.index)*(e+(d.groupZPadding||1)),u=a.borderWidth%2?.5:0,r;c.inverted&&!a.yAxis.reversed&&(u*=-1);!1!==d.grouping&&(g=0);g+=d.groupZPadding||1;a.data.forEach(function(d){d.outside3dPlot=null;if(null!==d.y){const b=q({x:0,
y:0,width:0,height:0},d.shapeArgs||{});var f=d.tooltipPos;let m;[["x","width"],["y","height"]].forEach(c=>{m=b[c[0]]-u;0>m&&(b[c[1]]+=b[c[0]]+u,b[c[0]]=-u,m=0);m+b[c[1]]>a[c[0]+"Axis"].len&&0!==b[c[1]]&&(b[c[1]]=a[c[0]+"Axis"].len-b[c[0]]);if(0!==b[c[1]]&&(b[c[0]]>=a[c[0]+"Axis"].len||b[c[0]]+b[c[1]]<=u)){for(const a in b)b[a]="y"===a?-9999:0;d.outside3dPlot=!0}});"roundedRect"===d.shapeType&&(d.shapeType="cuboid");d.shapeArgs=q(b,{z:g,depth:e,insidePlotArea:!0});r={x:b.x+b.width/2,y:b.y,z:g+e/2};
c.inverted&&(r.x=b.height,r.y=d.clientX||0);d.plot3d=k([r],c,!0,!1)[0];f&&(f=k([{x:f[0],y:f[1],z:g+e/2}],c,!0,!1)[0],d.tooltipPos=[f.x,f.y])}});a.z=g};H(d,"animate",function(a){if(this.chart.is3d()){const a=this.yAxis,c=this,d=this.yAxis.reversed;arguments[1]?c.data.forEach(function(c){null!==c.y&&(c.height=c.shapeArgs.height,c.shapey=c.shapeArgs.y,c.shapeArgs.height=1,d||(c.shapeArgs.y=c.stackY?c.plotY+a.translate(c.stackY):c.plotY+(c.negative?-c.height:c.height)))}):(c.data.forEach(function(a){if(null!==
a.y&&(a.shapeArgs.height=a.height,a.shapeArgs.y=a.shapey,a.graphic))a.graphic[a.outside3dPlot?"attr":"animate"](a.shapeArgs,c.options.animation)}),this.drawDataLabels())}else a.apply(this,[].slice.call(arguments,1))});H(d,"plotGroup",function(a,c,d,e,g,k){"dataLabelsGroup"!==c&&"markerGroup"!==c&&this.chart.is3d()&&(this[c]&&delete this[c],k&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(k)),this[c]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),
this[c].survive=!0,"group"===c&&(arguments[3]="visible")));return a.apply(this,Array.prototype.slice.call(arguments,1))});H(d,"setVisible",function(a,c){const d=this;d.chart.is3d()&&d.data.forEach(function(a){a.visible=a.options.visible=c="undefined"===typeof c?!x(d.visible,a.visible):c;d.options.data[d.data.indexOf(a)]=a.options;a.graphic&&a.graphic.attr({visibility:c?"visible":"hidden"})});a.apply(this,Array.prototype.slice.call(arguments,1))});F(a,"afterInit",function(){if(this.chart.is3d()){let e=
this.options;var a=e.grouping,c=e.stacking;let g=this.yAxis.options.reversedStacks;var d=0;if("undefined"===typeof a||a){a=u(this.chart,c);d=e.stack||0;for(c=0;c<a[d].series.length&&a[d].series[c]!==this;c++);d=10*(a.totalStacks-a[d].position)+(g?c:-c);this.xAxis.reversed||(d=10*a.totalStacks-d)}e.depth=e.depth||25;this.z=this.z||0;e.zIndex=d}});H(d,"pointAttribs",L);H(d,"setState",c);H(d.pointClass.prototype,"hasNewShapeType",e);J.seriesTypes.columnRange&&(r=J.seriesTypes.columnrange.prototype,H(r,
"pointAttribs",L),H(r,"setState",c),H(r.pointClass.prototype,"hasNewShapeType",e),r.plotGroup=d.plotGroup,r.setVisible=d.setVisible);H(y.prototype,"alignDataLabel",function(a,c,d,e,g){const m=this.chart;e.outside3dPlot=c.outside3dPlot;if(m.is3d()&&this.is("column")){var l=this.options;const a=x(e.inside,!!this.options.stacking),d=m.options.chart.options3d,b=c.pointWidth/2||0;l={x:g.x+b,y:g.y,z:this.z+l.depth/2};m.inverted&&(a&&(g.width=0,l.x+=c.shapeArgs.height/2),90<=d.alpha&&270>=d.alpha&&(l.y+=
c.shapeArgs.width));l=k([l],m,!0,!1)[0];g.x=l.x-b;g.y=c.outside3dPlot?-9E9:l.y}a.apply(this,[].slice.call(arguments,1))});H(g.prototype,"getStackBox",function(a,c){const d=a.apply(this,[].slice.call(arguments,1)),e=this.axis.chart,{width:g}=c;if(e.is3d()&&this.base){var m=+this.base.split(",")[0],l=e.series[m];m=e.options.chart.options3d;l&&l instanceof J.seriesTypes.column&&(l={x:d.x+(e.inverted?d.height:g/2),y:d.y,z:l.options.depth/2},e.inverted&&(d.width=0,90<=m.alpha&&270>=m.alpha&&(l.y+=g)),
l=k([l],e,!0,!1)[0],d.x=l.x-g/2,d.y=l.y)}return d});"";return a});F(a,"Series/Pie3D/Pie3DPoint.js",[a["Core/Series/SeriesRegistry.js"]],function(a){({seriesTypes:{pie:{prototype:{pointClass:a}}}}=a);const u=a.prototype.haloPath;class r extends a{constructor(){super(...arguments);this.series=void 0}haloPath(){var a;return(null===(a=this.series)||void 0===a?0:a.chart.is3d())?[]:u.apply(this,arguments)}}return r});F(a,"Series/Pie3D/Pie3DSeries.js",[a["Core/Globals.js"],a["Series/Pie3D/Pie3DPoint.js"],
a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,y,r,J){const {deg2rad:g}=a;({seriesTypes:{pie:a}}=r);const {extend:u,pick:E}=J;class F extends a{addPoint(){super.addPoint.apply(this,arguments);this.chart.is3d()&&this.update(this.userOptions,!0)}animate(a){if(this.chart.is3d()){let d=this.options.animation;var c=this.center;let e=this.group,g=this.markerGroup;!0===d&&(d={});a?(e.oldtranslateX=E(e.oldtranslateX,e.translateX),e.oldtranslateY=E(e.oldtranslateY,e.translateY),c={translateX:c[0],
translateY:c[1],scaleX:.001,scaleY:.001},e.attr(c),g&&(g.attrSetters=e.attrSetters,g.attr(c))):(c={translateX:e.oldtranslateX,translateY:e.oldtranslateY,scaleX:1,scaleY:1},e.animate(c,d),g&&g.animate(c,d))}else super.animate.apply(this,arguments)}getDataLabelPosition(a,e){e=super.getDataLabelPosition(a,e);if(this.chart.is3d()){const c=this.chart.options.chart.options3d;a=a.shapeArgs;const k=a.r,u=(a.start+a.end)/2,q=e.connectorPosition,r=-k*(1-Math.cos((a.alpha||(null===c||void 0===c?NaN:c.alpha))*
g))*Math.sin(u),y=k*(Math.cos((a.beta||(null===c||void 0===c?NaN:c.beta))*g)-1)*Math.cos(u);[null===e||void 0===e?void 0:e.natural,q.breakAt,q.touchingSliceAt].forEach(function(a){a.x+=y;a.y+=r})}return e}pointAttribs(a){const c=super.pointAttribs.apply(this,arguments),d=this.options;this.chart.is3d()&&!this.chart.styledMode&&(c.stroke=d.edgeColor||a.color||this.color,c["stroke-width"]=E(d.edgeWidth,1));return c}translate(){super.translate.apply(this,arguments);if(this.chart.is3d()){var a=this,e=
a.options,d=e.depth||0,k=a.chart.options.chart.options3d,u=k.alpha,q=k.beta,r=e.stacking?(e.stack||0)*d:a._i*d;r+=d/2;!1!==e.grouping&&(r=0);a.data.forEach(function(c){var k=c.shapeArgs;c.shapeType="arc3d";k.z=r;k.depth=.75*d;k.alpha=u;k.beta=q;k.center=a.center;k=(k.end+k.start)/2;c.slicedTranslation={translateX:Math.round(Math.cos(k)*e.slicedOffset*Math.cos(u*g)),translateY:Math.round(Math.sin(k)*e.slicedOffset*Math.cos(u*g))}})}}drawTracker(){super.drawTracker.apply(this,arguments);this.chart.is3d()&&
this.points.forEach(function(a){a.graphic&&["out","inn","side1","side2"].forEach(c=>{a.graphic&&(a.graphic[c].element.point=a)})})}}u(F.prototype,{pointClass:y});"";return F});F(a,"Series/Pie3D/Pie3DComposition.js",[a["Series/Pie3D/Pie3DPoint.js"],a["Series/Pie3D/Pie3DSeries.js"],a["Core/Series/SeriesRegistry.js"]],function(a,y,r){r.seriesTypes.pie.prototype.pointClass.prototype.haloPath=a.prototype.haloPath;r.seriesTypes.pie=y});F(a,"Series/Scatter3D/Scatter3DPoint.js",[a["Series/Scatter/ScatterSeries.js"],
a["Core/Utilities.js"]],function(a,y){const {defined:u}=y;class F extends a.prototype.pointClass{constructor(){super(...arguments);this.series=this.options=void 0}applyOptions(){super.applyOptions.apply(this,arguments);u(this.z)||(this.z=0);return this}}return F});F(a,"Series/Scatter3D/Scatter3DSeries.js",[a["Core/Math3D.js"],a["Series/Scatter3D/Scatter3DPoint.js"],a["Series/Scatter/ScatterSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,y,r,F,g){const {pointCameraDistance:u}=
a,{extend:E,merge:J}=g;class c extends r{constructor(){super(...arguments);this.points=this.options=this.data=void 0}pointAttribs(a){const c=super.pointAttribs.apply(this,arguments);this.chart.is3d()&&a&&(c.zIndex=u(a,this.chart));return c}}c.defaultOptions=J(r.defaultOptions,{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}});E(c.prototype,{axisTypes:["xAxis","yAxis","zAxis"],directTouch:!0,parallelArrays:["x","y","z"],pointArrayMap:["x","y","z"],pointClass:y});
F.registerSeriesType("scatter3d",c);"";return c});F(a,"masters/highcharts-3d.src.js",[a["Core/Globals.js"],a["Core/Renderer/SVG/SVGRenderer3D.js"],a["Core/Chart/Chart3D.js"],a["Core/Axis/ZAxis.js"],a["Core/Axis/Axis3DComposition.js"],a["Series/Area3D/Area3DSeries.js"]],function(a,y,r,F,g,K){y.compose(a.SVGRenderer);r.compose(a.Chart,a.Fx);F.compose(a.Chart);g.compose(a.Axis,a.Tick);K.compose(a.seriesTypes.area)})});
//# sourceMappingURL=highcharts-3d.js.map