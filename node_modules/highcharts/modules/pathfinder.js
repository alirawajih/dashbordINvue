!/**
 * Highcharts Gantt JS v11.4.8 (2024-10-09)
 *
 * Pathfinder
 *
 * (c) 2016-2024 Ã˜ystein Moseng
 *
 * License: www.highcharts.com/license
 */function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/pathfinder",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";var e=t?t._modules:{};function n(e,n,i,r){e.hasOwnProperty(n)||(e[n]=r.apply(null,i),"function"==typeof CustomEvent&&t.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:n,module:e[n]}})))}n(e,"Gantt/Connection.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e){let{defined:n,error:i,merge:r,objectEach:a}=e,o=t.deg2rad,s=Math.max,h=Math.min;return class{constructor(t,e,n){this.init(t,e,n)}init(t,e,n){this.fromPoint=t,this.toPoint=e,this.options=n,this.chart=t.series.chart,this.pathfinder=this.chart.pathfinder}renderPath(t,e){let n=this.chart,i=n.styledMode,r=this.pathfinder,a={},o=this.graphics&&this.graphics.path;r.group||(r.group=n.renderer.g().addClass("highcharts-pathfinder-group").attr({zIndex:-1}).add(n.seriesGroup)),r.group.translate(n.plotLeft,n.plotTop),o&&o.renderer||(o=n.renderer.path().add(r.group),i||o.attr({opacity:0})),o.attr(e),a.d=t,i||(a.opacity=1),o.animate(a),this.graphics=this.graphics||{},this.graphics.path=o}addMarker(t,e,n){let i,r,a,s,h,c,l,x;let M=this.fromPoint.series.chart,d=M.pathfinder,y=M.renderer,f="start"===t?this.fromPoint:this.toPoint,u=f.getPathfinderAnchorPoint(e);e.enabled&&((x="start"===t?n[1]:n[n.length-2])&&"M"===x[0]||"L"===x[0])&&(l={x:x[1],y:x[2]},r=f.getRadiansToVector(l,u),i=f.getMarkerVector(r,e.radius,u),a=-r/o,e.width&&e.height?(h=e.width,c=e.height):h=c=2*e.radius,this.graphics=this.graphics||{},s={x:i.x-h/2,y:i.y-c/2,width:h,height:c,rotation:a,rotationOriginX:i.x,rotationOriginY:i.y},this.graphics[t]?this.graphics[t].animate(s):(this.graphics[t]=y.symbol(e.symbol).addClass("highcharts-point-connecting-path-"+t+"-marker highcharts-color-"+this.fromPoint.colorIndex).attr(s).add(d.group),y.styledMode||this.graphics[t].attr({fill:e.color||this.fromPoint.color,stroke:e.lineColor,"stroke-width":e.lineWidth,opacity:0}).animate({opacity:1},f.series.options.animation)))}getPath(t){let e=this.pathfinder,n=this.chart,a=e.algorithms[t.type],o=e.chartObstacles;return"function"!=typeof a?(i('"'+t.type+'" is not a Pathfinder algorithm.'),{path:[],obstacles:[]}):(a.requiresObstacles&&!o&&(o=e.chartObstacles=e.getChartObstacles(t),n.options.connectors.algorithmMargin=t.algorithmMargin,e.chartObstacleMetrics=e.getObstacleMetrics(o)),a(this.fromPoint.getPathfinderAnchorPoint(t.startMarker),this.toPoint.getPathfinderAnchorPoint(t.endMarker),r({chartObstacles:o,lineObstacles:e.lineObstacles||[],obstacleMetrics:e.chartObstacleMetrics,hardBounds:{xMin:0,xMax:n.plotWidth,yMin:0,yMax:n.plotHeight},obstacleOptions:{margin:t.algorithmMargin},startDirectionX:e.getAlgorithmStartDirection(t.startMarker)},t)))}render(){let t=this.fromPoint,e=t.series,i=e.chart,a=i.pathfinder,o={},c=r(i.options.connectors,e.options.connectors,t.options.connectors,this.options);!i.styledMode&&(o.stroke=c.lineColor||t.color,o["stroke-width"]=c.lineWidth,c.dashStyle&&(o.dashstyle=c.dashStyle)),o.class="highcharts-point-connecting-path highcharts-color-"+t.colorIndex,n((c=r(o,c)).marker.radius)||(c.marker.radius=h(s(Math.ceil((c.algorithmMargin||8)/2)-1,1),5));let l=this.getPath(c),x=l.path;l.obstacles&&(a.lineObstacles=a.lineObstacles||[],a.lineObstacles=a.lineObstacles.concat(l.obstacles)),this.renderPath(x,o),this.addMarker("start",r(c.marker,c.startMarker),x),this.addMarker("end",r(c.marker,c.endMarker),x)}destroy(){this.graphics&&(a(this.graphics,function(t){t.destroy()}),delete this.graphics)}}}),n(e,"Series/PathUtilities.js",[],function(){function t(t,e){let n=[];for(let i=0;i<t.length;i++){let r=t[i][1],a=t[i][2];if("number"==typeof r&&"number"==typeof a){if(0===i)n.push(["M",r,a]);else if(i===t.length-1)n.push(["L",r,a]);else if(e){let o=t[i-1],s=t[i+1];if(o&&s){let t=o[1],i=o[2],h=s[1],c=s[2];if("number"==typeof t&&"number"==typeof h&&"number"==typeof i&&"number"==typeof c&&t!==h&&i!==c){let o=t<h?1:-1,s=i<c?1:-1;n.push(["L",r-o*Math.min(Math.abs(r-t),e),a-s*Math.min(Math.abs(a-i),e)],["C",r,a,r,a,r+o*Math.min(Math.abs(r-h),e),a+s*Math.min(Math.abs(a-c),e)])}}}else n.push(["L",r,a])}}return n}return{applyRadius:t,getLinkPath:{default:function(e){let{x1:n,y1:i,x2:r,y2:a,width:o=0,inverted:s=!1,radius:h,parentVisible:c}=e,l=[["M",n,i],["L",n,i],["C",n,i,n,a,n,a],["L",n,a],["C",n,i,n,a,n,a],["L",n,a]];return c?t([["M",n,i],["L",n+o*(s?-.5:.5),i],["L",n+o*(s?-.5:.5),a],["L",r,a]],h):l},straight:function(t){let{x1:e,y1:n,x2:i,y2:r,width:a=0,inverted:o=!1,parentVisible:s}=t;return s?[["M",e,n],["L",e+a*(o?-1:1),r],["L",i,r]]:[["M",e,n],["L",e,r],["L",e,r]]},curved:function(t){let{x1:e,y1:n,x2:i,y2:r,offset:a=0,width:o=0,inverted:s=!1,parentVisible:h}=t;return h?[["M",e,n],["C",e+a,n,e-a+o*(s?-1:1),r,e+o*(s?-1:1),r],["L",i,r]]:[["M",e,n],["C",e,n,e,r,e,r],["L",i,r]]}}}}),n(e,"Gantt/PathfinderAlgorithms.js",[e["Series/PathUtilities.js"],e["Core/Utilities.js"]],function(t,e){let{pick:n}=e,{min:i,max:r,abs:a}=Math;function o(t,e,n){let i=e-1e-7,r=n||0,a=t.length-1,o,s;for(;r<=a;)if((s=i-t[o=a+r>>1].xMin)>0)r=o+1;else{if(!(s<0))return o;a=o-1}return r>0?r-1:0}function s(t,e){let n=o(t,e.x+1)+1;for(;n--;){var i;if(t[n].xMax>=e.x&&(i=t[n],e.x<=i.xMax&&e.x>=i.xMin&&e.y<=i.yMax&&e.y>=i.yMin))return n}return -1}function h(t){let e=[];if(t.length){e.push(["M",t[0].start.x,t[0].start.y]);for(let n=0;n<t.length;++n)e.push(["L",t[n].end.x,t[n].end.y])}return e}function c(t,e){t.yMin=r(t.yMin,e.yMin),t.yMax=i(t.yMax,e.yMax),t.xMin=r(t.xMin,e.xMin),t.xMax=i(t.xMax,e.xMax)}let l=function(e,i,r){let o=[],c=r.chartObstacles,l=s(c,e),x=s(c,i),M,d=n(r.startDirectionX,a(i.x-e.x)>a(i.y-e.y))?"x":"y",y,f,u,p;function g(t,e,n,i,r){let a={x:t.x,y:t.y};return a[e]=n[i||e]+(r||0),a}function m(t,e,n){let i=a(e[n]-t[n+"Min"])>a(e[n]-t[n+"Max"]);return g(e,n,t,n+(i?"Max":"Min"),i?1:-1)}x>-1?(M={start:f=m(c[x],i,d),end:i},p=f):p=i,l>-1&&(f=m(y=c[l],e,d),o.push({start:e,end:f}),f[d]>=e[d]==f[d]>=p[d]&&(u=e[d="y"===d?"x":"y"]<i[d],o.push({start:f,end:g(f,d,y,d+(u?"Max":"Min"),u?1:-1)}),d="y"===d?"x":"y"));let b=o.length?o[o.length-1].end:e;f=g(b,d,p),o.push({start:b,end:f});let P=g(f,d="y"===d?"x":"y",p);return o.push({start:f,end:P}),o.push(M),{path:t.applyRadius(h(o),r.radius),obstacles:o}};function x(t,e,l){let x=n(l.startDirectionX,a(e.x-t.x)>a(e.y-t.y)),M=x?"x":"y",d=[],y=l.obstacleMetrics,f=i(t.x,e.x)-y.maxWidth-10,u=r(t.x,e.x)+y.maxWidth+10,p=i(t.y,e.y)-y.maxHeight-10,g=r(t.y,e.y)+y.maxHeight+10,m,b,P,v=!1,C=l.chartObstacles,k=o(C,u),O=o(C,f);function w(t,e,n){let r,a,s,h;let c=t.x<e.x?1:-1;t.x<e.x?(r=t,a=e):(r=e,a=t),t.y<e.y?(h=t,s=e):(h=e,s=t);let l=c<0?i(o(C,a.x),C.length-1):0;for(;C[l]&&(c>0&&C[l].xMin<=a.x||c<0&&C[l].xMax>=r.x);){if(C[l].xMin<=a.x&&C[l].xMax>=r.x&&C[l].yMin<=s.y&&C[l].yMax>=h.y){if(n)return{y:t.y,x:t.x<e.x?C[l].xMin-1:C[l].xMax+1,obstacle:C[l]};return{x:t.x,y:t.y<e.y?C[l].yMin-1:C[l].yMax+1,obstacle:C[l]}}l+=c}return e}function L(t,e,n,i,r){let o=r.soft,s=r.hard,h=i?"x":"y",c={x:e.x,y:e.y},l={x:e.x,y:e.y},x=t[h+"Max"]>=o[h+"Max"],M=t[h+"Min"]<=o[h+"Min"],d=t[h+"Max"]>=s[h+"Max"],y=t[h+"Min"]<=s[h+"Min"],f=a(t[h+"Min"]-e[h]),u=a(t[h+"Max"]-e[h]),p=10>a(f-u)?e[h]<n[h]:u<f;l[h]=t[h+"Min"],c[h]=t[h+"Max"];let g=w(e,l,i)[h]!==l[h],m=w(e,c,i)[h]!==c[h];return p=g?!m||p:!m&&p,p=M?!x||p:!x&&p,p=y?!d||p:!d&&p}for((k=s(C=C.slice(O,k+1),e))>-1&&(P=function(t,e,n){let r=i(t.xMax-e.x,e.x-t.xMin)<i(t.yMax-e.y,e.y-t.yMin),a=L(t,e,n,r,{soft:l.hardBounds,hard:l.hardBounds});return r?{y:e.y,x:t[a?"xMax":"xMin"]+(a?1:-1)}:{x:e.x,y:t[a?"yMax":"yMin"]+(a?1:-1)}}(C[k],e,t),d.push({end:e,start:P}),e=P);(k=s(C,e))>-1;)b=e[M]-t[M]<0,(P={x:e.x,y:e.y})[M]=C[k][b?M+"Max":M+"Min"]+(b?1:-1),d.push({end:e,start:P}),e=P;return{path:h(m=(m=function t(e,n,a){let o,h,x,M,d,y,m;if(e.x===n.x&&e.y===n.y)return[];let b=a?"x":"y",P=l.obstacleOptions.margin,k={soft:{xMin:f,xMax:u,yMin:p,yMax:g},hard:l.hardBounds};return(d=s(C,e))>-1?(M=L(d=C[d],e,n,a,k),c(d,l.hardBounds),m=a?{y:e.y,x:d[M?"xMax":"xMin"]+(M?1:-1)}:{x:e.x,y:d[M?"yMax":"yMin"]+(M?1:-1)},(y=s(C,m))>-1&&(c(y=C[y],l.hardBounds),m[b]=M?r(d[b+"Max"]-P+1,(y[b+"Min"]+d[b+"Max"])/2):i(d[b+"Min"]+P-1,(y[b+"Max"]+d[b+"Min"])/2),e.x===m.x&&e.y===m.y?(v&&(m[b]=M?r(d[b+"Max"],y[b+"Max"])+1:i(d[b+"Min"],y[b+"Min"])-1),v=!v):v=!1),h=[{start:e,end:m}]):(o=w(e,{x:a?n.x:e.x,y:a?e.y:n.y},a),h=[{start:e,end:{x:o.x,y:o.y}}],o[a?"x":"y"]!==n[a?"x":"y"]&&(M=L(o.obstacle,o,n,!a,k),c(o.obstacle,l.hardBounds),x={x:a?o.x:o.obstacle[M?"xMax":"xMin"]+(M?1:-1),y:a?o.obstacle[M?"yMax":"yMin"]+(M?1:-1):o.y},a=!a,h=h.concat(t({x:o.x,y:o.y},x,a)))),h=h.concat(t(h[h.length-1].end,n,!a))}(t,e,x)).concat(d.reverse())),obstacles:m}}return l.requiresObstacles=!0,x.requiresObstacles=!0,{fastAvoid:x,straight:function(t,e){return{path:[["M",t.x,t.y],["L",e.x,e.y]],obstacles:[{start:t,end:e}]}},simpleConnect:l}}),n(e,"Gantt/ConnectorsDefaults.js",[],function(){return{connectors:{type:"straight",radius:0,lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}}}),n(e,"Gantt/PathfinderComposition.js",[e["Gantt/ConnectorsDefaults.js"],e["Core/Defaults.js"],e["Core/Utilities.js"]],function(t,e,n){var i;let{setOptions:r}=e,{defined:a,error:o,merge:s}=n;function h(t){let e=t.shapeArgs;if(e)return{xMin:e.x||0,xMax:(e.x||0)+(e.width||0),yMin:e.y||0,yMax:(e.y||0)+(e.height||0)};let n=t.graphic&&t.graphic.getBBox();return n?{xMin:t.plotX-n.width/2,xMax:t.plotX+n.width/2,yMin:t.plotY-n.height/2,yMax:t.plotY+n.height/2}:null}return function(e){function n(t){let e,n;let i=h(this);switch(t.align){case"right":e="xMax";break;case"left":e="xMin"}switch(t.verticalAlign){case"top":n="yMin";break;case"bottom":n="yMax"}return{x:e?i[e]:(i.xMin+i.xMax)/2,y:n?i[n]:(i.yMin+i.yMax)/2}}function i(t,e){let n;return!a(e)&&(n=h(this))&&(e={x:(n.xMin+n.xMax)/2,y:(n.yMin+n.yMax)/2}),Math.atan2(e.y-t.y,t.x-e.x)}function c(t,e,n){let i=2*Math.PI,r=h(this),a=r.xMax-r.xMin,o=r.yMax-r.yMin,s=Math.atan2(o,a),c=a/2,l=o/2,x=r.xMin+c,M=r.yMin+l,d={x:x,y:M},y=t,f=1,u=!1,p=1,g=1;for(;y<-Math.PI;)y+=i;for(;y>Math.PI;)y-=i;return f=Math.tan(y),y>-s&&y<=s?(g=-1,u=!0):y>s&&y<=Math.PI-s?g=-1:y>Math.PI-s||y<=-(Math.PI-s)?(p=-1,u=!0):p=-1,u?(d.x+=p*c,d.y+=g*c*f):(d.x+=o/(2*f)*p,d.y+=g*l),n.x!==x&&(d.x=n.x),n.y!==M&&(d.y=n.y),{x:d.x+e*Math.cos(y),y:d.y-e*Math.sin(y)}}e.compose=function(e,a,h){let l=h.prototype;l.getPathfinderAnchorPoint||(e.prototype.callbacks.push(function(t){!1!==t.options.connectors.enabled&&((t.options.pathfinder||t.series.reduce(function(t,e){return e.options&&s(!0,e.options.connectors=e.options.connectors||{},e.options.pathfinder),t||e.options&&e.options.pathfinder},!1))&&(s(!0,t.options.connectors=t.options.connectors||{},t.options.pathfinder),o('WARNING: Pathfinder options have been renamed. Use "chart.connectors" or "series.connectors" instead.')),this.pathfinder=new a(this),this.pathfinder.update(!0))}),l.getMarkerVector=c,l.getPathfinderAnchorPoint=n,l.getRadiansToVector=i,r(t))}}(i||(i={})),i}),n(e,"Gantt/Pathfinder.js",[e["Gantt/Connection.js"],e["Gantt/PathfinderAlgorithms.js"],e["Gantt/PathfinderComposition.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(t,e,n,i,r){let{addEvent:a,defined:o,pick:s,splat:h}=r,c=Math.max,l=Math.min;class x{static compose(t,e){n.compose(t,x,e)}constructor(t){this.init(t)}init(t){this.chart=t,this.connections=[],a(t,"redraw",function(){this.pathfinder.update()})}update(e){let n=this.chart,r=this,a=r.connections;r.connections=[],n.series.forEach(function(e){e.visible&&!e.options.isInternal&&e.points.forEach(function(e){let a;let o=e.options;o&&o.dependency&&(o.connect=o.dependency);let s=e.options?.connect?h(e.options.connect):[];e.visible&&!1!==e.isInside&&s.forEach(o=>{let s="string"==typeof o?o:o.to;s&&(a=n.get(s)),a instanceof i&&a.series.visible&&a.visible&&!1!==a.isInside&&r.connections.push(new t(e,a,"string"==typeof o?{}:o))})})});for(let t=0,e,n,i=a.length,o=r.connections.length;t<i;++t){n=!1;let i=a[t];for(e=0;e<o;++e){let t=r.connections[e];if((i.options&&i.options.type)===(t.options&&t.options.type)&&i.fromPoint===t.fromPoint&&i.toPoint===t.toPoint){t.graphics=i.graphics,n=!0;break}}n||i.destroy()}delete this.chartObstacles,delete this.lineObstacles,r.renderConnections(e)}renderConnections(t){t?this.chart.series.forEach(function(t){let e=function(){let e=t.chart.pathfinder;(e&&e.connections||[]).forEach(function(e){e.fromPoint&&e.fromPoint.series===t&&e.render()}),t.pathfinderRemoveRenderEvent&&(t.pathfinderRemoveRenderEvent(),delete t.pathfinderRemoveRenderEvent)};!1===t.options.animation?e():t.pathfinderRemoveRenderEvent=a(t,"afterAnimate",e)}):this.connections.forEach(function(t){t.render()})}getChartObstacles(t){let e=this.chart.series,n=s(t.algorithmMargin,0),i=[],r;for(let t=0,r=e.length;t<r;++t)if(e[t].visible&&!e[t].options.isInternal)for(let r=0,a=e[t].points.length,o,s;r<a;++r)(s=e[t].points[r]).visible&&(o=function(t){let e=t.shapeArgs;if(e)return{xMin:e.x||0,xMax:(e.x||0)+(e.width||0),yMin:e.y||0,yMax:(e.y||0)+(e.height||0)};let n=t.graphic&&t.graphic.getBBox();return n?{xMin:t.plotX-n.width/2,xMax:t.plotX+n.width/2,yMin:t.plotY-n.height/2,yMax:t.plotY+n.height/2}:null}(s))&&i.push({xMin:o.xMin-n,xMax:o.xMax+n,yMin:o.yMin-n,yMax:o.yMax+n});return i=i.sort(function(t,e){return t.xMin-e.xMin}),o(t.algorithmMargin)||(r=t.algorithmMargin=function(t){let e;let n=t.length,i=[];for(let r=0;r<n;++r)for(let a=r+1;a<n;++a)(e=function t(e,n,i){let r=s(i,10),a=e.yMax+r>n.yMin-r&&e.yMin-r<n.yMax+r,o=e.xMax+r>n.xMin-r&&e.xMin-r<n.xMax+r,h=a?e.xMin>n.xMax?e.xMin-n.xMax:n.xMin-e.xMax:1/0,c=o?e.yMin>n.yMax?e.yMin-n.yMax:n.yMin-e.yMax:1/0;return o&&a?r?t(e,n,Math.floor(r/2)):1/0:l(h,c)}(t[r],t[a]))<80&&i.push(e);return i.push(80),c(Math.floor(i.sort(function(t,e){return t-e})[Math.floor(i.length/10)]/2-1),1)}(i),i.forEach(function(t){t.xMin-=r,t.xMax+=r,t.yMin-=r,t.yMax+=r})),i}getObstacleMetrics(t){let e=0,n=0,i,r,a=t.length;for(;a--;)i=t[a].xMax-t[a].xMin,r=t[a].yMax-t[a].yMin,e<i&&(e=i),n<r&&(n=r);return{maxHeight:n,maxWidth:e}}getAlgorithmStartDirection(t){let e="left"!==t.align&&"right"!==t.align,n="top"!==t.verticalAlign&&"bottom"!==t.verticalAlign;return e?!!n&&void 0:!!n||void 0}}return x.prototype.algorithms=e,x}),n(e,"Extensions/ArrowSymbols.js",[],function(){function t(t,e,n,i){return[["M",t,e+i/2],["L",t+n,e],["L",t,e+i/2],["L",t+n,e+i]]}function e(e,n,i,r){return t(e,n,i/2,r)}function n(t,e,n,i){return[["M",t+n,e],["L",t,e+i/2],["L",t+n,e+i],["Z"]]}function i(t,e,i,r){return n(t,e,i/2,r)}return{compose:function(r){let a=r.prototype.symbols;a.arrow=t,a["arrow-filled"]=n,a["arrow-filled-half"]=i,a["arrow-half"]=e,a["triangle-left"]=n,a["triangle-left-half"]=i}}}),n(e,"masters/modules/pathfinder.src.js",[e["Core/Globals.js"],e["Gantt/Pathfinder.js"],e["Extensions/ArrowSymbols.js"]],function(t,e,n){return t.Pathfinder=t.Pathfinder||e,n.compose(t.SVGRenderer),t.Pathfinder.compose(t.Chart,t.Point),t})});