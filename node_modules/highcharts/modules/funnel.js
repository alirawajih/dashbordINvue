/*
 Highcharts JS v11.1.0 (2023-09-05)

 Highcharts funnel module

 (c) 2010-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/funnel",["highcharts"],function(p){a(p);a.Highcharts=p;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function p(a,y,C,f){a.hasOwnProperty(y)||(a[y]=f.apply(null,C),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:y,module:a[y]}})))}a=a?a._modules:
{};p(a,"Series/Funnel/FunnelSeries.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Extensions/BorderRadius.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,y,C,f,p){const {noop:P}=y,{series:N,seriesTypes:{pie:G}}=f,{addEvent:T,extend:U,fireEvent:V,isArray:W,merge:X,pick:Q,relativeLength:Y,splat:Z}=p;class D extends G{constructor(){super(...arguments);this.points=this.options=this.data=void 0}alignDataLabel(c,a,l,q,aa){var m=c.series;q=m.options.reversed;let n=c.dlBox||
c.shapeArgs,f=l.align,v=l.verticalAlign,p=((m.options||{}).dataLabels||{}).inside;var z=m.center[1];m=m.getWidthAt((q?2*z-c.plotY:c.plotY)-n.height/2+a.height);m="middle"===v?(n.topWidth-n.bottomWidth)/4:(m-n.bottomWidth)/2;z=n.y;let r=n.x;const u=Q(a.height,a.getBBox().height);"middle"===v?z=n.y-n.height/2+u/2:"top"===v&&(z=n.y-n.height+u+l.padding);if("top"===v&&!q||"bottom"===v&&q||"middle"===v)"right"===f?r=n.x-l.padding+m:"left"===f&&(r=n.x+l.padding-m);q={x:r,y:q?z-n.height:z,width:n.bottomWidth,
height:n.height};l.verticalAlign="bottom";p&&!c.visible||N.prototype.alignDataLabel.call(this,c,a,l,q,aa);p&&(!c.visible&&c.dataLabel&&(c.dataLabel.placed=!1),c.contrastColor&&a.css({color:c.contrastColor}))}drawDataLabels(){f.seriesTypes[Z(this.options.dataLabels)[0].inside?"column":"pie"].prototype.drawDataLabels.call(this)}getDataLabelPosition(a,m){const c=a.plotY||0,q=this.getX(c,!!a.half,a);return{distance:m,natural:{x:0,y:c},computed:{},alignment:a.half?"right":"left",connectorPosition:{breakAt:{x:q-
5*(a.half?1:-1),y:c},touchingSliceAt:{x:q,y:c}}}}translate(){function a(a,b){return/%$/.test(a)?b*parseInt(a,10)/100:parseInt(a,10)}let m=0,l=this;var q=l.chart;let f=l.options,p=f.reversed,n=f.ignoreHiddenPoint,y=C.optionsToObject(f.borderRadius),v=q.plotWidth;q=q.plotHeight;let D=0,z=f.center,r=a(z[0],v),u=a(z[1],q),G=a(f.width,v),A,B=a(f.height,q),H=a(f.neckWidth,v),O=a(f.neckHeight,q),I=u-B/2+B-O,K=l.data,t,L,S=Y(y.radius,G),M=y.scope,E,F,J=a=>{const b=Math.tan(a/2),d=Math.cos(E),R=Math.sin(E);
let e=S,c=e/b;a=Math.tan((Math.PI-a)/3.2104);c>F&&(c=F,e=c*b);a*=e;return{dx:[c*d,(c-a)*d,c-a,c],dy:[c*R,(c-a)*R,c-a,c].map(a=>p?-a:a)}},N="left"===f.dataLabels.position?1:0,w,h,x,e,d,k,g;l.getWidthAt=function(a){const b=u-B/2;return a>I||B===O?H:H+(G-H)*(1-(a-b)/(B-O))};l.getX=function(a,b,d){var c,e;return r+(b?-1:1)*(l.getWidthAt(p?2*u-a:a)/2+((null===(e=null===(c=d.dataLabel)||void 0===c?void 0:c.dataLabelPosition)||void 0===e?void 0:e.distance)||0))};l.center=[r,u,B];l.centerX=r;K.forEach(function(a){!a.y||
!a.isValid()||n&&!1===a.visible||(m+=a.y)});K.forEach(function(a){g=null;L=m?a.y/m:0;h=u-B/2+D*B;d=h+L*B;A=l.getWidthAt(h);w=r-A/2;x=w+A;A=l.getWidthAt(d);e=r-A/2;k=e+A;h>I?(w=e=r-H/2,x=k=r+H/2):d>I&&(g=d,A=l.getWidthAt(I),e=r-A/2,k=e+A,d=I);p&&(h=2*u-h,d=2*u-d,null!==g&&(g=2*u-g));if(!S||"point"!==M&&0!==a.index&&a.index!==K.length-1&&null===g)t=[["M",w,h],["L",x,h],["L",k,d]],null!==g&&t.push(["L",k,g],["L",e,g]),t.push(["L",e,d]);else{var b=Math.abs(d-h);const m=x-k;var c=k-e;const f=Math.sqrt(m*
m+b*b);E=Math.atan(b/m);F=f/2;null!==g&&(F=Math.min(F,Math.abs(g-d)/2));1<=c&&(F=Math.min(F,c/2));b=J(E);t="stack"===M&&0!==a.index?[["M",w,h],["L",x,h]]:[["M",w+b.dx[0],h+b.dy[0]],["C",w+b.dx[1],h+b.dy[1],w+b.dx[2],h,w+b.dx[3],h],["L",x-b.dx[3],h],["C",x-b.dx[2],h,x-b.dx[1],h+b.dy[1],x-b.dx[0],h+b.dy[0]]];null!==g?(c=J(Math.PI/2),b=J(Math.PI/2+E),t.push(["L",k+b.dx[0],d-b.dy[0]],["C",k+b.dx[1],d-b.dy[1],k,d+b.dy[2],k,d+b.dy[3]]),"stack"===M&&a.index!==K.length-1?t.push(["L",k,g],["L",e,g]):t.push(["L",
k,g-c.dy[3]],["C",k,g-c.dy[2],k-c.dx[2],g,k-c.dx[3],g],["L",e+c.dx[3],g],["C",e+c.dx[2],g,e,g-c.dy[2],e,g-c.dy[3]]),t.push(["L",e,d+b.dy[3]],["C",e,d+b.dy[2],e-b.dx[1],d-b.dy[1],e-b.dx[0],d-b.dy[0]])):1<=c?(b=J(Math.PI-E),"stack"===M&&0===a.index?t.push(["L",k,d],["L",e,d]):t.push(["L",k+b.dx[0],d-b.dy[0]],["C",k+b.dx[1],d-b.dy[1],k-b.dx[2],d,k-b.dx[3],d],["L",e+b.dx[3],d],["C",e+b.dx[2],d,e-b.dx[1],d-b.dy[1],e-b.dx[0],d-b.dy[0]])):(b=J(Math.PI-2*E),t.push(["L",e+b.dx[0],d-b.dy[0]],["C",e+b.dx[1],
d-b.dy[1],e-b.dx[1],d-b.dy[1],e-b.dx[0],d-b.dy[0]]))}t.push(["Z"]);a.shapeType="path";a.shapeArgs={d:t};a.percentage=100*L;a.plotX=r;a.plotY=(h+(g||d))/2;a.tooltipPos=[r,a.plotY];a.dlBox={x:e,y:h,topWidth:x-w,bottomWidth:k-e,height:Math.abs(Q(g,d)-h),width:NaN};a.slice=P;a.half=N;!a.isValid()||n&&!1===a.visible||(D+=L)});V(l,"afterTranslate")}sortByAngle(a){a.sort(function(a,c){return a.plotY-c.plotY})}}D.defaultOptions=X(G.defaultOptions,{animation:!1,borderRadius:0,center:["50%","50%"],width:"90%",
neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1,verticalAlign:"middle"},states:{select:{color:"#cccccc",borderColor:"#000000"}}});U(D.prototype,{animate:P});T(a,"afterHideAllOverlappingLabels",function(){this.series.forEach(function(a){let c=a.options&&a.options.dataLabels;W(c)&&(c=c[0]);a.is("pie")&&a.placeDataLabels&&c&&!c.inside&&a.placeDataLabels()})});f.registerSeriesType("funnel",D);"";return D});p(a,"Series/Pyramid/PyramidSeries.js",[a["Series/Funnel/FunnelSeries.js"],
a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,p,C){({merge:C}=C);class f extends a{constructor(){super(...arguments);this.points=this.options=this.data=void 0}}f.defaultOptions=C(a.defaultOptions,{neckWidth:"0%",neckHeight:"0%",reversed:!0});p.registerSeriesType("pyramid",f);"";return f});p(a,"masters/modules/funnel.src.js",[],function(){})});
//# sourceMappingURL=funnel.js.map