/*
 Highcharts JS v11.1.0 (2023-09-05)

 Dependency wheel module

 (c) 2010-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/dependency-wheel",["highcharts","highcharts/modules/sankey"],function(b){a(b);a.Highcharts=b;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function b(a,h,b,k){a.hasOwnProperty(h)||(a[h]=k.apply(null,b),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:h,
module:a[h]}})))}a=a?a._modules:{};b(a,"Series/DependencyWheel/DependencyWheelPoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,b){({seriesTypes:{sankey:{prototype:{pointClass:a}}}}=a);const {pInt:h,wrap:k}=b;class u extends a{constructor(){super(...arguments);this.toNode=this.shapeArgs=this.series=this.options=this.linksTo=this.linksFrom=this.index=this.fromNode=this.angle=void 0}getDataLabelPath(a){var b;const w=this.series.chart.renderer,f=this.shapeArgs,l=0>this.angle||
this.angle>Math.PI,m=f.start||0,q=f.end||0;this.dataLabelPath?(this.dataLabelPath=this.dataLabelPath.destroy(),delete this.dataLabelPath):k(a,"destroy",b=>{this.dataLabelPath&&(this.dataLabelPath=this.dataLabelPath.destroy());return b.call(a)});return this.dataLabelPath=w.arc({open:!0,longArc:Math.abs(Math.abs(m)-Math.abs(q))<Math.PI?0:1}).attr({x:f.x,y:f.y,r:(f.r||0)+h((null===(b=a.options)||void 0===b?void 0:b.distance)||0),start:l?m:q,end:l?q:m,clockwise:+l}).add(w.defs)}isValid(){return!0}}return u});
b(a,"Series/DependencyWheel/DependencyWheelSeriesDefaults.js",[],function(){"";return{center:[null,null],curveFactor:.6,startAngle:0,dataLabels:{textPath:{enabled:!1,attributes:{dy:5}}}}});b(a,"Series/DependencyWheel/DependencyWheelSeries.js",[a["Core/Animation/AnimationUtilities.js"],a["Series/DependencyWheel/DependencyWheelPoint.js"],a["Series/DependencyWheel/DependencyWheelSeriesDefaults.js"],a["Core/Globals.js"],a["Series/Sankey/SankeyColumnComposition.js"],a["Core/Series/SeriesRegistry.js"],
a["Core/Utilities.js"]],function(a,b,x,k,u,v,y){const {animObject:h}=a,{deg2rad:f}=k,{seriesTypes:{pie:l,sankey:m}}=v,{extend:q,merge:z}=y;class r extends m{constructor(){super(...arguments);this.points=this.nodes=this.nodeColumns=this.options=this.data=void 0}animate(a){if(!a){const a=h(this.options.animation).duration/2/this.nodes.length;this.nodes.forEach(function(b,t){const p=b.graphic;p&&(p.attr({opacity:0}),setTimeout(function(){b.graphic&&b.graphic.animate({opacity:1},{duration:a})},a*t))},
this);this.points.forEach(function(a){const b=a.graphic;!a.isNode&&b&&b.attr({opacity:0}).animate({opacity:1},this.options.animation)},this)}}createNode(a){const b=m.prototype.createNode.call(this,a);b.getSum=function(){return b.linksFrom.concat(b.linksTo).reduce(function(a,b){return a+b.weight},0)};b.offset=function(a){function p(a){return a.fromNode===b?a.toNode:a.fromNode}let t=0,e,d=b.linksFrom.concat(b.linksTo),g;d.sort(function(a,b){return p(a).index-p(b).index});for(e=0;e<d.length;e++)if(p(d[e]).index>
b.index){d=d.slice(0,e).reverse().concat(d.slice(e).reverse());g=!0;break}g||d.reverse();for(e=0;e<d.length;e++){if(d[e]===a)return t;t+=d[e].weight}};return b}createNodeColumns(){const a=[u.compose([],this)];this.nodes.forEach(function(b){b.column=0;a[0].push(b)});return a}getNodePadding(){return this.options.nodePadding/Math.PI}translate(){const a=this.options,b=2*Math.PI/(this.chart.plotHeight+this.getNodePadding()),h=this.getCenter(),p=(a.startAngle-90)*f,k=a.borderRadius,e="object"===typeof k?
k.radius:k;m.prototype.translate.call(this);this.nodeColumns[0].forEach(function(d){if(d.sum){var g=d.shapeArgs;const k=h[0],m=h[1],f=h[2]/2,n=f-a.nodeWidth,l=p+b*(g.y||0);g=p+b*((g.y||0)+(g.height||0));d.angle=l+(g-l)/2;d.shapeType="arc";d.shapeArgs={x:k,y:m,r:f,innerR:n,start:l,end:g,borderRadius:e};d.dlBox={x:k+Math.cos((l+g)/2)*(f+n)/2,y:m+Math.sin((l+g)/2)*(f+n)/2,width:1,height:1};d.linksFrom.forEach(function(d){if(d.linkBase){let e;const c=d.linkBase.map(function(c,h){c*=b;let f=Math.cos(p+
c)*(n+1),l=Math.sin(p+c)*(n+1),g=a.curveFactor||0;e=Math.abs(d.linkBase[3-h]*b-c);e>Math.PI&&(e=2*Math.PI-e);e*=n;e<n&&(g*=e/n);return{x:k+f,y:m+l,cpX:k+(1-g)*f,cpY:m+(1-g)*l}});d.shapeArgs={d:[["M",c[0].x,c[0].y],["A",n,n,0,0,1,c[1].x,c[1].y],["C",c[1].cpX,c[1].cpY,c[2].cpX,c[2].cpY,c[2].x,c[2].y],["A",n,n,0,0,1,c[3].x,c[3].y],["C",c[3].cpX,c[3].cpY,c[0].cpX,c[0].cpY,c[0].x,c[0].y]]}}})}})}}r.defaultOptions=z(m.defaultOptions,x);q(r.prototype,{orderNodes:!1,getCenter:l.prototype.getCenter});r.prototype.pointClass=
b;v.registerSeriesType("dependencywheel",r);return r});b(a,"masters/modules/dependency-wheel.src.js",[],function(){})});
//# sourceMappingURL=dependency-wheel.js.map