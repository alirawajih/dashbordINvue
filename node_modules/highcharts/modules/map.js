/*
 Highmaps JS v11.1.0 (2023-09-05)

 Highmaps as a plugin for Highcharts or Highcharts Stock.

 (c) 2011-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(w){a(w);a.Highcharts=w;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function w(a,m,u,z){a.hasOwnProperty(m)||(a[m]=z.apply(null,u),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:m,module:a[m]}})))}a=a?a._modules:
{};w(a,"Core/Axis/Color/ColorAxisComposition.js",[a["Core/Color/Color.js"],a["Core/Utilities.js"]],function(a,m){const {parse:u}=a,{addEvent:f,extend:q,merge:h,pick:A,splat:t}=m;var x;(function(p){function k(){const b=this.options;this.colorAxis=[];b.colorAxis&&(b.colorAxis=t(b.colorAxis),b.colorAxis.forEach(n=>{new y(this,n)}))}function a(b){const n=n=>{n=b.allItems.indexOf(n);-1!==n&&(this.destroyItem(b.allItems[n]),b.allItems.splice(n,1))};let d=[],v,l;(this.chart.colorAxis||[]).forEach(function(b){(v=
b.options)&&v.showInLegend&&(v.dataClasses&&v.visible?d=d.concat(b.getDataClassLegendSymbols()):v.visible&&d.push(b),b.series.forEach(function(b){if(!b.options.showInLegend||v.dataClasses)"point"===b.options.legendType?b.points.forEach(function(b){n(b)}):n(b)}))});for(l=d.length;l--;)b.allItems.unshift(d[l])}function e(b){b.visible&&b.item.legendColor&&b.item.legendItem.symbol.attr({fill:b.item.legendColor})}function g(){const b=this.chart.colorAxis;b&&b.forEach(function(n,b,d){n.update({},d)})}function c(){(this.chart.colorAxis&&
this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function b(){const b=this.axisTypes;b?-1===b.indexOf("colorAxis")&&b.push("colorAxis"):this.axisTypes=["colorAxis"]}function d(b){const n=this,d=b?"show":"hide";n.visible=n.options.visible=!!b;["graphic","dataLabel"].forEach(function(b){if(n[b])n[b][d]()});this.series.buildKDTree()}function v(){const b=this,n=this.options.nullColor,d=this.colorAxis,v=this.colorKey;(this.data.length?this.data:this.points).forEach(l=>{var r=l.getNestedProperty(v);
(r=l.options.color||(l.isNull||null===l.value?n:d&&"undefined"!==typeof r?d.toColor(r,l):l.color||b.color))&&l.color!==r&&(l.color=r,"point"===b.options.legendType&&l.legendItem&&l.legendItem.label&&b.chart.legend.colorizeItem(l,l.visible))})}function C(b){const n=b.prototype.createAxis;b.prototype.createAxis=function(b,d){if("colorAxis"!==b)return n.apply(this,arguments);const l=new y(this,h(d.axis,{index:this[b].length,isX:!1}));this.isDirtyLegend=!0;this.axes.forEach(function(n){n.series=[]});
this.series.forEach(function(n){n.bindAxes();n.isDirtyData=!0});A(d.redraw,!0)&&this.redraw(d.animation);return l}}function r(){this.elem.attr("fill",u(this.start).tweenTo(u(this.end),this.pos),void 0,!0)}function D(){this.elem.attr("stroke",u(this.start).tweenTo(u(this.end),this.pos),void 0,!0)}const l=[];let y;p.compose=function(p,n,B,E,G){y||(y=p);m.pushUnique(l,n)&&(p=n.prototype,p.collectionsWithUpdate.push("colorAxis"),p.collectionsWithInit.colorAxis=[p.addColorAxis],f(n,"afterGetAxes",k),C(n));
m.pushUnique(l,B)&&(n=B.prototype,n.fillSetter=r,n.strokeSetter=D);m.pushUnique(l,E)&&(f(E,"afterGetAllItems",a),f(E,"afterColorizeItem",e),f(E,"afterUpdate",g));m.pushUnique(l,G)&&(q(G.prototype,{optionalAxis:"colorAxis",translateColors:v}),q(G.prototype.pointClass.prototype,{setVisible:d}),f(G,"afterTranslate",c,{order:1}),f(G,"bindAxes",b))};p.pointSetVisible=d})(x||(x={}));return x});w(a,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineColor:"#ffffff",
gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{distance:8,overflow:"justify",rotation:0},minColor:"#e6e9ff",maxColor:"#0022ff",tickLength:5,showInLegend:!0}});w(a,"Core/Axis/Color/ColorAxis.js",[a["Core/Axis/Axis.js"],a["Core/Color/Color.js"],a["Core/Axis/Color/ColorAxisComposition.js"],a["Core/Axis/Color/ColorAxisDefaults.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],
function(a,m,u,z,q,h,A){const {parse:t}=m,{series:f}=h,{extend:p,fireEvent:k,isArray:F,isNumber:e,merge:g,pick:c}=A;class b extends a{static compose(d,v,c,r){u.compose(b,d,v,c,r)}constructor(b,v){super(b,v);this.beforePadding=!1;this.chart=void 0;this.coll="colorAxis";this.stops=this.options=this.dataClasses=void 0;this.visible=!0;this.init(b,v)}init(d,v){var c=d.options.legend||{};const r=v.layout?"vertical"!==v.layout:"vertical"!==c.layout,e=v.visible;c=g(b.defaultColorAxisOptions,v,{showEmpty:!1,
title:null,visible:c.enabled&&!1!==e});this.side=v.side||r?2:1;this.reversed=v.reversed||!r;this.opposite=!r;super.init(d,c,"colorAxis");this.userOptions=v;F(d.userOptions.colorAxis)&&(d.userOptions.colorAxis[this.index]=v);v.dataClasses&&this.initDataClasses(v);this.initStops();this.horiz=r;this.zoomEnabled=!1}initDataClasses(b){const d=this.chart,c=this.legendItem=this.legendItem||{},r=b.dataClasses.length,e=this.options;let l,y=0,k=d.options.chart.colorCount;this.dataClasses=l=[];c.labels=[];(b.dataClasses||
[]).forEach(function(n,b){n=g(n);l.push(n);if(d.styledMode||!n.color)"category"===e.dataClassColor?(d.styledMode||(b=d.options.colors,k=b.length,n.color=b[y]),n.colorIndex=y,y++,y===k&&(y=0)):n.color=t(e.minColor).tweenTo(t(e.maxColor),2>r?.5:b/(r-1))})}hasData(){return!!(this.tickPositions||[]).length}setTickPositions(){if(!this.dataClasses)return super.setTickPositions()}initStops(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(b){b.color=
t(b[1])})}setOptions(b){super.setOptions(b);this.options.crosshair=this.options.marker}setAxisSize(){var d=this.legendItem&&this.legendItem.symbol;const v=this.chart;var c=v.options.legend||{};let r,e;d?(this.left=c=d.attr("x"),this.top=r=d.attr("y"),this.width=e=d.attr("width"),this.height=d=d.attr("height"),this.right=v.chartWidth-c-e,this.bottom=v.chartHeight-r-d,this.len=this.horiz?e:d,this.pos=this.horiz?c:r):this.len=(this.horiz?c.symbolWidth:c.symbolHeight)||b.defaultLegendLength}normalizedValue(b){this.logarithmic&&
(b=this.logarithmic.log2lin(b));return 1-(this.max-b)/(this.max-this.min||1)}toColor(b,v){const d=this.dataClasses;var r=this.stops;let c,l,e,g;if(d)for(g=d.length;g--;){if(e=d[g],c=e.from,r=e.to,("undefined"===typeof c||b>=c)&&("undefined"===typeof r||b<=r)){l=e.color;v&&(v.dataClass=g,v.colorIndex=e.colorIndex);break}}else{b=this.normalizedValue(b);for(g=r.length;g--&&!(b>r[g][0]););c=r[g]||r[g+1];r=r[g+1]||c;b=1-(r[0]-b)/(r[0]-c[0]||1);l=c.color.tweenTo(r.color,b)}return l}getOffset(){const d=
this.legendItem&&this.legendItem.group,v=this.chart.axisOffset[this.side];if(d){this.axisParent=d;super.getOffset();const c=this.chart.legend;c.allItems.forEach(function(d){d instanceof b&&d.drawLegendSymbol(c,d)});c.render();this.chart.getMargins(!0);this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width);this.chart.axisOffset[this.side]=v}}setLegendColor(){var b=this.reversed,v=b?1:0;b=b?0:1;v=this.horiz?[v,0,b,0]:[0,b,0,v];this.legendColor={linearGradient:{x1:v[0],y1:v[1],x2:v[2],
y2:v[3]},stops:this.stops}}drawLegendSymbol(d,v){var e;v=v.legendItem||{};const r=d.padding,g=d.options,l=this.options.labels,k=c(g.itemDistance,10),p=this.horiz,n=c(g.symbolWidth,p?b.defaultLegendLength:12),B=c(g.symbolHeight,p?12:b.defaultLegendLength),E=c(g.labelPadding,p?16:30);this.setLegendColor();v.symbol||(v.symbol=this.chart.renderer.symbol("roundedRect",0,d.baseline-11,n,B,{r:null!==(e=g.symbolRadius)&&void 0!==e?e:3}).attr({zIndex:1}).add(v.group));v.labelWidth=n+r+(p?k:c(l.x,l.distance)+
this.maxLabelLength);v.labelHeight=B+r+(p?E:0)}setState(b){this.series.forEach(function(d){d.setState(b)})}setVisible(){}getSeriesExtremes(){const b=this.series;let v;let g,r,e=b.length,l,k;this.dataMin=Infinity;for(this.dataMax=-Infinity;e--;){r=b[e];v=r.colorKey=c(r.options.colorKey,r.colorKey,r.pointValKey,r.zoneAxis,"y");var p=r.pointArrayMap;g=r[v+"Min"]&&r[v+"Max"];if(r[v+"Data"])var n=r[v+"Data"];else if(p){if(n=[],p=p.indexOf(v),l=r.yData,0<=p&&l)for(k=0;k<l.length;k++)n.push(c(l[k][p],l[k]))}else n=
r.yData;g?(r.minColorValue=r[v+"Min"],r.maxColorValue=r[v+"Max"]):(n=f.prototype.getExtremes.call(r,n),r.minColorValue=n.dataMin,r.maxColorValue=n.dataMax);"undefined"!==typeof r.minColorValue&&(this.dataMin=Math.min(this.dataMin,r.minColorValue),this.dataMax=Math.max(this.dataMax,r.maxColorValue));g||f.prototype.applyExtremes.call(r)}}drawCrosshair(b,c){const d=this.legendItem||{},g=c&&c.plotX,e=c&&c.plotY,l=this.pos,v=this.len;let k;c&&(k=this.toPixels(c.getNestedProperty(c.series.colorKey)),k<
l?k=l-2:k>l+v&&(k=l+v+2),c.plotX=k,c.plotY=this.len-k,super.drawCrosshair(b,c),c.plotX=g,c.plotY=e,this.cross&&!this.cross.addedToColorAxis&&d.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(d.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!==typeof this.crosshair||this.cross.attr({fill:this.crosshair.color})))}getPlotLinePath(b){const d=this.left,c=b.translatedValue,g=this.top;return e(c)?this.horiz?[["M",c-4,g-6],["L",c+4,g-6],["L",c,g],["Z"]]:[["M",d,c],["L",
d-6,c+6],["L",d-6,c-6],["Z"]]:super.getPlotLinePath(b)}update(b,c){const d=this.chart.legend;this.series.forEach(b=>{b.isDirtyData=!0});(b.dataClasses&&d.allItems||this.dataClasses)&&this.destroyItems();super.update(b,c);this.legendItem&&this.legendItem.label&&(this.setLegendColor(),d.colorizeItem(this,!0))}destroyItems(){const b=this.chart,c=this.legendItem||{};if(c.label)b.legend.destroyItem(this);else if(c.labels)for(const d of c.labels)b.legend.destroyItem(d);b.isDirtyLegend=!0}destroy(){this.chart.isDirtyLegend=
!0;this.destroyItems();super.destroy(...[].slice.call(arguments))}remove(b){this.destroyItems();super.remove(b)}getDataClassLegendSymbols(){const b=this,g=b.chart,e=b.legendItem&&b.legendItem.labels||[],r=g.options.legend,a=c(r.valueDecimals,-1),l=c(r.valueSuffix,""),y=n=>b.series.reduce((b,c)=>{b.push(...c.points.filter(b=>b.dataClass===n));return b},[]);let h;e.length||b.dataClasses.forEach((n,c)=>{const d=n.from,r=n.to,{numberFormatter:v}=g;let B=!0;h="";"undefined"===typeof d?h="< ":"undefined"===
typeof r&&(h="> ");"undefined"!==typeof d&&(h+=v(d,a)+l);"undefined"!==typeof d&&"undefined"!==typeof r&&(h+=" - ");"undefined"!==typeof r&&(h+=v(r,a)+l);e.push(p({chart:g,name:h,options:{},drawLegendSymbol:q.rectangle,visible:!0,isDataClass:!0,setState:b=>{for(const n of y(c))n.setState(b)},setVisible:function(){this.visible=B=b.visible=!B;const n=[];for(const b of y(c))b.setVisible(B),-1===n.indexOf(b.series)&&n.push(b.series);g.legend.colorizeItem(this,B);n.forEach(b=>{k(b,"afterDataClassLegendClick")})}},
n))});return e}}b.defaultColorAxisOptions=z;b.defaultLegendLength=200;b.keepProps=["legendItem"];Array.prototype.push.apply(a.keepProps,b.keepProps);"";return b});w(a,"Maps/MapNavigationDefaults.js",[a["Core/Defaults.js"],a["Core/Utilities.js"]],function(a,m){({extend:m}=m);const f={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{color:"#666666",fontSize:"1em",fontWeight:"bold"},theme:{fill:"#ffffff",stroke:"#e6e6e6","stroke-width":1,"text-align":"center"}},
buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};m(a.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});return a.defaultOptions.mapNavigation=f});w(a,"Maps/MapNavigation.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,m,u){function f(e){e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)}function q(e){this.navButtons=
[];this.init(e)}const {doc:h}=m,{addEvent:A,extend:t,isNumber:x,merge:p,objectEach:k,pick:F}=u;q.prototype.init=function(e){this.chart=e};q.prototype.update=function(e){function g(c){this.handler.call(b,c);f(c)}let c=this,b=this.chart,d=b.options.mapNavigation,v,a=c.navButtons;e&&(d=b.options.mapNavigation=p(b.options.mapNavigation,e));for(;a.length;)a.pop().destroy();F(d.enableButtons,d.enabled)&&!b.renderer.forExport&&(c.navButtonsGroup||(c.navButtonsGroup=b.renderer.g().attr({zIndex:4}).add()),
k(d.buttons,function(e,k){var l;e=p(d.buttonOptions,e);!b.styledMode&&e.theme&&(v=e.theme,v.style=p(e.theme.style,e.style));const {text:r,width:C=0,height:n=0,padding:B=0}=e,E=b.renderer.button("+"!==r&&"-"!==r&&r||"",0,0,g,v,void 0,void 0,void 0,"zoomIn"===k?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[k]).attr({width:C,height:n,title:b.options.lang[k],padding:e.padding,zIndex:5}).add(c.navButtonsGroup);if("+"===r||"-"===r){k=
C+1;const c=[["M",B+3,B+n/2],["L",B+k-3,B+n/2]];"+"===r&&c.push(["M",B+k/2,B+3],["L",B+k/2,B+n-3]);b.renderer.path(c).addClass("highcharts-button-symbol").attr(b.styledMode?{}:{stroke:null===(l=e.style)||void 0===l?void 0:l.color,"stroke-width":3,"stroke-linecap":"round"}).add(E)}E.handler=e.onclick;A(E.element,"dblclick",f);a.push(E);t(e,{width:E.width,height:2*E.height});if(b.hasLoaded)E.align(e,!1,e.alignTo);else{const n=A(b,"load",()=>{E.element&&E.align(e,!1,e.alignTo);n()})}}),e=function(){var e=
b.exportingGroup&&b.exportingGroup.getBBox();if(e){const b=c.navButtonsGroup.getBBox();if(!(b.x>=e.x+e.width||b.x+b.width<=e.x||b.y>=e.y+e.height||b.y+b.height<=e.y)){const l=-b.y-b.height+e.y-5;e=e.y+e.height-b.y+5;c.navButtonsGroup.attr({translateY:"bottom"===(d.buttonOptions&&d.buttonOptions.verticalAlign)?l:e})}}},b.hasLoaded||A(b,"render",e));this.updateEvents(d)};q.prototype.updateEvents=function(e){const g=this.chart;F(e.enableDoubleClickZoom,e.enabled)||e.enableDoubleClickZoomTo?this.unbindDblClick=
this.unbindDblClick||A(g.container,"dblclick",function(c){g.pointer.onContainerDblClick(c)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());F(e.enableMouseWheelZoom,e.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||A(g.container,void 0!==h.onwheel?"wheel":void 0!==h.onmousewheel?"mousewheel":"DOMMouseScroll",function(c){g.pointer.inClass(c.target,"highcharts-no-mousewheel")||(g.pointer.onContainerMouseWheel(c),f(c));return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=
this.unbindMouseWheel())};t(a.prototype,{fitToBox:function(e,g){[["x","width"],["y","height"]].forEach(function(c){const b=c[0];c=c[1];e[b]+e[c]>g[b]+g[c]&&(e[c]>g[c]?(e[c]=g[c],e[b]=g[b]):e[b]=g[b]+g[c]-e[c]);e[c]>g[c]&&(e[c]=g[c]);e[b]<g[b]&&(e[b]=g[b])});return e},mapZoom:function(e,g,c,b,d){this.mapView&&(x(e)&&(e=Math.log(e)/Math.log(.5)),this.mapView.zoomBy(e,x(g)&&x(c)?this.mapView.projection.inverse([g,c]):void 0,x(b)&&x(d)?[b,d]:void 0))}});A(a,"beforeRender",function(){this.mapNavigation=
new q(this);this.mapNavigation.update()});m.MapNavigation=q});w(a,"Maps/MapPointer.js",[a["Core/Pointer.js"],a["Core/Utilities.js"]],function(a,m){const {defined:f,extend:z,pick:q,wrap:h}=m,A=a.prototype.normalize;let t=0,x;z(a.prototype,{normalize:function(p,k){const a=this.chart;p=A.call(this,p,k);a&&a.mapView&&(k=a.mapView.pixelsToLonLat({x:p.chartX-a.plotLeft,y:p.chartY-a.plotTop}))&&z(p,k);return p},onContainerDblClick:function(p){const k=this.chart;p=this.normalize(p);k.options.mapNavigation.enableDoubleClickZoomTo?
k.pointer.inClass(p.target,"highcharts-tracker")&&k.hoverPoint&&k.hoverPoint.zoomTo():k.isInsidePlot(p.chartX-k.plotLeft,p.chartY-k.plotTop)&&k.mapZoom(.5,void 0,void 0,p.chartX,p.chartY)},onContainerMouseWheel:function(p){const k=this.chart;p=this.normalize(p);const a=f(p.wheelDelta)&&-p.wheelDelta/120||p.deltaY||p.detail;1<=Math.abs(a)&&(t+=Math.abs(a),x&&clearTimeout(x),x=setTimeout(()=>{t=0},50));10>t&&k.isInsidePlot(p.chartX-k.plotLeft,p.chartY-k.plotTop)&&k.mapView&&k.mapView.zoomBy((k.options.mapNavigation.mouseWheelSensitivity-
1)*-a,void 0,[p.chartX,p.chartY],1>Math.abs(a)?!1:void 0)}});h(a.prototype,"zoomOption",function(a){const k=this.chart.options.mapNavigation;q(k.enableTouchZoom,k.enabled)&&(this.chart.zooming.pinchType="xy");a.apply(this,[].slice.call(arguments,1))});h(a.prototype,"pinchTranslate",function(a,k,h,e,g,c,b){a.call(this,k,h,e,g,c,b);"map"===this.chart.options.chart.type&&this.hasZoom&&(a=e.scaleX>e.scaleY,this.pinchTranslateDirection(!a,k,h,e,g,c,b,a?e.scaleX:e.scaleY))})});w(a,"Series/ColorMapComposition.js",
[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m){const {column:{prototype:f}}=a.seriesTypes,{addEvent:z,defined:q}=m;var h;(function(a){function h(a){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:a&&"hover"===a.state?1:0})}const u=[];a.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value&&(void 0===this.value||!isNaN(this.value))}};a.seriesMembers={colorKey:"value",
axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(a){const k={};!q(a.color)||a.state&&"normal"!==a.state||(k[this.colorProp||"fill"]=a.color);return k},pointAttribs:f.pointAttribs};a.compose=function(a){const k=a.prototype.pointClass;m.pushUnique(u,k)&&z(k,"afterSetState",h);return a}})(h||(h={}));return h});w(a,"Maps/MapSymbols.js",[a["Core/Renderer/SVG/SVGRenderer.js"]],function(a){const {prototype:{symbols:f}}=
a;f.bottombutton=function(a,m,q,h,A){if(A){const a=(null===A||void 0===A?void 0:A.r)||0;A.brBoxY=m-a;A.brBoxHeight=h+a}return f.roundedRect(a,m,q,h,A)};f.topbutton=function(a,m,q,h,A){A&&(A.brBoxHeight=h+((null===A||void 0===A?void 0:A.r)||0));return f.roundedRect(a,m,q,h,A)};return f});w(a,"Core/Chart/MapChart.js",[a["Core/Chart/Chart.js"],a["Core/Defaults.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,m,u,z){const {getOptions:q}=m,{merge:h,pick:f}=z;class t extends a{init(a,
p){const k=q().credits;a=h({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:f(k.mapText,' \u00a9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:f(k.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},a);super.init(a,p)}}(function(a){a.maps={};a.mapChart=function(p,k,h){return new a(p,k,h)};a.splitPath=function(a){"string"===typeof a&&(a=a.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,""),a=a.split(/[ ,;]+/).map(a=>
/[A-za-z]/.test(a)?a:parseFloat(a)));return u.prototype.pathToSegments(a)}})(t||(t={}));return t});w(a,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(a){let f=-Number.MAX_VALUE,u=Number.MAX_VALUE,z=-Number.MAX_VALUE,q=Number.MAX_VALUE,h;a.forEach(a=>{const t=a[a.length-2];a=a[a.length-1];"number"===typeof t&&"number"===typeof a&&(u=Math.min(u,t),f=Math.max(f,t),q=Math.min(q,a),z=Math.max(z,a),h=!0)});if(h)return{x1:u,y1:q,x2:f,y2:z}},pointInPolygon:function(a,m){let f,z,q,h=!1,
A=a.x,t=a.y;a=0;for(f=m.length-1;a<m.length;f=a++)z=m[a][1]>t,q=m[f][1]>t,z!==q&&A<(m[f][0]-m[a][0])*(t-m[a][1])/(m[f][1]-m[a][1])+m[a][0]&&(h=!h);return h}}});w(a,"Series/Map/MapPoint.js",[a["Series/ColorMapComposition.js"],a["Maps/MapUtilities.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,u,z){const {boundsFromPath:q}=m;({seriesTypes:{scatter:m}}=u);const {extend:h,isNumber:f,pick:t}=z;class x extends m.prototype.pointClass{constructor(){super(...arguments);this.series=
this.path=this.options=void 0}static getProjectedPath(a,k){a.projectedPath||(k&&a.geometry?(k.hasCoordinates=!0,a.projectedPath=k.path(a.geometry)):a.projectedPath=a.path);return a.projectedPath||[]}applyOptions(a,k){const p=this.series;a=super.applyOptions.call(this,a,k);k=p.joinBy;p.mapData&&p.mapMap&&(k=super.getNestedProperty.call(a,k[1]),(k="undefined"!==typeof k&&p.mapMap[k])?h(a,k):-1!==p.pointArrayMap.indexOf("value")&&(a.value=a.value||null));return a}getProjectedBounds(a){var k=x.getProjectedPath(this,
a);k=q(k);var h=this.properties;const e=this.series.chart.mapView;if(k){const g=h&&h["hc-middle-lon"],c=h&&h["hc-middle-lat"];e&&f(g)&&f(c)?(a=a.forward([g,c]),k.midX=a[0],k.midY=a[1]):(a=h&&h["hc-middle-x"],h=h&&h["hc-middle-y"],k.midX=k.x1+(k.x2-k.x1)*t(this.middleX,f(a)?a:.5),a=t(this.middleY,f(h)?h:.5),this.geometry||(a=1-a),k.midY=k.y2-(k.y2-k.y1)*a);return k}}onMouseOver(a){z.clearTimeout(this.colorInterval);if(!this.isNull&&this.visible||this.series.options.nullInteraction)super.onMouseOver.call(this,
a);else this.series.onMouseOut(a)}setVisible(a){const k=a?"show":"hide";this.visible=this.options.visible=!!a;if(this.dataLabel)this.dataLabel[k]();this.graphic&&this.graphic.attr(this.series.pointAttribs(this))}zoomTo(a){const k=this.series.chart,h=k.mapView;var e=this.bounds;if(h&&e){const c=f(this.insetIndex)&&h.insets[this.insetIndex];if(c){var g=c.projectedUnitsToPixels({x:e.x1,y:e.y1});e=c.projectedUnitsToPixels({x:e.x2,y:e.y2});g=h.pixelsToProjectedUnits({x:g.x,y:g.y});e=h.pixelsToProjectedUnits({x:e.x,
y:e.y});e={x1:g.x,y1:g.y,x2:e.x,y2:e.y}}h.fitToBounds(e,void 0,!1);this.series.isDirty=!0;k.redraw(a)}}}h(x.prototype,{dataLabelOnNull:a.pointMembers.dataLabelOnNull,moveToTopOnHover:a.pointMembers.moveToTopOnHover,isValid:a.pointMembers.isValid});return x});w(a,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}});w(a,"Maps/MapViewInsetsOptionsDefault.js",[],function(){return{borderColor:"#cccccc",
borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}});w(a,"Extensions/GeoJSON.js",[a["Core/Chart/Chart.js"],a["Core/Templating.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,m,u,z){function q(a,g){g||(g=Object.keys(a.objects)[0]);g=a.objects[g];if(g["hc-decoded-geojson"])return g["hc-decoded-geojson"];let c=a.arcs;if(a.transform){const {scale:b,translate:d}=a.transform;c=a.arcs.map(a=>{let c=0,l=0;return a.map(a=>{a=a.slice();a[0]=(c+=a[0])*b[0]+d[0];
a[1]=(l+=a[1])*b[1]+d[1];return a})})}const b=a=>"number"===typeof a[0]?a.reduce((b,a,d)=>{let l=0>a?c[~a]:c[a];0>a?(l=l.slice(0,0===d?l.length:l.length-1),l.reverse()):d&&(l=l.slice(1));return b.concat(l)},[]):a.map(b),d=g.geometries.map(a=>({type:"Feature",properties:a.properties,geometry:{type:a.type,coordinates:a.coordinates||b(a.arcs)}}));a={type:"FeatureCollection",copyright:a.copyright,copyrightShort:a.copyrightShort,copyrightUrl:a.copyrightUrl,features:d,"hc-recommended-mapview":g["hc-recommended-mapview"],
bbox:a.bbox,title:a.title};return g["hc-decoded-geojson"]=a}function h(a,g="map",c){const b=[];a="Topology"===a.type?q(a):a;a.features.forEach(function(a){var c=a.geometry||{},d=c.type;c=c.coordinates;a=a.properties;let e;"map"!==g&&"mapbubble"!==g||"Polygon"!==d&&"MultiPolygon"!==d?"mapline"!==g||"LineString"!==d&&"MultiLineString"!==d?"mappoint"===g&&"Point"===d&&c.length&&(e={geometry:{coordinates:c,type:d}}):c.length&&(e={geometry:{coordinates:c,type:d}}):c.length&&(e={geometry:{coordinates:c,
type:d}});if(e){d=a&&(a.name||a.NAME);c=a&&a.lon;const g=a&&a.lat;b.push(p(e,{lat:"number"===typeof g?g:void 0,lon:"number"===typeof c?c:void 0,name:"string"===typeof d?d:void 0,properties:a}))}});c&&a.copyrightShort&&(c.chart.mapCredits=f(c.chart.options.credits.mapText,{geojson:a}),c.chart.mapCreditsFull=f(c.chart.options.credits.mapTextFull,{geojson:a}));return b}const {format:f}=m,{win:t}=u,{error:x,extend:p,merge:k,wrap:F}=z;"";a.prototype.transformFromLatLon=function(a,g){var c=this.options.chart.proj4||
t.proj4;if(c){var {jsonmarginX:b=0,jsonmarginY:d=0,jsonres:e=1,scale:k=1,xoffset:r=0,xpan:h=0,yoffset:l=0,ypan:y=0}=g;a=c(g.crs,[a.lon,a.lat]);c=g.cosAngle||g.rotation&&Math.cos(g.rotation);var q=g.sinAngle||g.rotation&&Math.sin(g.rotation);g=g.rotation?[a[0]*c+a[1]*q,-a[0]*q+a[1]*c]:a;return{x:((g[0]-r)*k+h)*e+b,y:-(((l-g[1])*k+y)*e-d)}}x(21,!1,this)};a.prototype.transformToLatLon=function(a,g){const c=this.options.chart.proj4||t.proj4;if(!c)x(21,!1,this);else if(null!==a.y){var {jsonmarginX:b=0,
jsonmarginY:d=0,jsonres:e=1,scale:k=1,xoffset:r=0,xpan:h=0,yoffset:l=0,ypan:y=0}=g;a={x:((a.x-b)/e-h)/k+r,y:((a.y-d)/e+y)/k+l};var q=g.cosAngle||g.rotation&&Math.cos(g.rotation),n=g.sinAngle||g.rotation&&Math.sin(g.rotation);g=c(g.crs,"WGS84",g.rotation?{x:a.x*q+a.y*-n,y:a.x*n+a.y*q}:a);return{lat:g.y,lon:g.x}}};a.prototype.fromPointToLatLon=function(a){return this.mapView&&this.mapView.projectedUnitsToLonLat(a)};a.prototype.fromLatLonToPoint=function(a){return this.mapView&&this.mapView.lonLatToProjectedUnits(a)};
F(a.prototype,"addCredits",function(a,g){g=k(!0,this.options.credits,g);this.mapCredits&&(g.href=null);a.call(this,g);this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})});u.geojson=h;u.topo2geo=q;return{geojson:h,topo2geo:q}});w(a,"Core/Geometry/PolygonClip.js",[],function(){const a=(a,q,h)=>(q[0]-a[0])*(h[1]-a[1])>(q[1]-a[1])*(h[0]-a[0]),m=(a,q,h,f)=>{var t=[a[0]-q[0],a[1]-q[1]];const m=[h[0]-f[0],h[1]-f[1]];a=a[0]*q[1]-a[1]*q[0];h=h[0]*f[1]-h[1]*f[0];f=1/(t[0]*m[1]-
t[1]*m[0]);t=[(a*m[0]-h*t[0])*f,(a*m[1]-h*t[1])*f];t.isIntersection=!0;return t};var u;(function(f){f.clipLineString=(a,h)=>{const q=[];a=f.clipPolygon(a,h,!1);for(h=1;h<a.length;h++)a[h].isIntersection&&a[h-1].isIntersection&&(q.push(a.splice(0,h)),h=0),h===a.length-1&&q.push(a);return q};f.clipPolygon=(q,h,f=!0)=>{let t=h[h.length-1],u,p,k=q;for(let x=0;x<h.length;x++){const e=k;q=h[x];k=[];u=f?e[e.length-1]:e[0];for(let g=0;g<e.length;g++)p=e[g],a(t,q,p)?(a(t,q,u)||k.push(m(t,q,u,p)),k.push(p)):
a(t,q,u)&&k.push(m(t,q,u,p)),u=p;t=q}return k}})(u||(u={}));return u});w(a,"Maps/Projections/LambertConformalConic.js",[],function(){const a=Math.sign||(a=>0===a?0:0<a?1:-1),m=Math.PI/180,u=Math.PI/2;class z{constructor(q){var h,f=(q.parallels||[]).map(a=>a*m);const t=f[0]||0;f=null!==(h=f[1])&&void 0!==h?h:t;h=Math.cos(t);"object"===typeof q.projectedBounds&&(this.projectedBounds=q.projectedBounds);q=t===f?Math.sin(t):Math.log(h/Math.cos(f))/Math.log(Math.tan((u+f)/2)/Math.tan((u+t)/2));1E-10>Math.abs(q)&&
(q=1E-10*(a(q)||1));this.n=q;this.c=h*Math.pow(Math.tan((u+t)/2),q)/q}forward(a){var h=a[0]*m;const {c:f,n:t,projectedBounds:q}=this;a=a[1]*m;0<f?a<-u+1E-6&&(a=-u+1E-6):a>u-1E-6&&(a=u-1E-6);var p=f/Math.pow(Math.tan((u+a)/2),t);a=p*Math.sin(t*h)*63.78137;h=63.78137*(f-p*Math.cos(t*h));p=[a,h];q&&(a<q.x1||a>q.x2||h<q.y1||h>q.y2)&&(p.outside=!0);return p}inverse(f){const h=f[0]/63.78137;f=f[1]/63.78137;const {c:q,n:t}=this;f=q-f;const z=a(t)*Math.sqrt(h*h+f*f);let p=Math.atan2(h,Math.abs(f))*a(f);0>
f*t&&(p-=Math.PI*a(h)*a(f));return[p/t/m,(2*Math.atan(Math.pow(q/z,1/t))-u)/m]}}return z});w(a,"Maps/Projections/EqualEarth.js",[],function(){const a=Math.sqrt(3)/2;class m{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}forward(f){const m=Math.PI/180,q=Math.asin(a*Math.sin(f[1]*m)),h=q*q,u=h*h*h;return[f[0]*m*Math.cos(q)*74.03120656864502/(a*(1.340264+3*-.081106*h+u*(7*8.93E-4+.034164*h))),74.03120656864502*q*(1.340264+-.081106*
h+u*(8.93E-4+.003796*h))]}inverse(f){var m=f[0]/74.03120656864502;const q=f[1]/74.03120656864502;f=180/Math.PI;let h=q;let u;let t;for(t=0;12>t;++t){var x=h*h;u=x*x*x;var p=h*(1.340264+-.081106*x+u*(8.93E-4+.003796*x))-q;x=1.340264+3*-.081106*x+u*(7*8.93E-4+.034164*x);h-=p/=x;if(1E-9>Math.abs(p))break}x=h*h;m=f*a*m*(1.340264+3*-.081106*x+x*x*x*(7*8.93E-4+.034164*x))/Math.cos(h);return 180<Math.abs(m)?[NaN,NaN]:[m,f*Math.asin(Math.sin(h)/a)]}}return m});w(a,"Maps/Projections/Miller.js",[],function(){const a=
Math.PI/4,m=Math.PI/180;class u{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}forward(f){return[f[0]*m*63.78137,79.7267125*Math.log(Math.tan(a+.4*f[1]*m))]}inverse(f){return[f[0]/63.78137/m,2.5*(Math.atan(Math.exp(f[1]/63.78137*.8))-a)/m]}}return u});w(a,"Maps/Projections/Orthographic.js",[],function(){const a=Math.PI/180;class m{constructor(){this.antimeridianCutting=!1;this.bounds={x1:-63.78460826781007,x2:63.78460826781007,
y1:-63.78460826781007,y2:63.78460826781007}}forward(f){const m=f[0];f=f[1]*a;f=[Math.cos(f)*Math.sin(m*a)*63.78460826781007,63.78460826781007*Math.sin(f)];if(-90>m||90<m)f.outside=!0;return f}inverse(f){const m=f[0]/63.78460826781007;f=f[1]/63.78460826781007;const q=Math.sqrt(m*m+f*f),h=Math.asin(q),u=Math.sin(h);return[Math.atan2(m*u,q*Math.cos(h))/a,Math.asin(q&&f*u/q)/a]}}return m});w(a,"Maps/Projections/WebMercator.js",[],function(){const a=Math.PI/180;class m{constructor(){this.bounds={x1:-200.37508342789243,
x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071};this.maxLatitude=85.0511287798}forward(f){var m=Math.sin(f[1]*a);m=[63.78137*f[0]*a,63.78137*Math.log((1+m)/(1-m))/2];85.0511287798<Math.abs(f[1])&&(m.outside=!0);return m}inverse(f){return[f[0]/(63.78137*a),(2*Math.atan(Math.exp(f[1]/63.78137))-Math.PI/2)/a]}}return m});w(a,"Maps/Projections/ProjectionRegistry.js",[a["Maps/Projections/LambertConformalConic.js"],a["Maps/Projections/EqualEarth.js"],a["Maps/Projections/Miller.js"],a["Maps/Projections/Orthographic.js"],
a["Maps/Projections/WebMercator.js"]],function(a,m,u,z,q){return{EqualEarth:m,LambertConformalConic:a,Miller:u,Orthographic:z,WebMercator:q}});w(a,"Maps/Projection.js",[a["Core/Geometry/PolygonClip.js"],a["Maps/Projections/ProjectionRegistry.js"],a["Core/Utilities.js"]],function(a,m,u){const {clipLineString:f,clipPolygon:q}=a,{clamp:h,erase:A}=u,t=2*Math.PI/360,x=a=>{-180>a&&(a+=360);180<a&&(a-=360);return a};class p{static add(a,f){p.registry[a]=f}static greatCircle(a,f,e){const {atan2:g,cos:c,sin:b,
sqrt:d}=Math,k=a[1]*t,h=a[0]*t,r=f[1]*t,m=f[0]*t;var l=r-k,y=m-h;l=b(l/2)*b(l/2)+c(k)*c(r)*b(y/2)*b(y/2);l=2*g(d(l),d(1-l));var p=Math.round(6371E3*l/5E5);y=[];e&&y.push(a);if(1<p)for(a=1/p,p=a;.999>p;p+=a){var n=b((1-p)*l)/b(l);const a=b(p*l)/b(l);var B=n*c(k)*c(h)+a*c(r)*c(m);const e=n*c(k)*b(h)+a*c(r)*b(m);n=n*b(k)+a*b(r);n=g(n,d(B*B+e*e));B=g(e,B);y.push([B/t,n/t])}e&&y.push(f);return y}static insertGreatCircles(a){let k=a.length-1;for(;k--;)if(10<Math.max(Math.abs(a[k][0]-a[k+1][0]),Math.abs(a[k][1]-
a[k+1][1]))){const e=p.greatCircle(a[k],a[k+1]);e.length&&a.splice(k+1,0,...e)}}static toString(a){const {name:k,rotation:e}=a||{};return[k,e&&e.join(",")].join(";")}constructor(a={}){this.hasGeoProjection=this.hasCoordinates=!1;this.maxLatitude=90;this.options=a;const {name:k,projectedBounds:e,rotation:g}=a;this.rotator=g?this.getRotator(g):void 0;const c=k?p.registry[k]:void 0;c&&(this.def=new c(a));const {def:b,rotator:d}=this;b&&(this.maxLatitude=b.maxLatitude||90,this.hasGeoProjection=!0);d&&
b?(this.forward=a=>b.forward(d.forward(a)),this.inverse=a=>d.inverse(b.inverse(a))):b?(this.forward=a=>b.forward(a),this.inverse=a=>b.inverse(a)):d&&(this.forward=d.forward,this.inverse=d.inverse);this.bounds="world"===e?b&&b.bounds:e}lineIntersectsBounds(a){const {x1:k,x2:e,y1:g,y2:c}=this.bounds||{},b=(a,b,c)=>{const [d,g]=a;a=b?0:1;if("number"===typeof c&&d[b]>=c!==g[b]>=c)return a=d[a]+(c-d[b])/(g[b]-d[b])*(g[a]-d[a]),b?[a,c]:[c,a]};let d,f=a[0];if(d=b(a,0,k))f=d,a[1]=d;else if(d=b(a,0,e))f=d,
a[1]=d;if(d=b(a,1,g))f=d;else if(d=b(a,1,c))f=d;return f}getRotator(a){const k=a[0]*t,e=(a[1]||0)*t;a=(a[2]||0)*t;const g=Math.cos(e),c=Math.sin(e),b=Math.cos(a),d=Math.sin(a);if(0!==k||0!==e||0!==a)return{forward:a=>{var e=a[0]*t+k,f=a[1]*t,h=Math.cos(f);a=Math.cos(e)*h;e=Math.sin(e)*h;f=Math.sin(f);h=f*g+a*c;return[Math.atan2(e*b-h*d,a*g-f*c)/t,Math.asin(h*b+e*d)/t]},inverse:a=>{var e=a[0]*t,f=a[1]*t,h=Math.cos(f);a=Math.cos(e)*h;e=Math.sin(e)*h;f=Math.sin(f);h=f*b-e*d;return[(Math.atan2(e*b+f*
d,a*g+h*c)-k)/t,Math.asin(h*g-a*c)/t]}}}forward(a){return a}inverse(a){return a}cutOnAntimeridian(a,f){const e=[],g=[a];a.forEach((b,c)=>{let d=a[c-1];if(!c){if(!f)return;d=a[a.length-1]}const g=d[0];var n=b[0];(-90>g||90<g)&&(-90>n||90<n)&&0<g!==0<n&&(n=h((180-(g+360)%360)/((n+360)%360-(g+360)%360),0,1),e.push({i:c,lat:d[1]+n*(b[1]-d[1]),direction:0>g?1:-1,previousLonLat:d,lonLat:b}))});if(e.length)if(f){if(1===e.length%2){var c=e.slice().sort((a,b)=>Math.abs(b.lat)-Math.abs(a.lat))[0];A(e,c)}for(var b=
e.length-2;0<=b;){var d=e[b].i,k=x(180+1E-6*e[b].direction),m=x(180-1E-6*e[b].direction);d=a.splice(d,e[b+1].i-d,...p.greatCircle([k,e[b].lat],[k,e[b+1].lat],!0));d.push(...p.greatCircle([m,e[b+1].lat],[m,e[b].lat],!0));g.push(d);b-=2}if(c)for(d=0;d<g.length;d++){const {direction:a,lat:e}=c;b=g[d];m=b.indexOf(c.lonLat);if(-1<m){d=(0>e?-1:1)*this.maxLatitude;var r=x(180+1E-6*a);k=x(180-1E-6*a);const g=p.greatCircle([r,e],[r,d],!0);for(r+=120*a;-180<r&&180>r;r+=120*a)g.push([r,d]);g.push(...p.greatCircle([k,
d],[k,c.lat],!0));b.splice(m,0,...g);break}}}else for(c=e.length;c--;)b=a.splice(e[c].i,a.length,[x(180+1E-6*e[c].direction),e[c].lat]),b.unshift([x(180-1E-6*e[c].direction),e[c].lat]),g.push(b);return g}path(a){const {bounds:h,def:e,rotator:g}=this,c=[],b="Polygon"===a.type||"MultiPolygon"===a.type,d=this.hasGeoProjection,k=!e||!1!==e.antimeridianCutting,m=k?g:void 0,r=k?e||this:this;let t;h&&(t=[[h.x1,h.y1],[h.x2,h.y1],[h.x2,h.y2],[h.x1,h.y2]]);const l=a=>{a=a.map(a=>{if(k){m&&(a=m.forward(a));
let b=a[0];1E-6>Math.abs(b-180)&&(b=180>b?179.999999:180.000001);a=[b,a[1]]}return a});let g=[a];d&&(p.insertGreatCircles(a),k&&(g=this.cutOnAntimeridian(a,b)));g.forEach(a=>{if(!(2>a.length)){var n=!1,g=!1,e=a=>{n?c.push(["L",a[0],a[1]]):(c.push(["M",a[0],a[1]]),n=!0)},l=!1,m=!1,y=a.map(a=>{a=r.forward(a);a.outside?l=!0:m=!0;Infinity===a[1]?a[1]=1E10:-Infinity===a[1]&&(a[1]=-1E10);return a});if(k){b&&y.push(y[0]);if(l){if(!m)return;if(t)if(b)y=q(y,t);else if(h){f(y,t).forEach(a=>{n=!1;a.forEach(e)});
return}}y.forEach(e)}else for(let c=0;c<y.length;c++){const l=a[c],f=y[c];if(f.outside)g=!0;else{if(b&&!v){var v=l;a.push(l);y.push(f)}g&&C&&(b&&d?p.greatCircle(C,l).forEach(a=>e(r.forward(a))):n=!1);e(f);var C=l;g=!1}}}})};"LineString"===a.type?l(a.coordinates):"MultiLineString"===a.type?a.coordinates.forEach(a=>l(a)):"Polygon"===a.type?(a.coordinates.forEach(a=>l(a)),c.length&&c.push(["Z"])):"MultiPolygon"===a.type&&(a.coordinates.forEach(a=>{a.forEach(a=>l(a))}),c.length&&c.push(["Z"]));return c}}
p.registry=m;return p});w(a,"Maps/MapView.js",[a["Maps/MapViewOptionsDefault.js"],a["Maps/MapViewInsetsOptionsDefault.js"],a["Extensions/GeoJSON.js"],a["Core/Chart/MapChart.js"],a["Maps/MapUtilities.js"],a["Maps/Projection.js"],a["Core/Utilities.js"]],function(a,m,u,z,q,h,A){const {topo2geo:f}=u,{maps:x}=z,{boundsFromPath:p,pointInPolygon:k}=q,{addEvent:F,clamp:e,fireEvent:g,isArray:c,isNumber:b,isObject:d,isString:v,merge:C,pick:r,relativeLength:D}=A,l=(a,b)=>{const {width:n,height:c}=b;return Math.log(400.979322/
Math.max((a.x2-a.x1)/(n/256),(a.y2-a.y1)/(c/256)))/Math.log(2)};class y{static mergeInsets(a,b){const n=a=>{const b={};a.forEach((a,n)=>{b[a&&a.id||`i${n}`]=a});return b},c=C(n(a),n(b));return Object.keys(c).map(a=>c[a])}createInsets(){const a=this.options,b=a.insets;b&&b.forEach(b=>{b=new H(this,C(a.insetOptions,b));this.insets.push(b)})}constructor(n,c){this.allowTransformAnimation=!0;this.insets=[];this.padding=[0,0,0,0];this.eventsToUnbind=[];let d,e;if(!(this instanceof H)){var l=[n.options.chart.map,
...(n.options.series||[]).map(a=>a.mapData)].map(a=>this.getGeoMap(a));const a=[];l.forEach(b=>{if(b&&(d||(d=b["hc-recommended-mapview"]),b.bbox)){const [c,n,d,g]=b.bbox;a.push({x1:c,y1:n,x2:d,y2:g})}});const b=a.length&&y.compositeBounds(a);g(n,"beforeMapViewInit",{geoBounds:b},function(){if(b){const {x1:a,y1:c,x2:n,y2:d}=b;e=180<n-a&&90<d-c?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[c,d],rotation:[-(a+n)/2]}}});this.geoMap=l[0]}this.userOptions=c||{};n.options.mapView&&n.options.mapView.recommendedMapView&&
(d=n.options.mapView.recommendedMapView);l=C(a,{projection:e},d,c);const f=d&&d.insets;c=c&&c.insets;f&&c&&(l.insets=y.mergeInsets(f,c));this.chart=n;this.center=l.center;this.options=l;this.projection=new h(l.projection);this.playingField=n.plotBox;this.zoom=l.zoom||0;this.minZoom=l.minZoom;this.createInsets();this.eventsToUnbind.push(F(n,"afterSetChartSize",()=>{this.playingField=this.getField();if(void 0===this.minZoom||this.minZoom===this.zoom)this.fitToBounds(void 0,void 0,!1),!this.chart.hasRendered&&
b(this.userOptions.zoom)&&(this.zoom=this.userOptions.zoom),this.userOptions.center&&C(!0,this.center,this.userOptions.center)}));this.setUpEvents()}fitToBounds(a,b,d=!0,g){const n=a||this.getProjectedBounds();if(n){var e=r(b,a?0:this.options.padding);b=this.getField(!1);e=c(e)?e:[e,e,e,e];this.padding=[D(e[0],b.height),D(e[1],b.width),D(e[2],b.height),D(e[3],b.width)];this.playingField=this.getField();b=l(n,this.playingField);a||(this.minZoom=b);a=this.projection.inverse([(n.x2+n.x1)/2,(n.y2+n.y1)/
2]);this.setView(a,b,d,g)}}getField(a=!0){a=a?this.padding:[0,0,0,0];return{x:a[3],y:a[0],width:this.chart.plotWidth-a[1]-a[3],height:this.chart.plotHeight-a[0]-a[2]}}getGeoMap(a){if(v(a))return x[a]&&"Topology"===x[a].type?f(x[a]):x[a];if(d(a,!0)){if("FeatureCollection"===a.type)return a;if("Topology"===a.type)return f(a)}}getMapBBox(){const a=this.getProjectedBounds(),b=this.getScale();if(a){const c=this.padding,n=this.projectedUnitsToPixels({x:a.x1,y:a.y2});return{width:(a.x2-a.x1)*b+c[1]+c[3],
height:(a.y2-a.y1)*b+c[0]+c[2],x:n.x-c[3],y:n.y-c[0]}}}getProjectedBounds(){const a=this.projection;var b=this.chart.series.reduce((a,b)=>{const c=b.getProjectedBounds&&b.getProjectedBounds();c&&!1!==b.options.affectsMapView&&a.push(c);return a},[]),c=this.options.fitToGeometry;return c?(this.fitToGeometryCache||("MultiPoint"===c.type?(c=c.coordinates.map(b=>a.forward(b)),b=c.map(a=>a[0]),c=c.map(a=>a[1]),this.fitToGeometryCache={x1:Math.min.apply(0,b),x2:Math.max.apply(0,b),y1:Math.min.apply(0,c),
y2:Math.max.apply(0,c)}):this.fitToGeometryCache=p(a.path(c))),this.fitToGeometryCache):this.projection.bounds||y.compositeBounds(b)}getScale(){return 256/400.979322*Math.pow(2,this.zoom)}getSVGTransform(){const {x:a,y:b,width:c,height:d}=this.playingField,g=this.projection.forward(this.center);var e=this.projection.hasCoordinates?-1:1;const l=this.getScale();e*=l;return{scaleX:l,scaleY:e,translateX:a+c/2-g[0]*l,translateY:b+d/2-g[1]*e}}lonLatToPixels(a){if(a=this.lonLatToProjectedUnits(a))return this.projectedUnitsToPixels(a)}lonLatToProjectedUnits(a){const b=
this.chart,c=b.mapTransforms;if(c){for(const n in c)if(Object.hasOwnProperty.call(c,n)&&c[n].hitZone){var d=b.transformFromLatLon(a,c[n]);if(d&&k(d,c[n].hitZone.coordinates[0]))return d}return b.transformFromLatLon(a,c["default"])}for(d of this.insets)if(d.options.geoBounds&&k({x:a.lon,y:a.lat},d.options.geoBounds.coordinates[0]))return a=d.projection.forward([a.lon,a.lat]),a=d.projectedUnitsToPixels({x:a[0],y:a[1]}),this.pixelsToProjectedUnits(a);a=this.projection.forward([a.lon,a.lat]);if(!a.outside)return{x:a[0],
y:a[1]}}projectedUnitsToLonLat(a){var b=this.chart;const c=b.mapTransforms;if(c){for(const d in c)if(Object.hasOwnProperty.call(c,d)&&c[d].hitZone&&k(a,c[d].hitZone.coordinates[0]))return b.transformToLatLon(a,c[d]);return b.transformToLatLon(a,c["default"])}b=this.projectedUnitsToPixels(a);for(var d of this.insets)if(d.hitZone&&k(b,d.hitZone.coordinates[0]))return a=d.pixelsToProjectedUnits(b),d=d.projection.inverse([a.x,a.y]),{lon:d[0],lat:d[1]};d=this.projection.inverse([a.x,a.y]);return{lon:d[0],
lat:d[1]}}redraw(a){this.chart.series.forEach(a=>{a.useMapGeometry&&(a.isDirty=!0)});this.chart.redraw(a)}setView(a,c,d=!0,e){a&&(this.center=a);"number"===typeof c&&("number"===typeof this.minZoom&&(c=Math.max(c,this.minZoom)),"number"===typeof this.options.maxZoom&&(c=Math.min(c,this.options.maxZoom)),b(c)&&(this.zoom=c));var l=this.getProjectedBounds();if(l){a=this.projection.forward(this.center);const {x:b,y:d,width:g,height:e}=this.playingField;c=this.getScale();var n=this.projectedUnitsToPixels({x:l.x1,
y:l.y1}),f=this.projectedUnitsToPixels({x:l.x2,y:l.y2});l=[(l.x1+l.x2)/2,(l.y1+l.y2)/2];if(!this.chart.series.some(a=>a.isDrilling)){const h=n.x,k=f.y;f=f.x;n=n.y;f-h<g?a[0]=l[0]:h<b&&f<b+g?a[0]+=Math.max(h-b,f-g-b)/c:f>b+g&&h>b&&(a[0]+=Math.min(f-g-b,h-b)/c);n-k<e?a[1]=l[1]:k<d&&n<d+e?a[1]-=Math.max(k-d,n-e-d)/c:n>d+e&&k>d&&(a[1]-=Math.min(n-e-d,k-d)/c);this.center=this.projection.inverse(a)}this.insets.forEach(a=>{a.options.field&&(a.hitZone=a.getHitZone(),a.playingField=a.getField())});this.render()}g(this,
"afterSetView");d&&this.redraw(e)}projectedUnitsToPixels(a){const b=this.getScale(),c=this.projection.forward(this.center),d=this.playingField;return{x:d.x+d.width/2-b*(c[0]-a.x),y:d.y+d.height/2+b*(c[1]-a.y)}}pixelsToLonLat(a){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(a))}pixelsToProjectedUnits(a){const {x:b,y:c}=a;a=this.getScale();const d=this.projection.forward(this.center),g=this.playingField;return{x:d[0]+(b-(g.x+g.width/2))/a,y:d[1]-(c-(g.y+g.height/2))/a}}setUpEvents(){const {chart:a}=
this;let c,d,g;const f=n=>{var f=a.pointer.pinchDown,h=this.projection;let {mouseDownX:k,mouseDownY:r}=a;1===f.length&&(k=f[0].chartX,r=f[0].chartY);if("number"===typeof k&&"number"===typeof r){f=`${k},${r}`;const {chartX:m,chartY:y}=n.originalEvent;f!==d&&(d=f,c=this.projection.forward(this.center),g=(this.projection.options.rotation||[0,0]).slice());f=(f=h.def&&h.def.bounds)&&l(f,this.playingField)||-Infinity;if("Orthographic"===h.options.name&&(this.minZoom||Infinity)<1.3*f){if(f=440/(this.getScale()*
Math.min(a.plotWidth,a.plotHeight)),g){h=(k-m)*f-g[0];f=e(-g[1]-(r-y)*f,-80,80);const b=this.zoom;this.update({projection:{rotation:[-h,-f]}},!1);this.fitToBounds(void 0,void 0,!1);this.zoom=b;a.redraw(!1)}}else b(m)&&b(y)&&(h=this.getScale(),h=this.projection.inverse([c[0]+(k-m)/h,c[1]-(r-y)/h*(this.projection.hasCoordinates?1:-1)]),isNaN(h[0]+h[1])||this.setView(h,void 0,!0,!1));n.preventDefault()}};F(a,"pan",f);F(a,"touchpan",f);F(a,"selection",b=>{if(b.resetSelection)this.zoomBy();else{const c=
b.x-a.plotLeft,d=b.y-a.plotTop,{y:g,x:e}=this.pixelsToProjectedUnits({x:c,y:d}),{y:l,x:f}=this.pixelsToProjectedUnits({x:c+b.width,y:d+b.height});this.fitToBounds({x1:e,y1:g,x2:f,y2:l},void 0,!0,b.originalEvent.touches?!1:void 0);/^touch/.test(b.originalEvent.type)||a.showResetZoom();b.preventDefault()}})}render(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())}update(a,c=!0,d){var g=a.projection;g=g&&h.toString(g)!==h.toString(this.options.projection);let e=!1;C(!0,
this.userOptions,a);C(!0,this.options,a);"insets"in a&&(this.insets.forEach(a=>a.destroy()),this.insets.length=0,e=!0);(g||"fitToGeometry"in a)&&delete this.fitToGeometryCache;if(g||e)this.chart.series.forEach(a=>{const b=a.transformGroups;a.clearBounds&&a.clearBounds();a.isDirty=!0;a.isDirtyData=!0;if(e&&b)for(;1<b.length;)(a=b.pop())&&a.destroy()}),g&&(this.projection=new h(this.options.projection)),e&&this.createInsets(),a.center||!Object.hasOwnProperty.call(a,"zoom")||b(a.zoom)||this.fitToBounds(void 0,
void 0,!1);a.center||b(a.zoom)?this.setView(this.options.center,a.zoom,!1):"fitToGeometry"in a&&this.fitToBounds(void 0,void 0,!1);c&&this.chart.redraw(d)}zoomBy(a,b,c,d){var g=this.chart;const e=this.projection.forward(this.center);let [l,f]=b?this.projection.forward(b):[];if("number"===typeof a){a=this.zoom+a;if(c){const [a,d]=c;c=this.getScale();b=d-g.plotTop-g.plotHeight/2;l=e[0]+(a-g.plotLeft-g.plotWidth/2)/c;f=e[1]+b/c}if("number"===typeof l&&"number"===typeof f){g=1-Math.pow(2,this.zoom)/Math.pow(2,
a);var h=e[1]-f;e[0]-=(e[0]-l)*g;e[1]+=h*g;h=this.projection.inverse(e)}this.setView(h,a,void 0,d)}else this.fitToBounds(void 0,void 0,void 0,d)}}y.compositeBounds=a=>{if(a.length)return a.slice(1).reduce((a,b)=>{a.x1=Math.min(a.x1,b.x1);a.y1=Math.min(a.y1,b.y1);a.x2=Math.max(a.x2,b.x2);a.y2=Math.max(a.y2,b.y2);return a},C(a[0]))};class H extends y{constructor(a,b){super(a.chart,b);this.id=b.id;this.mapView=a;this.options=C(m,b);this.allBounds=[];this.options.geoBounds&&(a=a.projection.path(this.options.geoBounds),
this.geoBoundsProjectedBox=p(a),this.geoBoundsProjectedPolygon=a.map(a=>[a[1]||0,a[2]||0]))}getField(a=!0){var c=this.hitZone;if(c){var d=a?this.padding:[0,0,0,0];c=c.coordinates[0];var g=c.map(a=>a[0]);const e=c.map(a=>a[1]);c=Math.min.apply(0,g)+d[3];g=Math.max.apply(0,g)-d[1];const l=Math.min.apply(0,e)+d[0];d=Math.max.apply(0,e)-d[2];if(b(c)&&b(l))return{x:c,y:l,width:g-c,height:d-l}}return super.getField.call(this,a)}getHitZone(){const {chart:a,mapView:b,options:c}=this;var {coordinates:d}=c.field||
{};if(d){d=d[0];if("percent"===c.units){const g="mapBoundingBox"===c.relativeTo&&b.getMapBBox()||C(a.plotBox,{x:0,y:0});d=d.map(a=>[D(`${a[0]}%`,g.width,g.x),D(`${a[1]}%`,g.height,g.y)])}return{type:"Polygon",coordinates:[d]}}}getProjectedBounds(){return y.compositeBounds(this.allBounds)}isInside(a){const {geoBoundsProjectedBox:b,geoBoundsProjectedPolygon:c}=this;return!!(b&&a.x>=b.x1&&a.x<=b.x2&&a.y>=b.y1&&a.y<=b.y2&&c&&k(a,c))}render(){const {chart:a,mapView:b,options:c}=this;var d=c.borderPath||
c.field;if(d&&b.group){let g=!0;this.border||(this.border=a.renderer.path().addClass("highcharts-mapview-inset-border").add(b.group),g=!1);a.styledMode||this.border.attr({stroke:c.borderColor,"stroke-width":c.borderWidth});const e=Math.round(this.border.strokeWidth())%2/2,l="mapBoundingBox"===c.relativeTo&&b.getMapBBox()||b.playingField;d=(d.coordinates||[]).reduce((b,d)=>d.reduce((b,d,g)=>{let [f,h]=d;"percent"===c.units&&(f=a.plotLeft+D(`${f}%`,l.width,l.x),h=a.plotTop+D(`${h}%`,l.height,l.y));
f=Math.floor(f)+e;h=Math.floor(h)+e;b.push(0===g?["M",f,h]:["L",f,h]);return b},b),[]);this.border[g?"animate":"attr"]({d})}}destroy(){this.border&&(this.border=this.border.destroy());this.eventsToUnbind.forEach(a=>a())}setUpEvents(){}}F(z,"afterInit",function(){this.mapView=new y(this,this.options.mapView)},{order:0});return y});w(a,"Series/Map/MapSeries.js",[a["Core/Animation/AnimationUtilities.js"],a["Series/ColorMapComposition.js"],a["Series/CenteredUtilities.js"],a["Core/Globals.js"],a["Core/Chart/MapChart.js"],
a["Series/Map/MapPoint.js"],a["Maps/MapView.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,m,u,z,q,h,A,t,x,p,k){const {animObject:f,stop:e}=a;({noop:a}=z);const {splitPath:g}=q,{seriesTypes:{column:c,scatter:b}}=x,{extend:d,find:v,fireEvent:C,getNestedProperty:r,isArray:D,defined:l,isNumber:y,isObject:H,merge:n,objectEach:B,pick:E,splat:G}=k;class w extends b{constructor(){super(...arguments);this.points=
this.options=this.joinBy=this.group=this.data=this.chart=void 0;this.processedData=[]}animate(a){const {chart:b,group:c}=this,d=f(this.options.animation);a?c.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.001,scaleY:.001}):c.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1},d)}clearBounds(){this.points.forEach(a=>{delete a.bounds;delete a.insetIndex;delete a.projectedPath});delete this.bounds}doFullTranslate(){return!(!this.isDirtyData&&
!this.chart.isResizing&&this.hasRendered)}drawMapDataLabels(){t.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}drawPoints(){const a=this,{chart:b,group:d,transformGroups:g=[]}=this,{mapView:l,renderer:h}=b;l&&(this.transformGroups=g,g[0]||(g[0]=h.g().add(d)),l.insets.forEach((a,b)=>{g[b+1]||g.push(h.g().add(d))}),this.doFullTranslate()&&(this.points.forEach(a=>{const {graphic:b}=a;a.group=g["number"===typeof a.insetIndex?a.insetIndex+1:0];
b&&b.parentGroup!==a.group&&b.add(a.group)}),c.prototype.drawPoints.apply(this),this.points.forEach(c=>{const d=c.graphic;if(d){const g=d.animate;let e="";c.name&&(e+="highcharts-name-"+c.name.replace(/ /g,"-").toLowerCase());c.properties&&c.properties["hc-key"]&&(e+=" highcharts-key-"+c.properties["hc-key"].toString().toLowerCase());e&&d.addClass(e);b.styledMode&&d.css(this.pointAttribs(c,c.selected&&"select"||void 0));d.animate=function(c,e,l){const f=y(c["stroke-width"])&&!y(d["stroke-width"]),
h=y(d["stroke-width"])&&!y(c["stroke-width"]);if(f||h){const g=E(a.getStrokeWidth(a.options),1)/(b.mapView&&b.mapView.getScale()||1);f&&(d["stroke-width"]=g);h&&(c["stroke-width"]=g)}return g.call(d,c,e,h?function(){d.element.removeAttribute("stroke-width");delete d["stroke-width"];l&&l.apply(this,arguments)}:l)}}})),g.forEach((c,d)=>{const g=(0===d?l:l.insets[d-1]).getSVGTransform(),k=E(this.getStrokeWidth(this.options),1),r=g.scaleX,m=0<g.scaleY?1:-1,y=b=>{(a.points||[]).forEach(a=>{const c=a.graphic;
let d;c&&c["stroke-width"]&&(d=this.getStrokeWidth(a.options))&&c.attr({"stroke-width":d/b})})};if(h.globalAnimation&&b.hasRendered&&l.allowTransformAnimation){const a=Number(c.attr("translateX")),b=Number(c.attr("translateY")),e=Number(c.attr("scaleX")),l=(d,l)=>{d=e+(r-e)*l.pos;c.attr({translateX:a+(g.translateX-a)*l.pos,translateY:b+(g.translateY-b)*l.pos,scaleX:d,scaleY:d*m,"stroke-width":k/d});y(d)};d=n(f(h.globalAnimation));const p=d.step;d.step=function(a){p&&p.apply(this,arguments);l.apply(this,
arguments)};c.attr({animator:0}).animate({animator:1},d,function(){"boolean"!==typeof h.globalAnimation&&h.globalAnimation.complete&&h.globalAnimation.complete({applyDrilldown:!0})})}else e(c),c.attr(n(g,{"stroke-width":k/r})),y(r)}),this.isDrilling||this.drawMapDataLabels())}getProjectedBounds(){if(!this.bounds&&this.chart.mapView){const {insets:a,projection:b}=this.chart.mapView,c=[];(this.points||[]).forEach(function(d){if(d.path||d.geometry){"string"===typeof d.path?d.path=g(d.path):D(d.path)&&
"M"===d.path[0]&&(d.path=p.prototype.pathToSegments(d.path));if(!d.bounds){let c=d.getProjectedBounds(b);if(c){d.labelrank=E(d.labelrank,(c.x2-c.x1)*(c.y2-c.y1));const {midX:b,midY:g}=c;if(a&&y(b)&&y(g)){const e=v(a,a=>a.isInside({x:b,y:g}));e&&(delete d.projectedPath,(c=d.getProjectedBounds(e.projection))&&e.allBounds.push(c),d.insetIndex=a.indexOf(e))}d.bounds=c}}d.bounds&&void 0===d.insetIndex&&c.push(d.bounds)}});this.bounds=A.compositeBounds(c)}return this.bounds}getStrokeWidth(a){const b=this.pointAttrToOptions;
return a[b&&b["stroke-width"]||"borderWidth"]}hasData(){return!!this.processedXData.length}pointAttribs(a,b){var d;const {mapView:g,styledMode:e}=a.series.chart,f=e?this.colorAttribs(a):c.prototype.pointAttribs.call(this,a,b);let h=this.getStrokeWidth(a.options);if(b){b=n(this.options.states[b],a.options.states&&a.options.states[b]||{});const c=this.getStrokeWidth(b);l(c)&&(h=c);f.stroke=null!==(d=b.borderColor)&&void 0!==d?d:a.color}h&&g&&(h/=g.getScale());d=this.getStrokeWidth(this.options);f.dashstyle&&
g&&y(d)&&(h=d/g.getScale());a.visible||(f.fill=this.options.nullColor);l(h)?f["stroke-width"]=h:delete f["stroke-width"];f["stroke-linecap"]=f["stroke-linejoin"]=this.options.linecap;return f}updateData(){return this.processedData?!1:super.updateData.apply(this,arguments)}setData(a,b=!0,c,d){delete this.bounds;super.setData.call(this,a,!1,void 0,d);this.processData();this.generatePoints();b&&this.chart.redraw(c)}processData(){const a=this.options,b=a.data;var c=this.chart.options.chart;const d=this.joinBy,
g=a.keys||this.pointArrayMap,e=[],l={};var f=this.chart.mapView;f=f&&(H(a.mapData,!0)?f.getGeoMap(a.mapData):f.geoMap);var k=this.chart.mapTransforms;(this.chart.mapTransforms=k=c.mapTransforms||f&&f["hc-transform"]||k)&&B(k,function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))});let m;D(a.mapData)?m=a.mapData:f&&"FeatureCollection"===f.type&&(this.mapTitle=f.title,m=z.geojson(f,this.type,this));const p=this.processedData=[];b&&b.forEach(function(c,e){let l=0;if(y(c))p[e]=
{value:c};else if(D(c)){p[e]={};!a.keys&&c.length>g.length&&"string"===typeof c[0]&&(p[e]["hc-key"]=c[0],++l);for(let a=0;a<g.length;++a,++l)g[a]&&"undefined"!==typeof c[l]&&(0<g[a].indexOf(".")?h.prototype.setNestedProperty(p[e],c[l],g[a]):p[e][g[a]]=c[l])}else p[e]=b[e];d&&"_i"===d[0]&&(p[e]._i=e)});if(m){this.mapData=m;this.mapMap={};for(k=0;k<m.length;k++)c=m[k],f=c.properties,c._i=k,d[0]&&f&&f[d[0]]&&(c[d[0]]=f[d[0]]),l[c[d[0]]]=c;this.mapMap=l;if(d[1]){const a=d[1];p.forEach(function(b){b=r(a,
b);l[b]&&e.push(l[b])})}if(a.allAreas){if(d[1]){const a=d[1];p.forEach(function(b){e.push(r(a,b))})}const a="|"+e.map(function(a){return a&&a[d[0]]}).join("|")+"|";m.forEach(function(b){d[0]&&-1!==a.indexOf("|"+b[d[0]]+"|")||p.push(n(b,{value:null}))})}}this.processedXData=Array(p.length)}setOptions(a){a=t.prototype.setOptions.call(this,a);let b=a.joinBy;null===b&&(b="_i");b=this.joinBy=G(b);b[1]||(b[1]=b[0]);return a}translate(){const a=this.doFullTranslate(),b=this.chart.mapView,c=b&&b.projection;
!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!b||b.userOptions.center||y(b.userOptions.zoom)||b.zoom!==b.minZoom?this.getProjectedBounds():b.fitToBounds(void 0,void 0,!1));if(b){const d=b.getSVGTransform();this.points.forEach(function(g){const e=y(g.insetIndex)&&b.insets[g.insetIndex].getSVGTransform()||d;e&&g.bounds&&y(g.bounds.midX)&&y(g.bounds.midY)&&(g.plotX=g.bounds.midX*e.scaleX+e.translateX,g.plotY=g.bounds.midY*
e.scaleY+e.translateY);a&&(g.shapeType="path",g.shapeArgs={d:h.getProjectedPath(g,c)});g.projectedPath&&!g.projectedPath.length?g.setVisible(!1):g.visible||g.setVisible(!0)})}C(this,"afterTranslate")}}w.defaultOptions=n(b.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){const {numberFormatter:a}=this.series.chart,{value:b}=this.point;return y(b)?a(b,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"round",marker:null,nullColor:"#f7f7f7",
stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#e6e6e6",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:void 0,borderColor:"#666666",borderWidth:2},normal:{animation:!0},select:{color:"#cccccc"}},legendSymbol:"rectangle"});d(w.prototype,{type:"map",axisTypes:m.seriesMembers.axisTypes,colorAttribs:m.seriesMembers.colorAttribs,colorKey:m.seriesMembers.colorKey,directTouch:!0,drawDataLabels:a,drawGraph:a,forceDL:!0,
getCenter:u.getCenter,getExtremesFromAll:!0,getSymbol:a,isCartesian:!1,parallelArrays:m.seriesMembers.parallelArrays,pointArrayMap:m.seriesMembers.pointArrayMap,pointClass:h,preserveAspectRatio:!0,searchPoint:a,trackerGroups:m.seriesMembers.trackerGroups,useMapGeometry:!0});m.compose(w);x.registerSeriesType("map",w);"";return w});w(a,"Series/MapLine/MapLineSeries.js",[a["Series/Map/MapSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,u){const {extend:f,merge:q}=u;
class h extends a{constructor(){super(...arguments);this.points=this.options=this.data=void 0}pointAttribs(f,h){f=a.prototype.pointAttribs.call(this,f,h);f.fill=this.options.fillColor;return f}}h.defaultOptions=q(a.defaultOptions,{lineWidth:1,fillColor:"none",legendSymbol:"lineMarker"});f(h.prototype,{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}});m.registerSeriesType("mapline",h);"";return h});w(a,"Series/MapPoint/MapPointPoint.js",[a["Core/Series/SeriesRegistry.js"],
a["Core/Utilities.js"]],function(a,m){({seriesTypes:{scatter:a}}=a);const {isNumber:f}=m;class z extends a.prototype.pointClass{constructor(){super(...arguments);this.series=this.options=void 0}isValid(){return!!(this.options.geometry||f(this.x)&&f(this.y)||f(this.options.lon)&&f(this.options.lat))}}return z});w(a,"Series/MapPoint/MapPointSeries.js",[a["Core/Globals.js"],a["Series/MapPoint/MapPointPoint.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],
function(a,m,u,z,q){({noop:a}=a);const {seriesTypes:{map:f,scatter:A}}=u,{extend:t,fireEvent:x,isNumber:p,merge:k}=q;class w extends A{constructor(){super(...arguments);this.points=this.options=this.data=this.chart=void 0;this.clearBounds=f.prototype.clearBounds}drawDataLabels(){super.drawDataLabels();this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}projectPoint(a){const g=this.chart.mapView;if(g){const {geometry:c,lon:b,lat:d}=a;a=c&&"Point"===c.type&&c.coordinates;p(b)&&p(d)&&
(a=[b,d]);if(a)return g.lonLatToProjectedUnits({lon:a[0],lat:a[1]})}}translate(){const a=this.chart.mapView;this.processedXData||this.processData();this.generatePoints();this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds());if(a){const g=a.getSVGTransform(),{hasCoordinates:c}=a.projection;this.points.forEach(b=>{let {x:d,y:e}=b;var f=p(b.insetIndex)&&a.insets[b.insetIndex].getSVGTransform()||g;const h=this.projectPoint(b.options)||b.properties&&this.projectPoint(b.properties);
let k;h?(d=h.x,e=h.y):b.bounds&&(d=b.bounds.midX,e=b.bounds.midY,f&&p(d)&&p(e)&&(b.plotX=d*f.scaleX+f.translateX,b.plotY=e*f.scaleY+f.translateY,k=!0));p(d)&&p(e)?k||(f=a.projectedUnitsToPixels({x:d,y:e}),b.plotX=f.x,b.plotY=c?f.y:this.chart.plotHeight-f.y):b.y=b.plotX=b.plotY=void 0;b.isInside=this.isPointInside(b);b.zone=this.zones.length?b.getZone():void 0})}x(this,"afterTranslate")}}w.defaultOptions=k(A.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},
overflow:!1,style:{color:"#000000"}},legendSymbol:"lineMarker"});z.prototype.symbols.mapmarker=(a,g,c,b,d)=>{const e=d&&"legend"===d.context;e?(a+=c/2,d=g+b):d&&"number"===typeof d.anchorX&&"number"===typeof d.anchorY?(a=d.anchorX,d=d.anchorY):(a+=c/2,d=g+b/2,g-=b);b=e?b/3:b/2;return[["M",a,d],["C",a,d,a-b,g+1.5*b,a-b,g+b],["A",b,b,1,1,1,a+b,g+b],["C",a+b,g+1.5*b,a,d,a,d],["Z"]]};t(w.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:m,searchPoint:a,useMapGeometry:!0});
u.registerSeriesType("mappoint",w);"";return w});w(a,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},
sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}});w(a,"Series/Bubble/BubbleLegendItem.js",[a["Core/Color/Color.js"],a["Core/Templating.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,m,u,z){const {parse:f}=a,{noop:h}=u,{arrayMax:A,arrayMin:t,isNumber:x,merge:p,pick:k,stableSort:w}=z;class e{constructor(a,c){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0;this.setState=h;this.init(a,c)}init(a,c){this.options=
a;this.visible=!0;this.chart=c.chart;this.legend=c}addToLegend(a){a.splice(this.options.legendIndex,0,this)}drawLegendSymbol(a){const c=k(a.options.itemDistance,20),b=this.legendItem||{},d=this.options;var g=d.ranges,e=d.connectorDistance;if(g&&g.length&&x(g[0].value)){w(g,function(a,b){return b.value-a.value});this.ranges=g;this.setOptions();this.render();a=this.getMaxLabelSize();var f=this.ranges[0].radius;g=2*f;e=e-f+a.width;e=0<e?e:0;this.maxLabel=a;this.movementX="left"===d.labels.align?e:0;
b.labelWidth=g+e+c;b.labelHeight=g+a.height/2}else a.options.bubbleLegend.autoRanges=!0}setOptions(){const a=this.ranges,c=this.options,b=this.chart.series[c.seriesIndex],d=this.legend.baseline,e={zIndex:c.zIndex,"stroke-width":c.borderWidth},h={zIndex:c.zIndex,"stroke-width":c.connectorWidth},m={align:this.legend.options.rtl||"left"===c.labels.align?"right":"left",zIndex:c.zIndex},t=b.options.marker.fillOpacity,l=this.chart.styledMode;a.forEach(function(g,r){l||(e.stroke=k(g.borderColor,c.borderColor,
b.color),e.fill=k(g.color,c.color,1!==t?f(b.color).setOpacity(t).get("rgba"):b.color),h.stroke=k(g.connectorColor,c.connectorColor,b.color));a[r].radius=this.getRangeRadius(g.value);a[r]=p(a[r],{center:a[0].radius-a[r].radius+d});l||p(!0,a[r],{bubbleAttribs:p(e),connectorAttribs:p(h),labelAttribs:m})},this)}getRangeRadius(a){const c=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,c.ranges[c.ranges.length-1].value,c.ranges[0].value,c.minSize,c.maxSize,a)}render(){const a=
this.legendItem||{},c=this.chart.renderer,b=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]});a.symbol=c.g("bubble-legend");a.label=c.g("bubble-legend-item").css(this.legend.itemStyle||{});a.symbol.translateX=0;a.symbol.translateY=0;a.symbol.add(a.label);a.label.add(a.group);for(const a of this.ranges)a.value>=b&&this.renderRange(a);this.hideOverlappingLabels()}renderRange(a){var c=this.options;const b=c.labels;var d=this.chart;const g=d.series[c.seriesIndex],
e=d.renderer,f=this.symbols;d=f.labels;const h=a.center,l=Math.abs(a.radius);var k=c.connectorDistance||0;const m=b.align,n=c.connectorWidth,p=this.ranges[0].radius||0,t=h-l-c.borderWidth/2+n/2,q=e.styledMode;k=this.legend.options.rtl||"left"===m?-k:k;"center"===m&&(k=0,c.connectorDistance=0,a.labelAttribs.align="center");f.bubbleItems.push(e.circle(p,h+((t%1?1:.5)-(n%2?0:.5)),l).attr(q?{}:a.bubbleAttribs).addClass((q?"highcharts-color-"+g.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(c.className||
"")).add(this.legendItem.symbol));f.connectors.push(e.path(e.crispLine([["M",p,t],["L",p+k,t]],c.connectorWidth)).attr(q?{}:a.connectorAttribs).addClass((q?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(c.connectorClassName||"")).add(this.legendItem.symbol));a=e.text(this.formatLabel(a)).attr(q?{}:a.labelAttribs).css(q?{}:b.style).addClass("highcharts-bubble-legend-labels "+(c.labels.className||"")).add(this.legendItem.symbol);c={x:p+k+c.labels.x,y:t+
c.labels.y+.4*a.getBBox().height};a.attr(c);d.push(a);a.placed=!0;a.alignAttr=c}getMaxLabelSize(){let a,c;this.symbols.labels.forEach(function(b){c=b.getBBox(!0);a=a?c.width>a.width?c:a:c});return a||{}}formatLabel(a){var c=this.options;const b=c.labels.formatter;c=c.labels.format;const {numberFormatter:d}=this.chart;return c?m.format(c,a):b?b.call(a):d(a.value,1)}hideOverlappingLabels(){const a=this.chart,c=this.symbols;!this.options.labels.allowOverlap&&c&&(a.hideOverlappingLabels(c.labels),c.labels.forEach(function(a,
d){a.newOpacity?a.newOpacity!==a.oldOpacity&&c.connectors[d].show():c.connectors[d].hide()}))}getRanges(){const a=this.legend.bubbleLegend,c=a.options.ranges;let b,d,e=Number.MAX_VALUE,f=-Number.MAX_VALUE;a.chart.series.forEach(function(a){a.isBubble&&!a.ignoreSeries&&(d=a.zData.filter(x),d.length&&(e=k(a.options.zMin,Math.min(e,Math.max(t(d),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),f=k(a.options.zMax,Math.max(f,A(d)))))});b=e===f?[{value:f}]:[{value:e},{value:(e+f)/
2},{value:f,autoRanges:!0}];c.length&&c[0].radius&&b.reverse();b.forEach(function(a,d){c&&c[d]&&(b[d]=p(c[d],a))});return b}predictBubbleSizes(){var a=this.chart,c=a.legend.options,b=c.floating;const d=(c="horizontal"===c.layout)?a.legend.lastLineHeight:0,e=a.plotSizeX,f=a.plotSizeY;var h=a.series[this.options.seriesIndex],k=h.getPxExtremes();a=Math.ceil(k.minPxSize);k=Math.ceil(k.maxPxSize);const l=Math.min(f,e);h=h.options.maxSize;if(b||!/%$/.test(h))b=k;else if(h=parseFloat(h),b=(l+d)*h/100/(h/
100+1),c&&f-b>=e||!c&&e-b>=f)b=k;return[a,Math.ceil(b)]}updateRanges(a,c){const b=this.legend.options.bubbleLegend;b.minSize=a;b.maxSize=c;b.ranges=this.getRanges()}correctSizes(){const a=this.legend,c=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(c.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,c.maxPxSize),a.render())}}"";return e});w(a,"Series/Bubble/BubbleLegendComposition.js",[a["Series/Bubble/BubbleLegendDefaults.js"],a["Series/Bubble/BubbleLegendItem.js"],
a["Core/Defaults.js"],a["Core/Utilities.js"]],function(a,m,u,z){function f(a,c,g){const b=this.legend;var d=0<=h(this);let f,l;b&&b.options.enabled&&b.bubbleLegend&&b.options.bubbleLegend.autoRanges&&d?(f=b.bubbleLegend.options,d=b.bubbleLegend.predictBubbleSizes(),b.bubbleLegend.updateRanges(d[0],d[1]),f.placed||(b.group.placed=!1,b.allItems.forEach(a=>{l=a.legendItem||{};l.group&&(l.group.translateY=null)})),b.render(),this.getMargins(),this.axes.forEach(function(a){a.visible&&a.render();f.placed||
(a.setScale(),a.updateNames(),e(a.ticks,function(a){a.isNew=!0;a.isNewLabel=!0}))}),f.placed=!0,this.getMargins(),a.call(this,c,g),b.bubbleLegend.correctSizes(),p(b,A(b))):(a.call(this,c,g),b&&b.options.enabled&&b.bubbleLegend&&(b.render(),p(b,A(b))))}function h(a){a=a.series;let b=0;for(;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;b++}return-1}function A(a){a=a.allItems;const b=[],c=a.length;let e,g,f=0;for(g=0;g<c;g++){var l=a[g].legendItem||{};e=(a[g+1]||{}).legendItem||
{};l.labelHeight&&(a[g].itemHeight=l.labelHeight);if(a[g]===a[c-1]||l.y!==e.y){b.push({height:0});l=b[b.length-1];for(f;f<=g;f++)a[f].itemHeight>l.height&&(l.height=a[f].itemHeight);l.step=g}}return b}function t(a){const b=this.bubbleLegend,c=this.options,e=c.bubbleLegend,g=h(this.chart);b&&b.ranges&&b.ranges.length&&(e.ranges.length&&(e.autoRanges=!!e.ranges[0].autoRanges),this.destroyItem(b));0<=g&&c.enabled&&e.enabled&&(e.seriesIndex=g,this.bubbleLegend=new m(e,this),this.bubbleLegend.addToLegend(a.allItems))}
function x(a){if(a.defaultPrevented)return!1;var b=this.chart;a=this.visible;const c=this.chart.legend;c&&c.bubbleLegend&&(this.visible=!a,this.ignoreSeries=a,b=0<=h(b),c.bubbleLegend.visible!==b&&(c.update({bubbleLegend:{enabled:b}}),c.bubbleLegend.visible=b),this.visible=a)}function p(a,c){const b=a.options.rtl;let d,e,g,f,h=0;a.allItems.forEach((a,l)=>{f=a.legendItem||{};if(f.group){d=f.group.translateX||0;e=f.y||0;if((g=a.movementX)||b&&a.ranges)g=b?d-a.options.maxSize/2:d+g,f.group.attr({translateX:g});
l>c[h].step&&h++;f.group.attr({translateY:Math.round(e+c[h].height/2)});f.y=e+c[h].height/2}})}const {setOptions:k}=u,{addEvent:w,objectEach:e,wrap:g}=z,c=[];return{compose:function(b,d,e){z.pushUnique(c,b)&&(k({legend:{bubbleLegend:a}}),g(b.prototype,"drawChartBox",f));z.pushUnique(c,d)&&w(d,"afterGetAllItems",t);z.pushUnique(c,e)&&w(e,"legendItemClick",x)}}});w(a,"Series/Bubble/BubblePoint.js",[a["Core/Series/Point.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,u){({seriesTypes:{scatter:{prototype:{pointClass:m}}}}=
m);({extend:u}=u);class f extends m{constructor(){super(...arguments);this.series=this.options=void 0}haloPath(f){return a.prototype.haloPath.call(this,0===f?0:(this.marker?this.marker.radius||0:0)+f)}}u(f.prototype,{ttBelow:!1});return f});w(a,"Series/Bubble/BubbleSeries.js",[a["Series/Bubble/BubbleLegendComposition.js"],a["Series/Bubble/BubblePoint.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,u,z,q,h){function f(){const a=
this.len,b=this.chart,c=this.isXAxis,e=c?"xData":"yData",g=this.min,f=this.max-g;let h=0,k=a,m=a/f,p;this.series.forEach(a=>{if(a.bubblePadding&&(a.visible||!b.options.chart.ignoreHiddenSeries)){p=this.allowZoomOutside=!0;const b=a[e];c&&((a.onPoint||a).getRadii(0,0,a),a.onPoint&&(a.radii=a.onPoint.radii));if(0<f){let c=b.length;for(;c--;)if(d(b[c])&&this.dataMin<=b[c]&&b[c]<=this.max){const d=a.radii&&a.radii[c]||0;h=Math.min((b[c]-g)*m-d,h);k=Math.max((b[c]-g)*m+d,k)}}}});p&&0<f&&!this.logarithmic&&
(k-=a,m*=(a+Math.max(0,h)-Math.min(k,a))/a,[["min","userMin",h],["max","userMax",k]].forEach(a=>{"undefined"===typeof C(this.options[a[0]],this[a[1]])&&(this[a[0]]+=a[2]/m)}))}const {parse:t}=u;({noop:u}=z);const {series:x,seriesTypes:{column:{prototype:p},scatter:k}}=q,{addEvent:w,arrayMax:e,arrayMin:g,clamp:c,extend:b,isNumber:d,merge:v,pick:C}=h,r=[];class D extends k{constructor(){super(...arguments);this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=
void 0}static compose(b,c,d,e){a.compose(c,d,e);h.pushUnique(r,b)&&(b.prototype.beforePadding=f)}animate(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach(function(a){const {graphic:b}=a;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),this.options.animation))},this)}getRadii(){const a=this.zData,b=this.yData,c=[];let d,e,g,f=this.chart.bubbleZExtremes;const {minPxSize:h,maxPxSize:k}=this.getPxExtremes();if(!f){let a=
Number.MAX_VALUE,b=-Number.MAX_VALUE,c;this.chart.series.forEach(d=>{d.bubblePadding&&(d.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(d=(d.onPoint||d).getZExtremes())&&(a=Math.min(C(a,d.zMin),d.zMin),b=Math.max(C(b,d.zMax),d.zMax),c=!0)});c?(f={zMin:a,zMax:b},this.chart.bubbleZExtremes=f):f={zMin:0,zMax:0}}e=0;for(d=a.length;e<d;e++)g=a[e],c.push(this.getRadius(f.zMin,f.zMax,h,k,g,b&&b[e]));this.radii=c}getRadius(a,b,c,e,g,f){const h=this.options,l="width"!==h.sizeBy,k=h.zThreshold;let m=
b-a,n=.5;if(null===f||null===g)return null;if(d(g)){h.sizeByAbsoluteValue&&(g=Math.abs(g-k),m=Math.max(b-k,Math.abs(a-k)),a=0);if(g<a)return c/2-1;0<m&&(n=(g-a)/m)}l&&0<=n&&(n=Math.sqrt(n));return Math.ceil(c+n*(e-c))/2}hasData(){return!!this.processedXData.length}pointAttribs(a,b){const c=this.options.marker.fillOpacity;a=x.prototype.pointAttribs.call(this,a,b);1!==c&&(a.fill=t(a.fill).setOpacity(c).get("rgba"));return a}translate(){super.translate.call(this);this.getRadii();this.translateBubble()}translateBubble(){const {data:a,
options:c,radii:e}=this,{minPxSize:g}=this.getPxExtremes();let f=a.length;for(;f--;){const h=a[f],l=e?e[f]:0;"z"===this.zoneAxis&&(h.negative=(h.z||0)<(c.zThreshold||0));d(l)&&l>=g/2?(h.marker=b(h.marker,{radius:l,width:2*l,height:2*l}),h.dlBox={x:h.plotX-l,y:h.plotY-l,width:2*l,height:2*l}):(h.shapeArgs=h.plotY=h.dlBox=void 0,h.isInside=!1)}}getPxExtremes(){const a=Math.min(this.chart.plotWidth,this.chart.plotHeight);var b=b=>{let c;"string"===typeof b&&(c=/%$/.test(b),b=parseInt(b,10));return c?
a*b/100:b};const c=b(C(this.options.minSize,8));b=Math.max(b(C(this.options.maxSize,"20%")),c);return{minPxSize:c,maxPxSize:b}}getZExtremes(){var a=this.options;const b=(this.zData||[]).filter(d);if(b.length){const f=C(a.zMin,c(g(b),!1===a.displayNegative?a.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));a=C(a.zMax,e(b));if(d(f)&&d(a))return{zMin:f,zMax:a}}}}D.defaultOptions=v(k.defaultOptions,{dataLabels:{formatter:function(){const {numberFormatter:a}=this.series.chart,{z:b}=this.point;return d(b)?
a(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});b(D.prototype,{alignDataLabel:p.alignDataLabel,applyZones:u,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:m,parallelArrays:["x",
"y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"});w(D,"updatedData",a=>{delete a.target.chart.bubbleZExtremes});w(D,"remove",a=>{delete a.target.chart.bubbleZExtremes});q.registerSeriesType("bubble",D);"";"";return D});w(a,"Series/MapBubble/MapBubblePoint.js",[a["Series/Bubble/BubblePoint.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,u){({seriesTypes:{map:{prototype:{pointClass:{prototype:m}}}}}=m);({extend:u}=u);class f extends a{isValid(){return"number"===
typeof this.z}}u(f.prototype,{applyOptions:m.applyOptions,getProjectedBounds:m.getProjectedBounds});return f});w(a,"Series/MapBubble/MapBubbleSeries.js",[a["Series/Bubble/BubbleSeries.js"],a["Series/MapBubble/MapBubblePoint.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,u,w){const {seriesTypes:{map:{prototype:f},mappoint:{prototype:h}}}=u,{extend:A,merge:t}=w;class x extends a{constructor(){super(...arguments);this.points=this.options=this.data=void 0;this.clearBounds=
f.clearBounds}searchPoint(a,f){return this.searchKDTree({clientX:a.chartX-this.chart.plotLeft,plotY:a.chartY-this.chart.plotTop},f,a)}translate(){h.translate.call(this);this.getRadii();this.translateBubble()}updateParallelArrays(a,f,h){super.updateParallelArrays.call(this,a,f,h);a=this.processedXData;f=this.xData;a&&f&&(a.length=f.length)}}x.defaultOptions=t(a.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}});A(x.prototype,{type:"mapbubble",
axisTypes:["colorAxis"],getProjectedBounds:f.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:m,processData:f.processData,projectPoint:h.projectPoint,setData:f.setData,setOptions:f.setOptions,updateData:f.updateData,useMapGeometry:!0,xyFromShape:!0});u.registerSeriesType("mapbubble",x);"";return x});w(a,"Series/Heatmap/HeatmapPoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m){({seriesTypes:{scatter:{prototype:{pointClass:a}}}}=a);const {clamp:f,defined:w,
extend:q,pick:h}=m;class A extends a{constructor(){super(...arguments);this.y=this.x=this.value=this.series=this.options=void 0}applyOptions(a,f){(this.isNull||null===this.value)&&delete this.color;super.applyOptions(a,f);this.formatPrefix=this.isNull||null===this.value?"null":"point";return this}getCellAttributes(){var a=this.series;const m=a.options,p=(m.colsize||1)/2,k=(m.rowsize||1)/2,q=a.xAxis,e=a.yAxis,g=this.options.marker||a.options.marker;a=a.pointPlacementToXValue();const c=h(this.pointPadding,
m.pointPadding,0),b={x1:f(Math.round(q.len-q.translate(this.x-p,!1,!0,!1,!0,-a)),-q.len,2*q.len),x2:f(Math.round(q.len-q.translate(this.x+p,!1,!0,!1,!0,-a)),-q.len,2*q.len),y1:f(Math.round(e.translate(this.y-k,!1,!0,!1,!0)),-e.len,2*e.len),y2:f(Math.round(e.translate(this.y+k,!1,!0,!1,!0)),-e.len,2*e.len)};[["width","x"],["height","y"]].forEach(function(a){var d=a[0];a=a[1];let f=a+"1",h=a+"2";const k=Math.abs(b[f]-b[h]),l=g&&g.lineWidth||0,m=Math.abs(b[f]+b[h])/2;d=g&&g[d];w(d)&&d<k&&(d=d/2+l/2,
b[f]=m-d,b[h]=m+d);if(c){if("x"===a&&q.reversed||"y"===a&&!e.reversed)f=h,h=a+"1";b[f]+=c;b[h]-=c}});return b}haloPath(a){if(!a)return[];const {x:f=0,y:h=0,width:k=0,height:m=0}=this.shapeArgs||{};return[["M",f-a,h-a],["L",f-a,h+m+a],["L",f+k+a,h+m+a],["L",f+k+a,h-a],["Z"]]}isValid(){return Infinity!==this.value&&-Infinity!==this.value}}q(A.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1});return A});w(a,"Series/InterpolationUtilities.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],
function(a,m){const {doc:f}=a,{defined:w,pick:q}=m;return{colorFromPoint:function(a,f){var h=f.series.colorAxis;return h?(h=h.toColor(a||0,f).split(")")[0].split("(")[1].split(",").map(a=>q(parseFloat(a),parseInt(a,10))),h[3]=255*q(h[3],1),w(a)&&f.visible||(h[3]=0),h):[0,0,0,0]},getContext:function(a){const {canvas:h,context:m}=a;if(h&&m)m.clearRect(0,0,h.width,h.height);else return a.canvas=f.createElement("canvas"),a.context=a.canvas.getContext("2d",{willReadFrequently:!0})||void 0,a.context;return m}}});
w(a,"Series/Heatmap/HeatmapSeries.js",[a["Core/Color/Color.js"],a["Series/ColorMapComposition.js"],a["Core/Globals.js"],a["Series/Heatmap/HeatmapPoint.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"],a["Series/InterpolationUtilities.js"]],function(a,m,u,w,q,h,A,t){const {series:f,seriesTypes:{column:p,scatter:k}}=q,{prototype:{symbols:z}}=h,{addEvent:e,extend:g,fireEvent:c,isNumber:b,merge:d,pick:v}=A,{colorFromPoint:C,getContext:r}=t;class D extends k{constructor(){super(...arguments);
this.points=this.options=this.data=this.context=this.colorAxis=this.canvas=void 0;this.valueMin=this.valueMax=NaN;this.isDirtyCanvas=!0}drawPoints(){const a=this;var b=a.options,c=b.marker||{};if(b.interpolation){const {image:f,chart:l,xAxis:m,yAxis:n}=a,{reversed:p=!1,len:q}=m,{reversed:t=!1,len:u}=n;b={width:q,height:u};if(!f||a.isDirtyData||a.isDirtyCanvas){c=r(a);const {canvas:q,options:{colsize:u=1,rowsize:y=1},points:v,points:{length:x}}=a;var d=x-1,e=l.colorAxis&&l.colorAxis[0];if(q&&c&&e){const {min:r,
max:x}=m.getExtremes(),{min:w,max:z}=n.getExtremes();e=x-r;var g=z-w,h=Math.round(e/u/8*8),k=Math.round(g/y/8*8);const [A,E]=[[h,h/e,p,"ceil"],[k,k/g,!t,"floor"]].map(([a,b,c,d])=>c?c=>Math[d](a-b*c):a=>Math[d](b*a)),B=q.width=h+1;e=q.height=k+1;e*=B;d/=e;g=new Uint8ClampedArray(4*e);h=(a,b)=>4*Math.ceil(B*E(b-w)+A(a-r));a.buildKDTree();for(k=0;k<e;k++){const a=v[Math.ceil(d*k)],{x:b,y:c}=a;g.set(C(a.value,a),h(b,c))}c.putImageData(new ImageData(g,B),0,0);f?f.attr(Object.assign(Object.assign({},b),
{href:q.toDataURL("image/png",1)})):(a.directTouch=!1,a.image=l.renderer.image(q.toDataURL("image/png",1)).attr(b).add(a.group))}a.isDirtyCanvas=!1}else f.width===q&&f.height===u||f.attr(b)}else if(c.enabled||a._hasPointMarkers)f.prototype.drawPoints.call(a),a.points.forEach(b=>{b.graphic&&(b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b)),null===b.value&&b.graphic.addClass("highcharts-null-point"))})}getExtremes(){const {dataMin:a,dataMax:c}=f.prototype.getExtremes.call(this,this.valueData);
b(a)&&(this.valueMin=a);b(c)&&(this.valueMax=c);return f.prototype.getExtremes.call(this)}getValidPoints(a,b){return f.prototype.getValidPoints.call(this,a,b,!0)}hasData(){return!!this.processedXData.length}init(){super.init.apply(this,arguments);const a=this.options;a.pointRange=v(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1;z.ellipse=z.circle;a.marker&&b(a.borderRadius)&&(a.marker.r=a.borderRadius)}markerAttribs(a,b){const c=a.shapeArgs||{};if(a.hasImage)return{x:a.plotX,y:a.plotY};
if(b&&"normal"!==b){var d=a.options.marker||{};a=this.options.marker||{};a=a.states&&a.states[b]||{};d=d.states&&d.states[b]||{};b=(d.width||a.width||c.width||0)+(d.widthPlus||a.widthPlus||0);a=(d.height||a.height||c.height||0)+(d.heightPlus||a.heightPlus||0);return{x:(c.x||0)+((c.width||0)-b)/2,y:(c.y||0)+((c.height||0)-a)/2,width:b,height:a}}return c}pointAttribs(b,c){const e=f.prototype.pointAttribs.call(this,b,c),g=this.options||{};var h=this.chart.options.plotOptions||{},k=h.series||{};const l=
h.heatmap||{};h=b&&b.options.borderColor||g.borderColor||l.borderColor||k.borderColor;k=b&&b.options.borderWidth||g.borderWidth||l.borderWidth||k.borderWidth||e["stroke-width"];e.stroke=b&&b.marker&&b.marker.lineColor||g.marker&&g.marker.lineColor||h||this.color;e["stroke-width"]=k;c&&"normal"!==c&&(b=d(g.states&&g.states[c],g.marker&&g.marker.states&&g.marker.states[c],b&&b.options.states&&b.options.states[c]||{}),e.fill=b.color||a.parse(e.fill).brighten(b.brightness||0).get(),e.stroke=b.lineColor||
e.stroke);return e}translate(){const {borderRadius:a,marker:e}=this.options,f=e&&e.symbol||"rect",g=z[f]?f:"rect",h=-1!==["circle","square"].indexOf(g);this.generatePoints();this.points.forEach(function(c){const e=c.getCellAttributes();let k=Math.min(e.x1,e.x2);var l=Math.min(e.y1,e.y2);let m=Math.max(Math.abs(e.x2-e.x1),0),n=Math.max(Math.abs(e.y2-e.y1),0);c.hasImage=0===(c.marker&&c.marker.symbol||f||"").indexOf("url");h&&(l=Math.abs(m-n),k=Math.min(e.x1,e.x2)+(m<n?0:l/2),l=Math.min(e.y1,e.y2)+
(m<n?l/2:0),m=n=Math.min(m,n));c.hasImage&&(c.marker={width:m,height:n});c.plotX=c.clientX=(e.x1+e.x2)/2;c.plotY=(e.y1+e.y2)/2;c.shapeType="path";c.shapeArgs=d(!0,{x:k,y:l,width:m,height:n},{d:z[g](k,l,m,n,{r:b(a)?a:0})})});c(this,"afterTranslate")}}D.defaultOptions=d(k.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,interpolation:!1,nullColor:"#f7f7f7",dataLabels:{formatter:function(){const {numberFormatter:a}=this.series.chart,{value:c}=this.point;return b(c)?a(c,-1):""},inside:!0,verticalAlign:"middle",
crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}},legendSymbol:"rectangle"});e(D,"afterDataClassLegendClick",function(){this.isDirtyCanvas=!0;this.drawPoints()});g(D.prototype,{axisTypes:m.seriesMembers.axisTypes,colorKey:m.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:m.seriesMembers.parallelArrays,
pointArrayMap:["y","value"],pointClass:w,specialGroup:"group",trackerGroups:m.seriesMembers.trackerGroups,alignDataLabel:p.prototype.alignDataLabel,colorAttribs:m.seriesMembers.colorAttribs,getSymbol:f.prototype.getSymbol});m.compose(D);q.registerSeriesType("heatmap",D);"";"";return D});w(a,"masters/modules/map.src.js",[a["Core/Globals.js"],a["Core/Axis/Color/ColorAxis.js"],a["Series/MapBubble/MapBubbleSeries.js"],a["Core/Chart/MapChart.js"],a["Maps/MapView.js"],a["Maps/Projection.js"]],function(a,
m,u,w,q,h){a.ColorAxis=m;a.MapChart=w;a.mapChart=a.Map=w.mapChart;a.MapView=q;a.maps=w.maps;a.Projection=h;m.compose(a.Chart,a.Fx,a.Legend,a.Series);u.compose(a.Axis,a.Chart,a.Legend,a.Series)})});
//# sourceMappingURL=map.js.map