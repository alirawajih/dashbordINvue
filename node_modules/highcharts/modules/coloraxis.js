/*
 Highcharts JS v11.1.0 (2023-09-05)

 ColorAxis module

 (c) 2012-2021 Pawel Potaczek

 License: www.highcharts.com/license
*/
'use strict';(function(c){"object"===typeof module&&module.exports?(c["default"]=c,module.exports=c):"function"===typeof define&&define.amd?define("highcharts/modules/color-axis",["highcharts"],function(m){c(m);c.Highcharts=m;return c}):c("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(c){function m(c,g,t,q){c.hasOwnProperty(g)||(c[g]=q.apply(null,t),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:g,module:c[g]}})))}c=c?c._modules:
{};m(c,"Core/Axis/Color/ColorAxisComposition.js",[c["Core/Color/Color.js"],c["Core/Utilities.js"]],function(c,g){const {parse:l}=c,{addEvent:q,extend:m,merge:w,pick:x,splat:C}=g;var r;(function(c){function r(){const a=this.options;this.colorAxis=[];a.colorAxis&&(a.colorAxis=C(a.colorAxis),a.colorAxis.forEach(a=>{new h(this,a)}))}function t(a){const b=b=>{b=a.allItems.indexOf(b);-1!==b&&(this.destroyItem(a.allItems[b]),a.allItems.splice(b,1))};let d=[],e,f;(this.chart.colorAxis||[]).forEach(function(a){(e=
a.options)&&e.showInLegend&&(e.dataClasses&&e.visible?d=d.concat(a.getDataClassLegendSymbols()):e.visible&&d.push(a),a.series.forEach(function(a){if(!a.options.showInLegend||e.dataClasses)"point"===a.options.legendType?a.points.forEach(function(a){b(a)}):b(a)}))});for(f=d.length;f--;)a.allItems.unshift(d[f])}function y(a){a.visible&&a.item.legendColor&&a.item.legendItem.symbol.attr({fill:a.item.legendColor})}function v(){const a=this.chart.colorAxis;a&&a.forEach(function(a,b,d){a.update({},d)})}function n(){(this.chart.colorAxis&&
this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function p(){const a=this.axisTypes;a?-1===a.indexOf("colorAxis")&&a.push("colorAxis"):this.axisTypes=["colorAxis"]}function b(a){const b=this,d=a?"show":"hide";b.visible=b.options.visible=!!a;["graphic","dataLabel"].forEach(function(a){if(b[a])b[a][d]()});this.series.buildKDTree()}function a(){const a=this,b=this.options.nullColor,d=this.colorAxis,f=this.colorKey;(this.data.length?this.data:this.points).forEach(e=>{var c=e.getNestedProperty(f);
(c=e.options.color||(e.isNull||null===e.value?b:d&&"undefined"!==typeof c?d.toColor(c,e):e.color||a.color))&&e.color!==c&&(e.color=c,"point"===a.options.legendType&&e.legendItem&&e.legendItem.label&&a.chart.legend.colorizeItem(e,e.visible))})}function f(a){const b=a.prototype.createAxis;a.prototype.createAxis=function(a,d){if("colorAxis"!==a)return b.apply(this,arguments);const e=new h(this,w(d.axis,{index:this[a].length,isX:!1}));this.isDirtyLegend=!0;this.axes.forEach(function(a){a.series=[]});
this.series.forEach(function(a){a.bindAxes();a.isDirtyData=!0});x(d.redraw,!0)&&this.redraw(d.animation);return e}}function d(){this.elem.attr("fill",l(this.start).tweenTo(l(this.end),this.pos),void 0,!0)}function F(){this.elem.attr("stroke",l(this.start).tweenTo(l(this.end),this.pos),void 0,!0)}const k=[];let h;c.compose=function(e,c,A,l,u){h||(h=e);g.pushUnique(k,c)&&(e=c.prototype,e.collectionsWithUpdate.push("colorAxis"),e.collectionsWithInit.colorAxis=[e.addColorAxis],q(c,"afterGetAxes",r),f(c));
g.pushUnique(k,A)&&(c=A.prototype,c.fillSetter=d,c.strokeSetter=F);g.pushUnique(k,l)&&(q(l,"afterGetAllItems",t),q(l,"afterColorizeItem",y),q(l,"afterUpdate",v));g.pushUnique(k,u)&&(m(u.prototype,{optionalAxis:"colorAxis",translateColors:a}),m(u.prototype.pointClass.prototype,{setVisible:b}),q(u,"afterTranslate",n,{order:1}),q(u,"bindAxes",p))};c.pointSetVisible=b})(r||(r={}));return r});m(c,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineColor:"#ffffff",
gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{distance:8,overflow:"justify",rotation:0},minColor:"#e6e9ff",maxColor:"#0022ff",tickLength:5,showInLegend:!0}});m(c,"Core/Axis/Color/ColorAxis.js",[c["Core/Axis/Axis.js"],c["Core/Color/Color.js"],c["Core/Axis/Color/ColorAxisComposition.js"],c["Core/Axis/Color/ColorAxisDefaults.js"],c["Core/Legend/LegendSymbol.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],
function(c,g,m,q,B,w,x){const {parse:l}=g,{series:r}=w,{extend:t,fireEvent:D,isArray:E,isNumber:y,merge:v,pick:n}=x;class p extends c{static compose(b,a,f,d){m.compose(p,b,a,f,d)}constructor(b,a){super(b,a);this.beforePadding=!1;this.chart=void 0;this.coll="colorAxis";this.stops=this.options=this.dataClasses=void 0;this.visible=!0;this.init(b,a)}init(b,a){var f=b.options.legend||{};const d=a.layout?"vertical"!==a.layout:"vertical"!==f.layout,c=a.visible;f=v(p.defaultColorAxisOptions,a,{showEmpty:!1,
title:null,visible:f.enabled&&!1!==c});this.side=a.side||d?2:1;this.reversed=a.reversed||!d;this.opposite=!d;super.init(b,f,"colorAxis");this.userOptions=a;E(b.userOptions.colorAxis)&&(b.userOptions.colorAxis[this.index]=a);a.dataClasses&&this.initDataClasses(a);this.initStops();this.horiz=d;this.zoomEnabled=!1}initDataClasses(b){const a=this.chart,f=this.legendItem=this.legendItem||{},d=b.dataClasses.length,c=this.options;let k,h=0,e=a.options.chart.colorCount;this.dataClasses=k=[];f.labels=[];(b.dataClasses||
[]).forEach(function(b,f){b=v(b);k.push(b);if(a.styledMode||!b.color)"category"===c.dataClassColor?(a.styledMode||(f=a.options.colors,e=f.length,b.color=f[h]),b.colorIndex=h,h++,h===e&&(h=0)):b.color=l(c.minColor).tweenTo(l(c.maxColor),2>d?.5:f/(d-1))})}hasData(){return!!(this.tickPositions||[]).length}setTickPositions(){if(!this.dataClasses)return super.setTickPositions()}initStops(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(b){b.color=
l(b[1])})}setOptions(b){super.setOptions(b);this.options.crosshair=this.options.marker}setAxisSize(){var b=this.legendItem&&this.legendItem.symbol;const a=this.chart;var f=a.options.legend||{};let d,c;b?(this.left=f=b.attr("x"),this.top=d=b.attr("y"),this.width=c=b.attr("width"),this.height=b=b.attr("height"),this.right=a.chartWidth-f-c,this.bottom=a.chartHeight-d-b,this.len=this.horiz?c:b,this.pos=this.horiz?f:d):this.len=(this.horiz?f.symbolWidth:f.symbolHeight)||p.defaultLegendLength}normalizedValue(b){this.logarithmic&&
(b=this.logarithmic.log2lin(b));return 1-(this.max-b)/(this.max-this.min||1)}toColor(b,a){const f=this.dataClasses;var d=this.stops;let c,k,h,e;if(f)for(e=f.length;e--;){if(h=f[e],c=h.from,d=h.to,("undefined"===typeof c||b>=c)&&("undefined"===typeof d||b<=d)){k=h.color;a&&(a.dataClass=e,a.colorIndex=h.colorIndex);break}}else{b=this.normalizedValue(b);for(e=d.length;e--&&!(b>d[e][0]););c=d[e]||d[e+1];d=d[e+1]||c;b=1-(d[0]-b)/(d[0]-c[0]||1);k=c.color.tweenTo(d.color,b)}return k}getOffset(){const b=
this.legendItem&&this.legendItem.group,a=this.chart.axisOffset[this.side];if(b){this.axisParent=b;super.getOffset();const c=this.chart.legend;c.allItems.forEach(function(a){a instanceof p&&a.drawLegendSymbol(c,a)});c.render();this.chart.getMargins(!0);this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width);this.chart.axisOffset[this.side]=a}}setLegendColor(){var b=this.reversed,a=b?1:0;b=b?0:1;a=this.horiz?[a,0,b,0]:[0,b,0,a];this.legendColor={linearGradient:{x1:a[0],y1:a[1],x2:a[2],
y2:a[3]},stops:this.stops}}drawLegendSymbol(b,a){var c;a=a.legendItem||{};const d=b.padding,l=b.options,k=this.options.labels,h=n(l.itemDistance,10),e=this.horiz,z=n(l.symbolWidth,e?p.defaultLegendLength:12),g=n(l.symbolHeight,e?12:p.defaultLegendLength),m=n(l.labelPadding,e?16:30);this.setLegendColor();a.symbol||(a.symbol=this.chart.renderer.symbol("roundedRect",0,b.baseline-11,z,g,{r:null!==(c=l.symbolRadius)&&void 0!==c?c:3}).attr({zIndex:1}).add(a.group));a.labelWidth=z+d+(e?h:n(k.x,k.distance)+
this.maxLabelLength);a.labelHeight=g+d+(e?m:0)}setState(b){this.series.forEach(function(a){a.setState(b)})}setVisible(){}getSeriesExtremes(){const b=this.series;let a;let c,d,l=b.length,k,h;this.dataMin=Infinity;for(this.dataMax=-Infinity;l--;){d=b[l];a=d.colorKey=n(d.options.colorKey,d.colorKey,d.pointValKey,d.zoneAxis,"y");var e=d.pointArrayMap;c=d[a+"Min"]&&d[a+"Max"];if(d[a+"Data"])var g=d[a+"Data"];else if(e){if(g=[],e=e.indexOf(a),k=d.yData,0<=e&&k)for(h=0;h<k.length;h++)g.push(n(k[h][e],k[h]))}else g=
d.yData;c?(d.minColorValue=d[a+"Min"],d.maxColorValue=d[a+"Max"]):(g=r.prototype.getExtremes.call(d,g),d.minColorValue=g.dataMin,d.maxColorValue=g.dataMax);"undefined"!==typeof d.minColorValue&&(this.dataMin=Math.min(this.dataMin,d.minColorValue),this.dataMax=Math.max(this.dataMax,d.maxColorValue));c||r.prototype.applyExtremes.call(d)}}drawCrosshair(b,a){const c=this.legendItem||{},d=a&&a.plotX,l=a&&a.plotY,k=this.pos,h=this.len;let e;a&&(e=this.toPixels(a.getNestedProperty(a.series.colorKey)),e<
k?e=k-2:e>k+h&&(e=k+h+2),a.plotX=e,a.plotY=this.len-e,super.drawCrosshair(b,a),a.plotX=d,a.plotY=l,this.cross&&!this.cross.addedToColorAxis&&c.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(c.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!==typeof this.crosshair||this.cross.attr({fill:this.crosshair.color})))}getPlotLinePath(b){const a=this.left,c=b.translatedValue,d=this.top;return y(c)?this.horiz?[["M",c-4,d-6],["L",c+4,d-6],["L",c,d],["Z"]]:[["M",a,c],["L",
a-6,c+6],["L",a-6,c-6],["Z"]]:super.getPlotLinePath(b)}update(b,a){const c=this.chart.legend;this.series.forEach(a=>{a.isDirtyData=!0});(b.dataClasses&&c.allItems||this.dataClasses)&&this.destroyItems();super.update(b,a);this.legendItem&&this.legendItem.label&&(this.setLegendColor(),c.colorizeItem(this,!0))}destroyItems(){const b=this.chart,a=this.legendItem||{};if(a.label)b.legend.destroyItem(this);else if(a.labels)for(const c of a.labels)b.legend.destroyItem(c);b.isDirtyLegend=!0}destroy(){this.chart.isDirtyLegend=
!0;this.destroyItems();super.destroy(...[].slice.call(arguments))}remove(b){this.destroyItems();super.remove(b)}getDataClassLegendSymbols(){const b=this,a=b.chart,c=b.legendItem&&b.legendItem.labels||[],d=a.options.legend,l=n(d.valueDecimals,-1),k=n(d.valueSuffix,""),h=a=>b.series.reduce((b,c)=>{b.push(...c.points.filter(b=>b.dataClass===a));return b},[]);let e;c.length||b.dataClasses.forEach((d,f)=>{const g=d.from,m=d.to,{numberFormatter:p}=a;let n=!0;e="";"undefined"===typeof g?e="< ":"undefined"===
typeof m&&(e="> ");"undefined"!==typeof g&&(e+=p(g,l)+k);"undefined"!==typeof g&&"undefined"!==typeof m&&(e+=" - ");"undefined"!==typeof m&&(e+=p(m,l)+k);c.push(t({chart:a,name:e,options:{},drawLegendSymbol:B.rectangle,visible:!0,isDataClass:!0,setState:a=>{for(const b of h(f))b.setState(a)},setVisible:function(){this.visible=n=b.visible=!n;const c=[];for(const a of h(f))a.setVisible(n),-1===c.indexOf(a.series)&&c.push(a.series);a.legend.colorizeItem(this,n);c.forEach(a=>{D(a,"afterDataClassLegendClick")})}},
d))});return c}}p.defaultColorAxisOptions=q;p.defaultLegendLength=200;p.keepProps=["legendItem"];Array.prototype.push.apply(c.keepProps,p.keepProps);"";return p});m(c,"masters/modules/coloraxis.src.js",[c["Core/Globals.js"],c["Core/Axis/Color/ColorAxis.js"]],function(c,g){c.ColorAxis=g;g.compose(c.Chart,c.Fx,c.Legend,c.Series)})});
//# sourceMappingURL=coloraxis.js.map