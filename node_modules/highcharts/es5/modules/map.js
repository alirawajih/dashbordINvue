/*
 Highmaps JS v11.1.0 (2023-09-05)

 Highmaps as a plugin for Highcharts or Highcharts Stock.

 (c) 2011-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(c){"object"===typeof module&&module.exports?(c["default"]=c,module.exports=c):"function"===typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(y){c(y);c.Highcharts=y;return c}):c("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(c){function y(c,g,p,l){c.hasOwnProperty(g)||(c[g]=l.apply(null,p),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:g,module:c[g]}})))}c=c?c._modules:
{};y(c,"Core/Axis/Color/ColorAxisComposition.js",[c["Core/Color/Color.js"],c["Core/Utilities.js"]],function(c,g){var p=c.parse,l=g.addEvent,m=g.extend,f=g.merge,b=g.pick,x=g.splat,u;(function(k){function r(){var e=this,d=this.options;this.colorAxis=[];d.colorAxis&&(d.colorAxis=x(d.colorAxis),d.colorAxis.forEach(function(d){new n(e,d)}))}function a(d){function e(v){v=d.allItems.indexOf(v);-1!==v&&(w.destroyItem(d.allItems[v]),d.allItems.splice(v,1))}var w=this,a=[],v,n;(this.chart.colorAxis||[]).forEach(function(d){(v=
d.options)&&v.showInLegend&&(v.dataClasses&&v.visible?a=a.concat(d.getDataClassLegendSymbols()):v.visible&&a.push(d),d.series.forEach(function(d){if(!d.options.showInLegend||v.dataClasses)"point"===d.options.legendType?d.points.forEach(function(v){e(v)}):e(d)}))});for(n=a.length;n--;)d.allItems.unshift(a[n])}function e(d){d.visible&&d.item.legendColor&&d.item.legendItem.symbol.attr({fill:d.item.legendColor})}function d(){var d=this.chart.colorAxis;d&&d.forEach(function(d,e,a){d.update({},a)})}function q(){(this.chart.colorAxis&&
this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function h(){var d=this.axisTypes;d?-1===d.indexOf("colorAxis")&&d.push("colorAxis"):this.axisTypes=["colorAxis"]}function t(d){var e=this,a=d?"show":"hide";e.visible=e.options.visible=!!d;["graphic","dataLabel"].forEach(function(d){if(e[d])e[d][a]()});this.series.buildKDTree()}function F(){var d=this,e=this.options.nullColor,a=this.colorAxis,w=this.colorKey;(this.data.length?this.data:this.points).forEach(function(v){var n=v.getNestedProperty(w);
(n=v.options.color||(v.isNull||null===v.value?e:a&&"undefined"!==typeof n?a.toColor(n,v):v.color||d.color))&&v.color!==n&&(v.color=n,"point"===d.options.legendType&&v.legendItem&&v.legendItem.label&&d.chart.legend.colorizeItem(v,v.visible))})}function w(d){var e=d.prototype.createAxis;d.prototype.createAxis=function(d,a){if("colorAxis"!==d)return e.apply(this,arguments);var v=new n(this,f(a.axis,{index:this[d].length,isX:!1}));this.isDirtyLegend=!0;this.axes.forEach(function(d){d.series=[]});this.series.forEach(function(d){d.bindAxes();
d.isDirtyData=!0});b(a.redraw,!0)&&this.redraw(a.animation);return v}}function D(){this.elem.attr("fill",p(this.start).tweenTo(p(this.end),this.pos),void 0,!0)}function B(){this.elem.attr("stroke",p(this.start).tweenTo(p(this.end),this.pos),void 0,!0)}var z=[],n;k.compose=function(b,k,f,u,v){n||(n=b);g.pushUnique(z,k)&&(b=k.prototype,b.collectionsWithUpdate.push("colorAxis"),b.collectionsWithInit.colorAxis=[b.addColorAxis],l(k,"afterGetAxes",r),w(k));g.pushUnique(z,f)&&(k=f.prototype,k.fillSetter=
D,k.strokeSetter=B);g.pushUnique(z,u)&&(l(u,"afterGetAllItems",a),l(u,"afterColorizeItem",e),l(u,"afterUpdate",d));g.pushUnique(z,v)&&(m(v.prototype,{optionalAxis:"colorAxis",translateColors:F}),m(v.prototype.pointClass.prototype,{setVisible:t}),l(v,"afterTranslate",q,{order:1}),l(v,"bindAxes",h))};k.pointSetVisible=t})(u||(u={}));return u});y(c,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineColor:"#ffffff",gridLineWidth:1,tickPixelInterval:72,
startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{distance:8,overflow:"justify",rotation:0},minColor:"#e6e9ff",maxColor:"#0022ff",tickLength:5,showInLegend:!0}});y(c,"Core/Axis/Color/ColorAxis.js",[c["Core/Axis/Axis.js"],c["Core/Color/Color.js"],c["Core/Axis/Color/ColorAxisComposition.js"],c["Core/Axis/Color/ColorAxisDefaults.js"],c["Core/Legend/LegendSymbol.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,g,p,l,m,f,b){var x=
this&&this.__extends||function(){function d(e,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])};return d(e,a)}return function(e,a){function w(){this.constructor=e}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(e,a);e.prototype=null===a?Object.create(a):(w.prototype=a.prototype,new w)}}(),u=g.parse,k=
f.series,r=b.extend,a=b.fireEvent,e=b.isArray,d=b.isNumber,q=b.merge,h=b.pick;g=function(t){function b(d,e){var a=t.call(this,d,e)||this;a.beforePadding=!1;a.chart=void 0;a.coll="colorAxis";a.dataClasses=void 0;a.options=void 0;a.stops=void 0;a.visible=!0;a.init(d,e);return a}x(b,t);b.compose=function(d,a,e,q){p.compose(b,d,a,e,q)};b.prototype.init=function(d,a){var w=d.options.legend||{},h=a.layout?"vertical"!==a.layout:"vertical"!==w.layout,n=a.visible;w=q(b.defaultColorAxisOptions,a,{showEmpty:!1,
title:null,visible:w.enabled&&!1!==n});this.side=a.side||h?2:1;this.reversed=a.reversed||!h;this.opposite=!h;t.prototype.init.call(this,d,w,"colorAxis");this.userOptions=a;e(d.userOptions.colorAxis)&&(d.userOptions.colorAxis[this.index]=a);a.dataClasses&&this.initDataClasses(a);this.initStops();this.horiz=h;this.zoomEnabled=!1};b.prototype.initDataClasses=function(d){var a=this.chart,e=this.legendItem=this.legendItem||{},w=d.dataClasses.length,n=this.options,h,b=0,t=a.options.chart.colorCount;this.dataClasses=
h=[];e.labels=[];(d.dataClasses||[]).forEach(function(d,e){d=q(d);h.push(d);if(a.styledMode||!d.color)"category"===n.dataClassColor?(a.styledMode||(e=a.options.colors,t=e.length,d.color=e[b]),d.colorIndex=b,b++,b===t&&(b=0)):d.color=u(n.minColor).tweenTo(u(n.maxColor),2>w?.5:e/(w-1))})};b.prototype.hasData=function(){return!!(this.tickPositions||[]).length};b.prototype.setTickPositions=function(){if(!this.dataClasses)return t.prototype.setTickPositions.call(this)};b.prototype.initStops=function(){this.stops=
this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(d){d.color=u(d[1])})};b.prototype.setOptions=function(d){t.prototype.setOptions.call(this,d);this.options.crosshair=this.options.marker};b.prototype.setAxisSize=function(){var d=this.legendItem&&this.legendItem.symbol,a=this.chart,e=a.options.legend||{},h,n;d?(this.left=e=d.attr("x"),this.top=h=d.attr("y"),this.width=n=d.attr("width"),this.height=d=d.attr("height"),this.right=a.chartWidth-e-n,this.bottom=
a.chartHeight-h-d,this.len=this.horiz?n:d,this.pos=this.horiz?e:h):this.len=(this.horiz?e.symbolWidth:e.symbolHeight)||b.defaultLegendLength};b.prototype.normalizedValue=function(d){this.logarithmic&&(d=this.logarithmic.log2lin(d));return 1-(this.max-d)/(this.max-this.min||1)};b.prototype.toColor=function(d,a){var e=this.dataClasses,h=this.stops,n;if(e)for(n=e.length;n--;){var b=e[n];var q=b.from;h=b.to;if(("undefined"===typeof q||d>=q)&&("undefined"===typeof h||d<=h)){var w=b.color;a&&(a.dataClass=
n,a.colorIndex=b.colorIndex);break}}else{d=this.normalizedValue(d);for(n=h.length;n--&&!(d>h[n][0]););q=h[n]||h[n+1];h=h[n+1]||q;d=1-(h[0]-d)/(h[0]-q[0]||1);w=q.color.tweenTo(h.color,d)}return w};b.prototype.getOffset=function(){var d=this.legendItem&&this.legendItem.group,a=this.chart.axisOffset[this.side];if(d){this.axisParent=d;t.prototype.getOffset.call(this);var e=this.chart.legend;e.allItems.forEach(function(d){d instanceof b&&d.drawLegendSymbol(e,d)});e.render();this.chart.getMargins(!0);this.added||
(this.added=!0,this.labelLeft=0,this.labelRight=this.width);this.chart.axisOffset[this.side]=a}};b.prototype.setLegendColor=function(){var d=this.reversed,a=d?1:0;d=d?0:1;a=this.horiz?[a,0,d,0]:[0,d,0,a];this.legendColor={linearGradient:{x1:a[0],y1:a[1],x2:a[2],y2:a[3]},stops:this.stops}};b.prototype.drawLegendSymbol=function(d,a){var e;a=a.legendItem||{};var q=d.padding,n=d.options,t=this.options.labels,w=h(n.itemDistance,10),k=this.horiz,D=h(n.symbolWidth,k?b.defaultLegendLength:12),v=h(n.symbolHeight,
k?12:b.defaultLegendLength),C=h(n.labelPadding,k?16:30);this.setLegendColor();a.symbol||(a.symbol=this.chart.renderer.symbol("roundedRect",0,d.baseline-11,D,v,{r:null!==(e=n.symbolRadius)&&void 0!==e?e:3}).attr({zIndex:1}).add(a.group));a.labelWidth=D+q+(k?w:h(t.x,t.distance)+this.maxLabelLength);a.labelHeight=v+q+(k?C:0)};b.prototype.setState=function(d){this.series.forEach(function(a){a.setState(d)})};b.prototype.setVisible=function(){};b.prototype.getSeriesExtremes=function(){var d=this.series,
a=d.length,e;this.dataMin=Infinity;for(this.dataMax=-Infinity;a--;){var q=d[a];var n=q.colorKey=h(q.options.colorKey,q.colorKey,q.pointValKey,q.zoneAxis,"y");var b=q.pointArrayMap;var t=q[n+"Min"]&&q[n+"Max"];if(q[n+"Data"])var r=q[n+"Data"];else if(b){r=[];b=b.indexOf(n);var f=q.yData;if(0<=b&&f)for(e=0;e<f.length;e++)r.push(h(f[e][b],f[e]))}else r=q.yData;t?(q.minColorValue=q[n+"Min"],q.maxColorValue=q[n+"Max"]):(r=k.prototype.getExtremes.call(q,r),q.minColorValue=r.dataMin,q.maxColorValue=r.dataMax);
"undefined"!==typeof q.minColorValue&&(this.dataMin=Math.min(this.dataMin,q.minColorValue),this.dataMax=Math.max(this.dataMax,q.maxColorValue));t||k.prototype.applyExtremes.call(q)}};b.prototype.drawCrosshair=function(d,a){var e=this.legendItem||{},q=a&&a.plotX,h=a&&a.plotY,b=this.pos,w=this.len;if(a){var k=this.toPixels(a.getNestedProperty(a.series.colorKey));k<b?k=b-2:k>b+w&&(k=b+w+2);a.plotX=k;a.plotY=this.len-k;t.prototype.drawCrosshair.call(this,d,a);a.plotX=q;a.plotY=h;this.cross&&!this.cross.addedToColorAxis&&
e.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(e.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!==typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}};b.prototype.getPlotLinePath=function(a){var e=this.left,q=a.translatedValue,h=this.top;return d(q)?this.horiz?[["M",q-4,h-6],["L",q+4,h-6],["L",q,h],["Z"]]:[["M",e,q],["L",e-6,q+6],["L",e-6,q-6],["Z"]]:t.prototype.getPlotLinePath.call(this,a)};b.prototype.update=function(d,a){var e=this.chart.legend;
this.series.forEach(function(d){d.isDirtyData=!0});(d.dataClasses&&e.allItems||this.dataClasses)&&this.destroyItems();t.prototype.update.call(this,d,a);this.legendItem&&this.legendItem.label&&(this.setLegendColor(),e.colorizeItem(this,!0))};b.prototype.destroyItems=function(){var d=this.chart,a=this.legendItem||{};if(a.label)d.legend.destroyItem(this);else if(a.labels){var e=0;for(a=a.labels;e<a.length;e++)d.legend.destroyItem(a[e])}d.isDirtyLegend=!0};b.prototype.destroy=function(){this.chart.isDirtyLegend=
!0;this.destroyItems();t.prototype.destroy.apply(this,[].slice.call(arguments))};b.prototype.remove=function(d){this.destroyItems();t.prototype.remove.call(this,d)};b.prototype.getDataClassLegendSymbols=function(){function d(d){return e.series.reduce(function(a,e){a.push.apply(a,e.points.filter(function(a){return a.dataClass===d}));return a},[])}var e=this,q=e.chart,b=e.legendItem&&e.legendItem.labels||[],n=q.options.legend,t=h(n.valueDecimals,-1),k=h(n.valueSuffix,""),f;b.length||e.dataClasses.forEach(function(h,
v){var n=h.from,I=h.to,w=q.numberFormatter,J=!0;f="";"undefined"===typeof n?f="< ":"undefined"===typeof I&&(f="> ");"undefined"!==typeof n&&(f+=w(n,t)+k);"undefined"!==typeof n&&"undefined"!==typeof I&&(f+=" - ");"undefined"!==typeof I&&(f+=w(I,t)+k);b.push(r({chart:q,name:f,options:{},drawLegendSymbol:m.rectangle,visible:!0,isDataClass:!0,setState:function(a){for(var e=0,q=d(v);e<q.length;e++)q[e].setState(a)},setVisible:function(){this.visible=J=e.visible=!J;for(var h=[],n=0,b=d(v);n<b.length;n++){var t=
b[n];t.setVisible(J);-1===h.indexOf(t.series)&&h.push(t.series)}q.legend.colorizeItem(this,J);h.forEach(function(d){a(d,"afterDataClassLegendClick")})}},h))});return b};b.defaultColorAxisOptions=l;b.defaultLegendLength=200;b.keepProps=["legendItem"];return b}(c);Array.prototype.push.apply(c.keepProps,g.keepProps);"";return g});y(c,"Maps/MapNavigationDefaults.js",[c["Core/Defaults.js"],c["Core/Utilities.js"]],function(c,g){g=g.extend;var p={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",
x:0,width:18,height:18,padding:5,style:{color:"#666666",fontSize:"1em",fontWeight:"bold"},theme:{fill:"#ffffff",stroke:"#e6e6e6","stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};g(c.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});return c.defaultOptions.mapNavigation=p});y(c,"Maps/MapNavigation.js",[c["Core/Chart/Chart.js"],c["Core/Globals.js"],
c["Core/Utilities.js"]],function(c,g,p){function l(a){a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)}function m(a){this.navButtons=[];this.init(a)}var f=g.doc,b=p.addEvent,x=p.extend,u=p.isNumber,k=p.merge,r=p.objectEach,a=p.pick;m.prototype.init=function(a){this.chart=a};m.prototype.update=function(e){function d(d){this.handler.call(h,d);l(d)}var q=this,h=this.chart,t=h.options.mapNavigation,f,w=q.navButtons;e&&(t=h.options.mapNavigation=k(h.options.mapNavigation,
e));for(;w.length;)w.pop().destroy();a(t.enableButtons,t.enabled)&&!h.renderer.forExport&&(q.navButtonsGroup||(q.navButtonsGroup=h.renderer.g().attr({zIndex:4}).add()),r(t.buttons,function(a,e){var r;a=k(t.buttonOptions,a);!h.styledMode&&a.theme&&(f=a.theme,f.style=k(a.theme.style,a.style));var n=a.text,m=a.width,c=void 0===m?0:m;m=a.height;m=void 0===m?0:m;var u=a.padding;u=void 0===u?0:u;var g=h.renderer.button("+"!==n&&"-"!==n&&n||"",0,0,d,f,void 0,void 0,void 0,"zoomIn"===e?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+
{zoomIn:"zoom-in",zoomOut:"zoom-out"}[e]).attr({width:c,height:m,title:h.options.lang[e],padding:a.padding,zIndex:5}).add(q.navButtonsGroup);if("+"===n||"-"===n)e=c+1,c=[["M",u+3,u+m/2],["L",u+e-3,u+m/2]],"+"===n&&c.push(["M",u+e/2,u+3],["L",u+e/2,u+m-3]),h.renderer.path(c).addClass("highcharts-button-symbol").attr(h.styledMode?{}:{stroke:null===(r=a.style)||void 0===r?void 0:r.color,"stroke-width":3,"stroke-linecap":"round"}).add(g);g.handler=a.onclick;b(g.element,"dblclick",l);w.push(g);x(a,{width:g.width,
height:2*g.height});if(h.hasLoaded)g.align(a,!1,a.alignTo);else var v=b(h,"load",function(){g.element&&g.align(a,!1,a.alignTo);v()})}),e=function(){var d=h.exportingGroup&&h.exportingGroup.getBBox();if(d){var a=q.navButtonsGroup.getBBox();if(!(a.x>=d.x+d.width||a.x+a.width<=d.x||a.y>=d.y+d.height||a.y+a.height<=d.y)){var e=-a.y-a.height+d.y-5;d=d.y+d.height-a.y+5;q.navButtonsGroup.attr({translateY:"bottom"===(t.buttonOptions&&t.buttonOptions.verticalAlign)?e:d})}}},h.hasLoaded||b(h,"render",e));this.updateEvents(t)};
m.prototype.updateEvents=function(e){var d=this.chart;a(e.enableDoubleClickZoom,e.enabled)||e.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||b(d.container,"dblclick",function(a){d.pointer.onContainerDblClick(a)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());a(e.enableMouseWheelZoom,e.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||b(d.container,void 0!==f.onwheel?"wheel":void 0!==f.onmousewheel?"mousewheel":"DOMMouseScroll",function(a){d.pointer.inClass(a.target,
"highcharts-no-mousewheel")||(d.pointer.onContainerMouseWheel(a),l(a));return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())};x(c.prototype,{fitToBox:function(a,d){[["x","width"],["y","height"]].forEach(function(e){var h=e[0];e=e[1];a[h]+a[e]>d[h]+d[e]&&(a[e]>d[e]?(a[e]=d[e],a[h]=d[h]):a[h]=d[h]+d[e]-a[e]);a[e]>d[e]&&(a[e]=d[e]);a[h]<d[h]&&(a[h]=d[h])});return a},mapZoom:function(a,d,q,h,b){this.mapView&&(u(a)&&(a=Math.log(a)/Math.log(.5)),this.mapView.zoomBy(a,u(d)&&u(q)?
this.mapView.projection.inverse([d,q]):void 0,u(h)&&u(b)?[h,b]:void 0))}});b(c,"beforeRender",function(){this.mapNavigation=new m(this);this.mapNavigation.update()});g.MapNavigation=m});y(c,"Maps/MapPointer.js",[c["Core/Pointer.js"],c["Core/Utilities.js"]],function(c,g){var p=g.defined,l=g.extend,m=g.pick;g=g.wrap;var f=c.prototype.normalize,b=0,x;l(c.prototype,{normalize:function(b,k){var r=this.chart;b=f.call(this,b,k);r&&r.mapView&&(k=r.mapView.pixelsToLonLat({x:b.chartX-r.plotLeft,y:b.chartY-
r.plotTop}))&&l(b,k);return b},onContainerDblClick:function(b){var k=this.chart;b=this.normalize(b);k.options.mapNavigation.enableDoubleClickZoomTo?k.pointer.inClass(b.target,"highcharts-tracker")&&k.hoverPoint&&k.hoverPoint.zoomTo():k.isInsidePlot(b.chartX-k.plotLeft,b.chartY-k.plotTop)&&k.mapZoom(.5,void 0,void 0,b.chartX,b.chartY)},onContainerMouseWheel:function(f){var k=this.chart;f=this.normalize(f);var r=p(f.wheelDelta)&&-f.wheelDelta/120||f.deltaY||f.detail;1<=Math.abs(r)&&(b+=Math.abs(r),
x&&clearTimeout(x),x=setTimeout(function(){b=0},50));10>b&&k.isInsidePlot(f.chartX-k.plotLeft,f.chartY-k.plotTop)&&k.mapView&&k.mapView.zoomBy((k.options.mapNavigation.mouseWheelSensitivity-1)*-r,void 0,[f.chartX,f.chartY],1>Math.abs(r)?!1:void 0)}});g(c.prototype,"zoomOption",function(b){var k=this.chart.options.mapNavigation;m(k.enableTouchZoom,k.enabled)&&(this.chart.zooming.pinchType="xy");b.apply(this,[].slice.call(arguments,1))});g(c.prototype,"pinchTranslate",function(b,k,f,a,e,d,q){b.call(this,
k,f,a,e,d,q);"map"===this.chart.options.chart.type&&this.hasZoom&&(b=a.scaleX>a.scaleY,this.pinchTranslateDirection(!b,k,f,a,e,d,q,b?a.scaleX:a.scaleY))})});y(c,"Series/ColorMapComposition.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,g){var p=c.seriesTypes.column.prototype,l=g.addEvent,m=g.defined,f;(function(b){function f(b){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:b&&"hover"===b.state?1:0})}var c=[];b.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,
isValid:function(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value&&(void 0===this.value||!isNaN(this.value))}};b.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(b){var k={};!m(b.color)||b.state&&"normal"!==b.state||(k[this.colorProp||"fill"]=b.color);return k},pointAttribs:p.pointAttribs};b.compose=function(b){var k=
b.prototype.pointClass;g.pushUnique(c,k)&&l(k,"afterSetState",f);return b}})(f||(f={}));return f});y(c,"Maps/MapSymbols.js",[c["Core/Renderer/SVG/SVGRenderer.js"]],function(c){var g=c.prototype.symbols;g.bottombutton=function(c,l,m,f,b){if(b){var x=(null===b||void 0===b?void 0:b.r)||0;b.brBoxY=l-x;b.brBoxHeight=f+x}return g.roundedRect(c,l,m,f,b)};g.topbutton=function(c,l,m,f,b){b&&(b.brBoxHeight=f+((null===b||void 0===b?void 0:b.r)||0));return g.roundedRect(c,l,m,f,b)};return g});y(c,"Core/Chart/MapChart.js",
[c["Core/Chart/Chart.js"],c["Core/Defaults.js"],c["Core/Renderer/SVG/SVGRenderer.js"],c["Core/Utilities.js"]],function(c,g,p,l){var m=this&&this.__extends||function(){function b(k,f){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])};return b(k,f)}return function(k,f){function a(){this.constructor=k}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+
" is not a constructor or null");b(k,f);k.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}(),f=g.getOptions,b=l.merge,x=l.pick;c=function(c){function k(){return null!==c&&c.apply(this,arguments)||this}m(k,c);k.prototype.init=function(k,a){var e=f().credits;k=b({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:x(e.mapText,' \u00a9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:x(e.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},
k);c.prototype.init.call(this,k,a)};return k}(c);(function(b){b.maps={};b.mapChart=function(f,c,a){return new b(f,c,a)};b.splitPath=function(b){"string"===typeof b&&(b=b.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,""),b=b.split(/[ ,;]+/).map(function(b){return/[A-za-z]/.test(b)?b:parseFloat(b)}));return p.prototype.pathToSegments(b)}})(c||(c={}));return c});y(c,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(c){var g=-Number.MAX_VALUE,p=Number.MAX_VALUE,l=-Number.MAX_VALUE,
m=Number.MAX_VALUE,f;c.forEach(function(b){var c=b[b.length-2];b=b[b.length-1];"number"===typeof c&&"number"===typeof b&&(p=Math.min(p,c),g=Math.max(g,c),m=Math.min(m,b),l=Math.max(l,b),f=!0)});if(f)return{x1:p,y1:m,x2:g,y2:l}},pointInPolygon:function(c,g){var p,l=!1,m=c.x,f=c.y;c=0;for(p=g.length-1;c<g.length;p=c++){var b=g[c][1]>f;var x=g[p][1]>f;b!==x&&m<(g[p][0]-g[c][0])*(f-g[c][1])/(g[p][1]-g[c][1])+g[c][0]&&(l=!l)}return l}}});y(c,"Series/Map/MapPoint.js",[c["Series/ColorMapComposition.js"],
c["Maps/MapUtilities.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,g,p,l){var m=this&&this.__extends||function(){function b(f,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])};return b(f,a)}return function(f,a){function e(){this.constructor=f}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");
b(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),f=g.boundsFromPath,b=l.extend,x=l.isNumber,u=l.pick;g=function(c){function k(){var a=null!==c&&c.apply(this,arguments)||this;a.options=void 0;a.path=void 0;a.series=void 0;return a}m(k,c);k.getProjectedPath=function(a,e){a.projectedPath||(e&&a.geometry?(e.hasCoordinates=!0,a.projectedPath=e.path(a.geometry)):a.projectedPath=a.path);return a.projectedPath||[]};k.prototype.applyOptions=function(a,e){var d=this.series;a=
c.prototype.applyOptions.call(this,a,e);e=d.joinBy;d.mapData&&d.mapMap&&(e=c.prototype.getNestedProperty.call(a,e[1]),(e="undefined"!==typeof e&&d.mapMap[e])?b(a,e):-1!==d.pointArrayMap.indexOf("value")&&(a.value=a.value||null));return a};k.prototype.getProjectedBounds=function(a){var e=k.getProjectedPath(this,a);e=f(e);var d=this.properties,b=this.series.chart.mapView;if(e){var h=d&&d["hc-middle-lon"],t=d&&d["hc-middle-lat"];b&&x(h)&&x(t)?(a=a.forward([h,t]),e.midX=a[0],e.midY=a[1]):(a=d&&d["hc-middle-x"],
d=d&&d["hc-middle-y"],e.midX=e.x1+(e.x2-e.x1)*u(this.middleX,x(a)?a:.5),a=u(this.middleY,x(d)?d:.5),this.geometry||(a=1-a),e.midY=e.y2-(e.y2-e.y1)*a);return e}};k.prototype.onMouseOver=function(a){l.clearTimeout(this.colorInterval);if(!this.isNull&&this.visible||this.series.options.nullInteraction)c.prototype.onMouseOver.call(this,a);else this.series.onMouseOut(a)};k.prototype.setVisible=function(a){var e=a?"show":"hide";this.visible=this.options.visible=!!a;if(this.dataLabel)this.dataLabel[e]();
this.graphic&&this.graphic.attr(this.series.pointAttribs(this))};k.prototype.zoomTo=function(a){var e=this.series.chart,d=e.mapView,b=this.bounds;if(d&&b){var h=x(this.insetIndex)&&d.insets[this.insetIndex];if(h){var t=h.projectedUnitsToPixels({x:b.x1,y:b.y1});b=h.projectedUnitsToPixels({x:b.x2,y:b.y2});t=d.pixelsToProjectedUnits({x:t.x,y:t.y});b=d.pixelsToProjectedUnits({x:b.x,y:b.y});b={x1:t.x,y1:t.y,x2:b.x,y2:b.y}}d.fitToBounds(b,void 0,!1);this.series.isDirty=!0;e.redraw(a)}};return k}(p.seriesTypes.scatter.prototype.pointClass);
b(g.prototype,{dataLabelOnNull:c.pointMembers.dataLabelOnNull,moveToTopOnHover:c.pointMembers.moveToTopOnHover,isValid:c.pointMembers.isValid});return g});y(c,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}});y(c,"Maps/MapViewInsetsOptionsDefault.js",[],function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}});
y(c,"Extensions/GeoJSON.js",[c["Core/Chart/Chart.js"],c["Core/Templating.js"],c["Core/Globals.js"],c["Core/Utilities.js"]],function(c,g,p,l){function m(a,e){function d(a){return"number"===typeof a[0]?a.reduce(function(a,d,e){var h=0>d?b[~d]:b[d];0>d?(h=h.slice(0,0===e?h.length:h.length-1),h.reverse()):e&&(h=h.slice(1));return a.concat(h)},[]):a.map(d)}e||(e=Object.keys(a.objects)[0]);e=a.objects[e];if(e["hc-decoded-geojson"])return e["hc-decoded-geojson"];var b=a.arcs;if(a.transform){var h=a.transform,
t=h.scale,c=h.translate;b=a.arcs.map(function(a){var d=0,e=0;return a.map(function(a){a=a.slice();a[0]=(d+=a[0])*t[0]+c[0];a[1]=(e+=a[1])*t[1]+c[1];return a})})}h=e.geometries.map(function(a){return{type:"Feature",properties:a.properties,geometry:{type:a.type,coordinates:a.coordinates||d(a.arcs)}}});a={type:"FeatureCollection",copyright:a.copyright,copyrightShort:a.copyrightShort,copyrightUrl:a.copyrightUrl,features:h,"hc-recommended-mapview":e["hc-recommended-mapview"],bbox:a.bbox,title:a.title};
return e["hc-decoded-geojson"]=a}function f(a,e,d){void 0===e&&(e="map");var q=[];a="Topology"===a.type?m(a):a;a.features.forEach(function(a){var d=a.geometry||{},b=d.type;d=d.coordinates;a=a.properties;var h;"map"!==e&&"mapbubble"!==e||"Polygon"!==b&&"MultiPolygon"!==b?"mapline"!==e||"LineString"!==b&&"MultiLineString"!==b?"mappoint"===e&&"Point"===b&&d.length&&(h={geometry:{coordinates:d,type:b}}):d.length&&(h={geometry:{coordinates:d,type:b}}):d.length&&(h={geometry:{coordinates:d,type:b}});if(h){b=
a&&(a.name||a.NAME);d=a&&a.lon;var c=a&&a.lat;q.push(k(h,{lat:"number"===typeof c?c:void 0,lon:"number"===typeof d?d:void 0,name:"string"===typeof b?b:void 0,properties:a}))}});d&&a.copyrightShort&&(d.chart.mapCredits=b(d.chart.options.credits.mapText,{geojson:a}),d.chart.mapCreditsFull=b(d.chart.options.credits.mapTextFull,{geojson:a}));return q}var b=g.format,x=p.win,u=l.error,k=l.extend,r=l.merge;g=l.wrap;"";c.prototype.transformFromLatLon=function(a,e){var d=this.options.chart.proj4||x.proj4;
if(d){var b=e.jsonmarginX;b=void 0===b?0:b;var h=e.jsonmarginY;h=void 0===h?0:h;var c=e.jsonres;c=void 0===c?1:c;var f=e.scale;f=void 0===f?1:f;var k=e.xoffset;k=void 0===k?0:k;var m=e.xpan;m=void 0===m?0:m;var g=e.yoffset;g=void 0===g?0:g;var l=e.ypan;l=void 0===l?0:l;a=d(e.crs,[a.lon,a.lat]);d=e.cosAngle||e.rotation&&Math.cos(e.rotation);var n=e.sinAngle||e.rotation&&Math.sin(e.rotation);e=e.rotation?[a[0]*d+a[1]*n,-a[0]*n+a[1]*d]:a;return{x:((e[0]-k)*f+m)*c+b,y:-(((g-e[1])*f+l)*c-h)}}u(21,!1,this)};
c.prototype.transformToLatLon=function(a,e){var d=this.options.chart.proj4||x.proj4;if(!d)u(21,!1,this);else if(null!==a.y){var b=e.jsonmarginX,h=e.jsonmarginY,c=e.jsonres;c=void 0===c?1:c;var f=e.scale;f=void 0===f?1:f;var k=e.xoffset,m=e.xpan,g=e.yoffset,l=e.ypan;a={x:((a.x-(void 0===b?0:b))/c-(void 0===m?0:m))/f+(void 0===k?0:k),y:((a.y-(void 0===h?0:h))/c+(void 0===l?0:l))/f+(void 0===g?0:g)};b=e.cosAngle||e.rotation&&Math.cos(e.rotation);h=e.sinAngle||e.rotation&&Math.sin(e.rotation);e=d(e.crs,
"WGS84",e.rotation?{x:a.x*b+a.y*-h,y:a.x*h+a.y*b}:a);return{lat:e.y,lon:e.x}}};c.prototype.fromPointToLatLon=function(a){return this.mapView&&this.mapView.projectedUnitsToLonLat(a)};c.prototype.fromLatLonToPoint=function(a){return this.mapView&&this.mapView.lonLatToProjectedUnits(a)};g(c.prototype,"addCredits",function(a,b){b=r(!0,this.options.credits,b);this.mapCredits&&(b.href=null);a.call(this,b);this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})});p.geojson=f;p.topo2geo=
m;return{geojson:f,topo2geo:m}});y(c,"Core/Geometry/PolygonClip.js",[],function(){function c(c,m,f,b){var g=[c[0]-m[0],c[1]-m[1]],l=[f[0]-b[0],f[1]-b[1]];c=c[0]*m[1]-c[1]*m[0];f=f[0]*b[1]-f[1]*b[0];b=1/(g[0]*l[1]-g[1]*l[0]);g=[(c*l[0]-f*g[0])*b,(c*l[1]-f*g[1])*b];g.isIntersection=!0;return g}function g(c,m,f){return(m[0]-c[0])*(f[1]-c[1])>(m[1]-c[1])*(f[0]-c[0])}var p;(function(l){l.clipLineString=function(c,f){var b=[];c=l.clipPolygon(c,f,!1);for(f=1;f<c.length;f++)c[f].isIntersection&&c[f-1].isIntersection&&
(b.push(c.splice(0,f)),f=0),f===c.length-1&&b.push(c);return b};l.clipPolygon=function(m,f,b){void 0===b&&(b=!0);for(var l=f[f.length-1],p,k,r=m,a=0;a<f.length;a++){var e=r;m=f[a];r=[];p=b?e[e.length-1]:e[0];for(var d=0;d<e.length;d++)k=e[d],g(l,m,k)?(g(l,m,p)||r.push(c(l,m,p,k)),r.push(k)):g(l,m,p)&&r.push(c(l,m,p,k)),p=k;l=m}return r}})(p||(p={}));return p});y(c,"Maps/Projections/LambertConformalConic.js",[],function(){var c=Math.sign||function(c){return 0===c?0:0<c?1:-1},g=Math.PI/180,p=Math.PI/
2;return function(){function l(m){var f,b=(m.parallels||[]).map(function(b){return b*g}),l=b[0]||0;b=null!==(f=b[1])&&void 0!==f?f:l;f=Math.cos(l);"object"===typeof m.projectedBounds&&(this.projectedBounds=m.projectedBounds);m=l===b?Math.sin(l):Math.log(f/Math.cos(b))/Math.log(Math.tan((p+b)/2)/Math.tan((p+l)/2));1E-10>Math.abs(m)&&(m=1E-10*(c(m)||1));this.n=m;this.c=f*Math.pow(Math.tan((p+l)/2),m)/m}l.prototype.forward=function(c){var f=c[0]*g,b=this.c,l=this.n,m=this.projectedBounds;c=c[1]*g;0<
b?c<-p+1E-6&&(c=-p+1E-6):c>p-1E-6&&(c=p-1E-6);var k=b/Math.pow(Math.tan((p+c)/2),l);c=k*Math.sin(l*f)*63.78137;f=63.78137*(b-k*Math.cos(l*f));b=[c,f];m&&(c<m.x1||c>m.x2||f<m.y1||f>m.y2)&&(b.outside=!0);return b};l.prototype.inverse=function(m){var f=m[0]/63.78137,b=this.c,l=this.n;m=b-m[1]/63.78137;var u=c(l)*Math.sqrt(f*f+m*m),k=Math.atan2(f,Math.abs(m))*c(m);0>m*l&&(k-=Math.PI*c(f)*c(m));return[k/l/g,(2*Math.atan(Math.pow(b/u,1/l))-p)/g]};return l}()});y(c,"Maps/Projections/EqualEarth.js",[],function(){var c=
Math.sqrt(3)/2;return function(){function g(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}g.prototype.forward=function(g){var l=Math.PI/180,m=Math.asin(c*Math.sin(g[1]*l)),f=m*m,b=f*f*f;return[g[0]*l*Math.cos(m)*74.03120656864502/(c*(1.340264+3*-.081106*f+b*(7*8.93E-4+.034164*f))),74.03120656864502*m*(1.340264+-.081106*f+b*(8.93E-4+.003796*f))]};g.prototype.inverse=function(g){var l=g[0]/74.03120656864502,m=g[1]/74.03120656864502;g=180/Math.PI;
var f=m,b;for(b=0;12>b;++b){var p=f*f;var u=p*p*p;var k=f*(1.340264+-.081106*p+u*(8.93E-4+.003796*p))-m;p=1.340264+3*-.081106*p+u*(7*8.93E-4+.034164*p);f-=k/=p;if(1E-9>Math.abs(k))break}p=f*f;l=g*c*l*(1.340264+3*-.081106*p+p*p*p*(7*8.93E-4+.034164*p))/Math.cos(f);return 180<Math.abs(l)?[NaN,NaN]:[l,g*Math.asin(Math.sin(f)/c)]};return g}()});y(c,"Maps/Projections/Miller.js",[],function(){var c=Math.PI/4,g=Math.PI/180;return function(){function p(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,
y1:-146.91480769173063,y2:146.91480769173063}}p.prototype.forward=function(l){return[l[0]*g*63.78137,79.7267125*Math.log(Math.tan(c+.4*l[1]*g))]};p.prototype.inverse=function(l){return[l[0]/63.78137/g,2.5*(Math.atan(Math.exp(l[1]/63.78137*.8))-c)/g]};return p}()});y(c,"Maps/Projections/Orthographic.js",[],function(){var c=Math.PI/180;return function(){function g(){this.antimeridianCutting=!1;this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}g.prototype.forward=
function(g){var l=g[0];g=g[1]*c;g=[Math.cos(g)*Math.sin(l*c)*63.78460826781007,63.78460826781007*Math.sin(g)];if(-90>l||90<l)g.outside=!0;return g};g.prototype.inverse=function(g){var l=g[0]/63.78460826781007;g=g[1]/63.78460826781007;var m=Math.sqrt(l*l+g*g),f=Math.asin(m),b=Math.sin(f);return[Math.atan2(l*b,m*Math.cos(f))/c,Math.asin(m&&g*b/m)/c]};return g}()});y(c,"Maps/Projections/WebMercator.js",[],function(){var c=Math.PI/180;return function(){function g(){this.bounds={x1:-200.37508342789243,
x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071};this.maxLatitude=85.0511287798}g.prototype.forward=function(g){var l=Math.sin(g[1]*c);l=[63.78137*g[0]*c,63.78137*Math.log((1+l)/(1-l))/2];85.0511287798<Math.abs(g[1])&&(l.outside=!0);return l};g.prototype.inverse=function(g){return[g[0]/(63.78137*c),(2*Math.atan(Math.exp(g[1]/63.78137))-Math.PI/2)/c]};return g}()});y(c,"Maps/Projections/ProjectionRegistry.js",[c["Maps/Projections/LambertConformalConic.js"],c["Maps/Projections/EqualEarth.js"],
c["Maps/Projections/Miller.js"],c["Maps/Projections/Orthographic.js"],c["Maps/Projections/WebMercator.js"]],function(c,g,p,l,m){return{EqualEarth:g,LambertConformalConic:c,Miller:p,Orthographic:l,WebMercator:m}});y(c,"Maps/Projection.js",[c["Core/Geometry/PolygonClip.js"],c["Maps/Projections/ProjectionRegistry.js"],c["Core/Utilities.js"]],function(c,g,p){function l(b){-180>b&&(b+=360);180<b&&(b-=360);return b}var m=this&&this.__spreadArray||function(b,a,e){if(e||2===arguments.length)for(var d=0,c=
a.length,h;d<c;d++)!h&&d in a||(h||(h=Array.prototype.slice.call(a,0,d)),h[d]=a[d]);return b.concat(h||Array.prototype.slice.call(a))},f=c.clipLineString,b=c.clipPolygon,x=p.clamp,u=p.erase,k=2*Math.PI/360;return function(){function c(a){void 0===a&&(a={});this.hasGeoProjection=this.hasCoordinates=!1;this.maxLatitude=90;this.options=a;var b=a.name,d=a.projectedBounds,f=a.rotation;this.rotator=f?this.getRotator(f):void 0;if(b=b?c.registry[b]:void 0)this.def=new b(a);var h=this.def,k=this.rotator;h&&
(this.maxLatitude=h.maxLatitude||90,this.hasGeoProjection=!0);k&&h?(this.forward=function(a){return h.forward(k.forward(a))},this.inverse=function(a){return k.inverse(h.inverse(a))}):h?(this.forward=function(a){return h.forward(a)},this.inverse=function(a){return h.inverse(a)}):k&&(this.forward=k.forward,this.inverse=k.inverse);this.bounds="world"===d?h&&h.bounds:d}c.add=function(a,b){c.registry[a]=b};c.greatCircle=function(a,b,d){var e=Math.atan2,c=Math.cos,f=Math.sin,g=Math.sqrt,w=a[1]*k,l=a[0]*
k,m=b[1]*k,z=b[0]*k,n=m-w,A=z-l;n=f(n/2)*f(n/2)+c(w)*c(m)*f(A/2)*f(A/2);n=2*e(g(n),g(1-n));var r=Math.round(6371E3*n/5E5);A=[];d&&A.push(a);if(1<r)for(r=a=1/r;.999>r;r+=a){var p=f((1-r)*n)/f(n),u=f(r*n)/f(n),v=p*c(w)*c(l)+u*c(m)*c(z),C=p*c(w)*f(l)+u*c(m)*f(z);p=p*f(w)+u*f(m);p=e(p,g(v*v+C*C));v=e(C,v);A.push([v/k,p/k])}d&&A.push(b);return A};c.insertGreatCircles=function(a){for(var b=a.length-1;b--;)if(10<Math.max(Math.abs(a[b][0]-a[b+1][0]),Math.abs(a[b][1]-a[b+1][1]))){var d=c.greatCircle(a[b],
a[b+1]);d.length&&a.splice.apply(a,m([b+1,0],d,!1))}};c.toString=function(a){a=a||{};var b=a.rotation;return[a.name,b&&b.join(",")].join(";")};c.prototype.lineIntersectsBounds=function(a){function b(a,d,b){var c=a[0];a=a[1];var e=d?0:1;if("number"===typeof b&&c[d]>=b!==a[d]>=b)return c=c[e]+(b-c[d])/(a[d]-c[d])*(a[e]-c[e]),d?[c,b]:[b,c]}var d=this.bounds||{},c=d.x2,h=d.y1,f=d.y2,k=a[0];if(d=b(a,0,d.x1))k=d,a[1]=d;else if(d=b(a,0,c))k=d,a[1]=d;if(d=b(a,1,h))k=d;else if(d=b(a,1,f))k=d;return k};c.prototype.getRotator=
function(a){var b=a[0]*k,d=(a[1]||0)*k;a=(a[2]||0)*k;var c=Math.cos(d),h=Math.sin(d),f=Math.cos(a),g=Math.sin(a);if(0!==b||0!==d||0!==a)return{forward:function(a){var d=a[0]*k+b,e=a[1]*k,q=Math.cos(e);a=Math.cos(d)*q;d=Math.sin(d)*q;e=Math.sin(e);q=e*c+a*h;return[Math.atan2(d*f-q*g,a*c-e*h)/k,Math.asin(q*f+d*g)/k]},inverse:function(a){var d=a[0]*k,e=a[1]*k,q=Math.cos(e);a=Math.cos(d)*q;d=Math.sin(d)*q;e=Math.sin(e);q=e*f-d*g;return[(Math.atan2(d*f+e*g,a*c+q*h)-b)/k,Math.asin(q*c-a*h)/k]}}};c.prototype.forward=
function(a){return a};c.prototype.inverse=function(a){return a};c.prototype.cutOnAntimeridian=function(a,b){var d=[],e=[a];a.forEach(function(c,e){var f=a[e-1];if(!e){if(!b)return;f=a[a.length-1]}var h=f[0],v=c[0];(-90>h||90<h)&&(-90>v||90<v)&&0<h!==0<v&&(v=x((180-(h+360)%360)/((v+360)%360-(h+360)%360),0,1),d.push({i:e,lat:f[1]+v*(c[1]-f[1]),direction:0>h?1:-1,previousLonLat:f,lonLat:c}))});if(d.length)if(b){if(1===d.length%2){var h=d.slice().sort(function(a,d){return Math.abs(d.lat)-Math.abs(a.lat)})[0];
u(d,h)}for(var f=d.length-2;0<=f;){var k=d[f].i,g=l(180+1E-6*d[f].direction),r=l(180-1E-6*d[f].direction);k=a.splice.apply(a,m([k,d[f+1].i-k],c.greatCircle([g,d[f].lat],[g,d[f+1].lat],!0),!1));k.push.apply(k,c.greatCircle([r,d[f+1].lat],[r,d[f].lat],!0));e.push(k);f-=2}if(h)for(g=0;g<e.length;g++){f=h.direction;var p=h.lat;r=e[g];k=r.indexOf(h.lonLat);if(-1<k){g=(0>p?-1:1)*this.maxLatitude;var z=l(180+1E-6*f),n=l(180-1E-6*f);p=c.greatCircle([z,p],[z,g],!0);for(z+=120*f;-180<z&&180>z;z+=120*f)p.push([z,
g]);p.push.apply(p,c.greatCircle([n,g],[n,h.lat],!0));r.splice.apply(r,m([k,0],p,!1));break}}}else for(f=d.length;f--;)k=d[f].i,k=a.splice(k,a.length,[l(180+1E-6*d[f].direction),d[f].lat]),k.unshift([l(180-1E-6*d[f].direction),d[f].lat]),e.push(k);return e};c.prototype.path=function(a){function e(a){a=a.map(function(a){if(p){u&&(a=u.forward(a));var d=a[0];1E-6>Math.abs(d-180)&&(d=180>d?179.999999:180.000001);a=[d,a[1]]}return a});var e=[a];r&&(c.insertGreatCircles(a),p&&(e=d.cutOnAntimeridian(a,m)));
e.forEach(function(a){if(!(2>a.length)){var d=!1,e=!1,h=function(a){d?l.push(["L",a[0],a[1]]):(l.push(["M",a[0],a[1]]),d=!0)},g=!1,q=!1,t=a.map(function(a){a=n.forward(a);a.outside?g=!0:q=!0;Infinity===a[1]?a[1]=1E10:-Infinity===a[1]&&(a[1]=-1E10);return a});if(p){m&&t.push(t[0]);if(g){if(!q)return;if(A)if(m)t=b(t,A);else if(k){f(t,A).forEach(function(a){d=!1;a.forEach(h)});return}}t.forEach(h)}else for(var w=0;w<t.length;w++){var K=a[w],u=t[w];if(u.outside)e=!0;else{if(m&&!z){var z=K;a.push(K);t.push(u)}e&&
x&&(m&&r?c.greatCircle(x,K).forEach(function(a){return h(n.forward(a))}):d=!1);h(u);var x=K;e=!1}}}})}var d=this,k=this.bounds,h=this.def,g=this.rotator,l=[],m="Polygon"===a.type||"MultiPolygon"===a.type,r=this.hasGeoProjection,p=!h||!1!==h.antimeridianCutting,u=p?g:void 0,n=p?h||this:this,A;k&&(A=[[k.x1,k.y1],[k.x2,k.y1],[k.x2,k.y2],[k.x1,k.y2]]);"LineString"===a.type?e(a.coordinates):"MultiLineString"===a.type?a.coordinates.forEach(function(a){return e(a)}):"Polygon"===a.type?(a.coordinates.forEach(function(a){return e(a)}),
l.length&&l.push(["Z"])):"MultiPolygon"===a.type&&(a.coordinates.forEach(function(a){a.forEach(function(a){return e(a)})}),l.length&&l.push(["Z"]));return l};c.registry=g;return c}()});y(c,"Maps/MapView.js",[c["Maps/MapViewOptionsDefault.js"],c["Maps/MapViewInsetsOptionsDefault.js"],c["Extensions/GeoJSON.js"],c["Core/Chart/MapChart.js"],c["Maps/MapUtilities.js"],c["Maps/Projection.js"],c["Core/Utilities.js"]],function(c,g,p,l,m,f,b){function x(a,d){return Math.log(400.979322/Math.max((a.x2-a.x1)/
(d.width/256),(a.y2-a.y1)/(d.height/256)))/Math.log(2)}var u=this&&this.__extends||function(){function a(d,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(a[b]=d[b])};return a(d,b)}return function(d,b){function c(){this.constructor=d}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(d,b);d.prototype=null===b?Object.create(b):
(c.prototype=b.prototype,new c)}}(),k=this&&this.__spreadArray||function(a,d,b){if(b||2===arguments.length)for(var c=0,e=d.length,f;c<e;c++)!f&&c in d||(f||(f=Array.prototype.slice.call(d,0,c)),f[c]=d[c]);return a.concat(f||Array.prototype.slice.call(d))},r=p.topo2geo,a=l.maps,e=m.boundsFromPath,d=m.pointInPolygon,q=b.addEvent,h=b.clamp,t=b.fireEvent,F=b.isArray,w=b.isNumber,D=b.isObject,B=b.isString,z=b.merge,n=b.pick,A=b.relativeLength,E=function(){function b(a,d){var e=this;this.allowTransformAnimation=
!0;this.insets=[];this.padding=[0,0,0,0];this.eventsToUnbind=[];var h;if(!(this instanceof H)){var v=k([a.options.chart.map],(a.options.series||[]).map(function(a){return a.mapData}),!0).map(function(a){return e.getGeoMap(a)}),n=[];v.forEach(function(a){a&&(C||(C=a["hc-recommended-mapview"]),a.bbox&&(a=a.bbox,n.push({x1:a[0],y1:a[1],x2:a[2],y2:a[3]})))});var g=n.length&&b.compositeBounds(n);t(a,"beforeMapViewInit",{geoBounds:g},function(){if(g){var a=g.x1,d=g.y1,b=g.x2,c=g.y2;h=180<b-a&&90<c-d?{name:"EqualEarth"}:
{name:"LambertConformalConic",parallels:[d,c],rotation:[-(a+b)/2]}}});this.geoMap=v[0]}this.userOptions=d||{};if(a.options.mapView&&a.options.mapView.recommendedMapView)var C=a.options.mapView.recommendedMapView;v=z(c,{projection:h},C,d);var l=C&&C.insets;d=d&&d.insets;l&&d&&(v.insets=b.mergeInsets(l,d));this.chart=a;this.center=v.center;this.options=v;this.projection=new f(v.projection);this.playingField=a.plotBox;this.zoom=v.zoom||0;this.minZoom=v.minZoom;this.createInsets();this.eventsToUnbind.push(q(a,
"afterSetChartSize",function(){e.playingField=e.getField();if(void 0===e.minZoom||e.minZoom===e.zoom)e.fitToBounds(void 0,void 0,!1),!e.chart.hasRendered&&w(e.userOptions.zoom)&&(e.zoom=e.userOptions.zoom),e.userOptions.center&&z(!0,e.center,e.userOptions.center)}));this.setUpEvents()}b.mergeInsets=function(a,d){function b(a){var d={};a.forEach(function(a,b){d[a&&a.id||"i".concat(b)]=a});return d}var c=z(b(a),b(d));return Object.keys(c).map(function(a){return c[a]})};b.prototype.createInsets=function(){var a=
this,d=this.options,b=d.insets;b&&b.forEach(function(b){b=new H(a,z(d.insetOptions,b));a.insets.push(b)})};b.prototype.fitToBounds=function(a,d,b,c){void 0===b&&(b=!0);var e=a||this.getProjectedBounds();if(e){var f=n(d,a?0:this.options.padding);d=this.getField(!1);f=F(f)?f:[f,f,f,f];this.padding=[A(f[0],d.height),A(f[1],d.width),A(f[2],d.height),A(f[3],d.width)];this.playingField=this.getField();d=x(e,this.playingField);a||(this.minZoom=d);a=this.projection.inverse([(e.x2+e.x1)/2,(e.y2+e.y1)/2]);
this.setView(a,d,b,c)}};b.prototype.getField=function(a){void 0===a&&(a=!0);a=a?this.padding:[0,0,0,0];return{x:a[3],y:a[0],width:this.chart.plotWidth-a[1]-a[3],height:this.chart.plotHeight-a[0]-a[2]}};b.prototype.getGeoMap=function(d){if(B(d))return a[d]&&"Topology"===a[d].type?r(a[d]):a[d];if(D(d,!0)){if("FeatureCollection"===d.type)return d;if("Topology"===d.type)return r(d)}};b.prototype.getMapBBox=function(){var a=this.getProjectedBounds(),d=this.getScale();if(a){var b=this.padding,c=this.projectedUnitsToPixels({x:a.x1,
y:a.y2});return{width:(a.x2-a.x1)*d+b[1]+b[3],height:(a.y2-a.y1)*d+b[0]+b[2],x:c.x-b[3],y:c.y-b[0]}}};b.prototype.getProjectedBounds=function(){var a=this.projection,d=this.chart.series.reduce(function(a,d){var b=d.getProjectedBounds&&d.getProjectedBounds();b&&!1!==d.options.affectsMapView&&a.push(b);return a},[]),c=this.options.fitToGeometry;return c?(this.fitToGeometryCache||("MultiPoint"===c.type?(c=c.coordinates.map(function(d){return a.forward(d)}),d=c.map(function(a){return a[0]}),c=c.map(function(a){return a[1]}),
this.fitToGeometryCache={x1:Math.min.apply(0,d),x2:Math.max.apply(0,d),y1:Math.min.apply(0,c),y2:Math.max.apply(0,c)}):this.fitToGeometryCache=e(a.path(c))),this.fitToGeometryCache):this.projection.bounds||b.compositeBounds(d)};b.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)};b.prototype.getSVGTransform=function(){var a=this.playingField,d=a.x,b=a.y,c=a.width;a=a.height;var e=this.projection.forward(this.center),f=this.projection.hasCoordinates?-1:1,h=this.getScale();f*=
h;return{scaleX:h,scaleY:f,translateX:d+c/2-e[0]*h,translateY:b+a/2-e[1]*f}};b.prototype.lonLatToPixels=function(a){if(a=this.lonLatToProjectedUnits(a))return this.projectedUnitsToPixels(a)};b.prototype.lonLatToProjectedUnits=function(a){var b=this.chart,c=b.mapTransforms;if(c){for(var e in c)if(Object.hasOwnProperty.call(c,e)&&c[e].hitZone){var f=b.transformFromLatLon(a,c[e]);if(f&&d(f,c[e].hitZone.coordinates[0]))return f}return b.transformFromLatLon(a,c["default"])}c=0;for(e=this.insets;c<e.length;c++)if(b=
e[c],b.options.geoBounds&&d({x:a.lon,y:a.lat},b.options.geoBounds.coordinates[0]))return a=b.projection.forward([a.lon,a.lat]),a=b.projectedUnitsToPixels({x:a[0],y:a[1]}),this.pixelsToProjectedUnits(a);a=this.projection.forward([a.lon,a.lat]);if(!a.outside)return{x:a[0],y:a[1]}};b.prototype.projectedUnitsToLonLat=function(a){var b=this.chart,c=b.mapTransforms;if(c){for(var e in c)if(Object.hasOwnProperty.call(c,e)&&c[e].hitZone&&d(a,c[e].hitZone.coordinates[0]))return b.transformToLatLon(a,c[e]);
return b.transformToLatLon(a,c["default"])}c=this.projectedUnitsToPixels(a);e=0;for(var f=this.insets;e<f.length;e++)if(b=f[e],b.hitZone&&d(c,b.hitZone.coordinates[0]))return a=b.pixelsToProjectedUnits(c),a=b.projection.inverse([a.x,a.y]),{lon:a[0],lat:a[1]};a=this.projection.inverse([a.x,a.y]);return{lon:a[0],lat:a[1]}};b.prototype.redraw=function(a){this.chart.series.forEach(function(a){a.useMapGeometry&&(a.isDirty=!0)});this.chart.redraw(a)};b.prototype.setView=function(a,d,b,c){void 0===b&&(b=
!0);a&&(this.center=a);"number"===typeof d&&("number"===typeof this.minZoom&&(d=Math.max(d,this.minZoom)),"number"===typeof this.options.maxZoom&&(d=Math.min(d,this.options.maxZoom)),w(d)&&(this.zoom=d));var e=this.getProjectedBounds();if(e){a=this.projection.forward(this.center);var f=this.playingField;d=f.x;var h=f.y,n=f.width;f=f.height;var k=this.getScale(),g=this.projectedUnitsToPixels({x:e.x1,y:e.y1}),q=this.projectedUnitsToPixels({x:e.x2,y:e.y2});e=[(e.x1+e.x2)/2,(e.y1+e.y2)/2];if(!this.chart.series.some(function(a){return a.isDrilling})){var l=
g.x,m=q.y;q=q.x;g=g.y;q-l<n?a[0]=e[0]:l<d&&q<d+n?a[0]+=Math.max(l-d,q-n-d)/k:q>d+n&&l>d&&(a[0]+=Math.min(q-n-d,l-d)/k);g-m<f?a[1]=e[1]:m<h&&g<h+f?a[1]-=Math.max(m-h,g-f-h)/k:g>h+f&&m>h&&(a[1]-=Math.min(g-f-h,m-h)/k);this.center=this.projection.inverse(a)}this.insets.forEach(function(a){a.options.field&&(a.hitZone=a.getHitZone(),a.playingField=a.getField())});this.render()}t(this,"afterSetView");b&&this.redraw(c)};b.prototype.projectedUnitsToPixels=function(a){var d=this.getScale(),b=this.projection.forward(this.center),
c=this.playingField;return{x:c.x+c.width/2-d*(b[0]-a.x),y:c.y+c.height/2+d*(b[1]-a.y)}};b.prototype.pixelsToLonLat=function(a){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(a))};b.prototype.pixelsToProjectedUnits=function(a){var d=a.x;a=a.y;var b=this.getScale(),c=this.projection.forward(this.center),e=this.playingField;return{x:c[0]+(d-(e.x+e.width/2))/b,y:c[1]-(a-(e.y+e.height/2))/b}};b.prototype.setUpEvents=function(){function a(a){var n=b.pointer.pinchDown,k=d.projection,g=b.mouseDownX,
q=b.mouseDownY;1===n.length&&(g=n[0].chartX,q=n[0].chartY);if("number"===typeof g&&"number"===typeof q){var l="".concat(g,",").concat(q),m=a.originalEvent;n=m.chartX;m=m.chartY;l!==e&&(e=l,c=d.projection.forward(d.center),f=(d.projection.options.rotation||[0,0]).slice());l=(l=k.def&&k.def.bounds)&&x(l,d.playingField)||-Infinity;"Orthographic"===k.options.name&&(d.minZoom||Infinity)<1.3*l?(k=440/(d.getScale()*Math.min(b.plotWidth,b.plotHeight)),f&&(g=(g-n)*k-f[0],q=h(-f[1]-(q-m)*k,-80,80),n=d.zoom,
d.update({projection:{rotation:[-g,-q]}},!1),d.fitToBounds(void 0,void 0,!1),d.zoom=n,b.redraw(!1))):w(n)&&w(m)&&(k=d.getScale(),q=d.projection.inverse([c[0]+(g-n)/k,c[1]-(q-m)/k*(d.projection.hasCoordinates?1:-1)]),isNaN(q[0]+q[1])||d.setView(q,void 0,!0,!1));a.preventDefault()}}var d=this,b=this.chart,c,e,f;q(b,"pan",a);q(b,"touchpan",a);q(b,"selection",function(a){if(a.resetSelection)d.zoomBy();else{var c=a.x-b.plotLeft,e=a.y-b.plotTop,f=d.pixelsToProjectedUnits({x:c,y:e}),h=f.y;f=f.x;c=d.pixelsToProjectedUnits({x:c+
a.width,y:e+a.height});d.fitToBounds({x1:f,y1:h,x2:c.x,y2:c.y},void 0,!0,a.originalEvent.touches?!1:void 0);/^touch/.test(a.originalEvent.type)||b.showResetZoom();a.preventDefault()}})};b.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())};b.prototype.update=function(a,d,b){void 0===d&&(d=!0);var c=a.projection;c=c&&f.toString(c)!==f.toString(this.options.projection);var e=!1;z(!0,this.userOptions,a);z(!0,this.options,a);"insets"in a&&(this.insets.forEach(function(a){return a.destroy()}),
this.insets.length=0,e=!0);(c||"fitToGeometry"in a)&&delete this.fitToGeometryCache;if(c||e)this.chart.series.forEach(function(a){var d=a.transformGroups;a.clearBounds&&a.clearBounds();a.isDirty=!0;a.isDirtyData=!0;if(e&&d)for(;1<d.length;)(a=d.pop())&&a.destroy()}),c&&(this.projection=new f(this.options.projection)),e&&this.createInsets(),a.center||!Object.hasOwnProperty.call(a,"zoom")||w(a.zoom)||this.fitToBounds(void 0,void 0,!1);a.center||w(a.zoom)?this.setView(this.options.center,a.zoom,!1):
"fitToGeometry"in a&&this.fitToBounds(void 0,void 0,!1);d&&this.chart.redraw(b)};b.prototype.zoomBy=function(a,d,b,c){var e=this.chart,f=this.projection.forward(this.center);d=d?this.projection.forward(d):[];var h=d[0],n=d[1];"number"===typeof a?(a=this.zoom+a,d=void 0,b&&(h=b[0],n=b[1],b=this.getScale(),h=h-e.plotLeft-e.plotWidth/2,e=n-e.plotTop-e.plotHeight/2,h=f[0]+h/b,n=f[1]+e/b),"number"===typeof h&&"number"===typeof n&&(b=1-Math.pow(2,this.zoom)/Math.pow(2,a),h=f[0]-h,e=f[1]-n,f[0]-=h*b,f[1]+=
e*b,d=this.projection.inverse(f)),this.setView(d,a,void 0,c)):this.fitToBounds(void 0,void 0,void 0,c)};b.compositeBounds=function(a){if(a.length)return a.slice(1).reduce(function(a,d){a.x1=Math.min(a.x1,d.x1);a.y1=Math.min(a.y1,d.y1);a.x2=Math.max(a.x2,d.x2);a.y2=Math.max(a.y2,d.y2);return a},z(a[0]))};return b}(),H=function(a){function b(d,b){var c=a.call(this,d.chart,b)||this;c.id=b.id;c.mapView=d;c.options=z(g,b);c.allBounds=[];c.options.geoBounds&&(d=d.projection.path(c.options.geoBounds),c.geoBoundsProjectedBox=
e(d),c.geoBoundsProjectedPolygon=d.map(function(a){return[a[1]||0,a[2]||0]}));return c}u(b,a);b.prototype.getField=function(d){void 0===d&&(d=!0);var b=this.hitZone;if(b){var c=d?this.padding:[0,0,0,0];b=b.coordinates[0];var e=b.map(function(a){return a[0]}),f=b.map(function(a){return a[1]});b=Math.min.apply(0,e)+c[3];e=Math.max.apply(0,e)-c[1];var h=Math.min.apply(0,f)+c[0];c=Math.max.apply(0,f)-c[2];if(w(b)&&w(h))return{x:b,y:h,width:e-b,height:c-h}}return a.prototype.getField.call(this,d)};b.prototype.getHitZone=
function(){var a=this.chart,d=this.mapView,b=this.options,c=(b.field||{}).coordinates;if(c){c=c[0];if("percent"===b.units){var e="mapBoundingBox"===b.relativeTo&&d.getMapBBox()||z(a.plotBox,{x:0,y:0});c=c.map(function(a){return[A("".concat(a[0],"%"),e.width,e.x),A("".concat(a[1],"%"),e.height,e.y)]})}return{type:"Polygon",coordinates:[c]}}};b.prototype.getProjectedBounds=function(){return E.compositeBounds(this.allBounds)};b.prototype.isInside=function(a){var b=this.geoBoundsProjectedBox,c=this.geoBoundsProjectedPolygon;
return!!(b&&a.x>=b.x1&&a.x<=b.x2&&a.y>=b.y1&&a.y<=b.y2&&c&&d(a,c))};b.prototype.render=function(){var a=this.chart,d=this.mapView,b=this.options,c=b.borderPath||b.field;if(c&&d.group){var e=!0;this.border||(this.border=a.renderer.path().addClass("highcharts-mapview-inset-border").add(d.group),e=!1);a.styledMode||this.border.attr({stroke:b.borderColor,"stroke-width":b.borderWidth});var f=Math.round(this.border.strokeWidth())%2/2,h="mapBoundingBox"===b.relativeTo&&d.getMapBBox()||d.playingField;d=(c.coordinates||
[]).reduce(function(d,c){return c.reduce(function(d,c,e){var n=c[0];c=c[1];"percent"===b.units&&(n=a.plotLeft+A("".concat(n,"%"),h.width,h.x),c=a.plotTop+A("".concat(c,"%"),h.height,h.y));n=Math.floor(n)+f;c=Math.floor(c)+f;d.push(0===e?["M",n,c]:["L",n,c]);return d},d)},[]);this.border[e?"animate":"attr"]({d:d})}};b.prototype.destroy=function(){this.border&&(this.border=this.border.destroy());this.eventsToUnbind.forEach(function(a){return a()})};b.prototype.setUpEvents=function(){};return b}(E);
q(l,"afterInit",function(){this.mapView=new E(this,this.options.mapView)},{order:0});return E});y(c,"Series/Map/MapSeries.js",[c["Core/Animation/AnimationUtilities.js"],c["Series/ColorMapComposition.js"],c["Series/CenteredUtilities.js"],c["Core/Globals.js"],c["Core/Chart/MapChart.js"],c["Series/Map/MapPoint.js"],c["Maps/MapView.js"],c["Core/Series/Series.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Renderer/SVG/SVGRenderer.js"],c["Core/Utilities.js"]],function(c,g,p,l,m,f,b,x,u,k,r){var a=this&&
this.__extends||function(){function a(d,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(a[b]=d[b])};return a(d,b)}return function(d,b){function c(){this.constructor=d}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(d,b);d.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}}(),e=c.animObject,d=
c.stop;c=l.noop;var q=m.splitPath;m=u.seriesTypes;var h=m.column,t=m.scatter;m=r.extend;var F=r.find,w=r.fireEvent,D=r.getNestedProperty,B=r.isArray,z=r.defined,n=r.isNumber,A=r.isObject,E=r.merge,H=r.objectEach,G=r.pick,v=r.splat;r=function(c){function g(){var a=null!==c&&c.apply(this,arguments)||this;a.chart=void 0;a.data=void 0;a.group=void 0;a.joinBy=void 0;a.options=void 0;a.points=void 0;a.processedData=[];return a}a(g,c);g.prototype.animate=function(a){var d=this.chart,b=this.group,c=e(this.options.animation);
a?b.attr({translateX:d.plotLeft+d.plotWidth/2,translateY:d.plotTop+d.plotHeight/2,scaleX:.001,scaleY:.001}):b.animate({translateX:d.plotLeft,translateY:d.plotTop,scaleX:1,scaleY:1},c)};g.prototype.clearBounds=function(){this.points.forEach(function(a){delete a.bounds;delete a.insetIndex;delete a.projectedPath});delete this.bounds};g.prototype.doFullTranslate=function(){return!(!this.isDirtyData&&!this.chart.isResizing&&this.hasRendered)};g.prototype.drawMapDataLabels=function(){x.prototype.drawDataLabels.call(this);
this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};g.prototype.drawPoints=function(){var a=this,b=this,c=this.chart,f=this.group,g=this.transformGroups,k=void 0===g?[]:g,q=c.mapView,l=c.renderer;q&&(this.transformGroups=k,k[0]||(k[0]=l.g().add(f)),q.insets.forEach(function(a,d){k[d+1]||k.push(l.g().add(f))}),this.doFullTranslate()&&(this.points.forEach(function(a){var d=a.graphic;a.group=k["number"===typeof a.insetIndex?a.insetIndex+1:0];d&&d.parentGroup!==a.group&&d.add(a.group)}),
h.prototype.drawPoints.apply(this),this.points.forEach(function(d){var e=d.graphic;if(e){var f=e.animate,h="";d.name&&(h+="highcharts-name-"+d.name.replace(/ /g,"-").toLowerCase());d.properties&&d.properties["hc-key"]&&(h+=" highcharts-key-"+d.properties["hc-key"].toString().toLowerCase());h&&e.addClass(h);c.styledMode&&e.css(a.pointAttribs(d,d.selected&&"select"||void 0));e.animate=function(a,d,h){var k=n(a["stroke-width"])&&!n(e["stroke-width"]),g=n(e["stroke-width"])&&!n(a["stroke-width"]);if(k||
g){var q=G(b.getStrokeWidth(b.options),1)/(c.mapView&&c.mapView.getScale()||1);k&&(e["stroke-width"]=q);g&&(a["stroke-width"]=q)}return f.call(e,a,d,g?function(){e.element.removeAttribute("stroke-width");delete e["stroke-width"];h&&h.apply(this,arguments)}:h)}}})),k.forEach(function(f,h){function n(d){(b.points||[]).forEach(function(b){var c=b.graphic,e;c&&c["stroke-width"]&&(e=a.getStrokeWidth(b.options))&&c.attr({"stroke-width":e/d})})}var k=(0===h?q:q.insets[h-1]).getSVGTransform(),g=G(a.getStrokeWidth(a.options),
1),m=k.scaleX,t=0<k.scaleY?1:-1;if(l.globalAnimation&&c.hasRendered&&q.allowTransformAnimation){var w=Number(f.attr("translateX")),p=Number(f.attr("translateY")),A=Number(f.attr("scaleX")),r=function(a,d){a=A+(m-A)*d.pos;f.attr({translateX:w+(k.translateX-w)*d.pos,translateY:p+(k.translateY-p)*d.pos,scaleX:a,scaleY:a*t,"stroke-width":g/a});n(a)};h=E(e(l.globalAnimation));var v=h.step;h.step=function(a){v&&v.apply(this,arguments);r.apply(this,arguments)};f.attr({animator:0}).animate({animator:1},h,
function(){"boolean"!==typeof l.globalAnimation&&l.globalAnimation.complete&&l.globalAnimation.complete({applyDrilldown:!0})})}else d(f),f.attr(E(k,{"stroke-width":g/m})),n(m)}),this.isDrilling||this.drawMapDataLabels())};g.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var a=this.chart.mapView,d=a.insets,c=a.projection,e=[];(this.points||[]).forEach(function(a){if(a.path||a.geometry){"string"===typeof a.path?a.path=q(a.path):B(a.path)&&"M"===a.path[0]&&(a.path=k.prototype.pathToSegments(a.path));
if(!a.bounds){var b=a.getProjectedBounds(c);if(b){a.labelrank=G(a.labelrank,(b.x2-b.x1)*(b.y2-b.y1));var f=b.midX,h=b.midY;if(d&&n(f)&&n(h)){var g=F(d,function(a){return a.isInside({x:f,y:h})});g&&(delete a.projectedPath,(b=a.getProjectedBounds(g.projection))&&g.allBounds.push(b),a.insetIndex=d.indexOf(g))}a.bounds=b}}a.bounds&&void 0===a.insetIndex&&e.push(a.bounds)}});this.bounds=b.compositeBounds(e)}return this.bounds};g.prototype.getStrokeWidth=function(a){var d=this.pointAttrToOptions;return a[d&&
d["stroke-width"]||"borderWidth"]};g.prototype.hasData=function(){return!!this.processedXData.length};g.prototype.pointAttribs=function(a,d){var b,c=a.series.chart,e=c.mapView;c=c.styledMode?this.colorAttribs(a):h.prototype.pointAttribs.call(this,a,d);var f=this.getStrokeWidth(a.options);if(d){d=E(this.options.states[d],a.options.states&&a.options.states[d]||{});var k=this.getStrokeWidth(d);z(k)&&(f=k);c.stroke=null!==(b=d.borderColor)&&void 0!==b?b:a.color}f&&e&&(f/=e.getScale());b=this.getStrokeWidth(this.options);
c.dashstyle&&e&&n(b)&&(f=b/e.getScale());a.visible||(c.fill=this.options.nullColor);z(f)?c["stroke-width"]=f:delete c["stroke-width"];c["stroke-linecap"]=c["stroke-linejoin"]=this.options.linecap;return c};g.prototype.updateData=function(){return this.processedData?!1:c.prototype.updateData.apply(this,arguments)};g.prototype.setData=function(a,d,b,e){void 0===d&&(d=!0);delete this.bounds;c.prototype.setData.call(this,a,!1,void 0,e);this.processData();this.generatePoints();d&&this.chart.redraw(b)};
g.prototype.processData=function(){var a=this.options,d=a.data,b=this.chart.options.chart,c=this.joinBy,e=a.keys||this.pointArrayMap,h=[],k={},g=this.chart.mapView;g=g&&(A(a.mapData,!0)?g.getGeoMap(a.mapData):g.geoMap);var q=this.chart.mapTransforms;(this.chart.mapTransforms=q=b.mapTransforms||g&&g["hc-transform"]||q)&&H(q,function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))});if(B(a.mapData))var m=a.mapData;else g&&"FeatureCollection"===g.type&&(this.mapTitle=
g.title,m=l.geojson(g,this.type,this));var t=this.processedData=[];d&&d.forEach(function(b,h){var g=0;if(n(b))t[h]={value:b};else if(B(b)){t[h]={};!a.keys&&b.length>e.length&&"string"===typeof b[0]&&(t[h]["hc-key"]=b[0],++g);for(var k=0;k<e.length;++k,++g)e[k]&&"undefined"!==typeof b[g]&&(0<e[k].indexOf(".")?f.prototype.setNestedProperty(t[h],b[g],e[k]):t[h][e[k]]=b[g])}else t[h]=d[h];c&&"_i"===c[0]&&(t[h]._i=h)});if(m){this.mapData=m;this.mapMap={};for(q=0;q<m.length;q++)b=m[q],g=b.properties,b._i=
q,c[0]&&g&&g[c[0]]&&(b[c[0]]=g[c[0]]),k[b[c[0]]]=b;this.mapMap=k;if(c[1]){var w=c[1];t.forEach(function(a){a=D(w,a);k[a]&&h.push(k[a])})}if(a.allAreas){if(c[1]){var p=c[1];t.forEach(function(a){h.push(D(p,a))})}var r="|"+h.map(function(a){return a&&a[c[0]]}).join("|")+"|";m.forEach(function(a){c[0]&&-1!==r.indexOf("|"+a[c[0]]+"|")||t.push(E(a,{value:null}))})}}this.processedXData=Array(t.length)};g.prototype.setOptions=function(a){a=x.prototype.setOptions.call(this,a);var d=a.joinBy;null===d&&(d=
"_i");d=this.joinBy=v(d);d[1]||(d[1]=d[0]);return a};g.prototype.translate=function(){var a=this.doFullTranslate(),d=this.chart.mapView,b=d&&d.projection;!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!d||d.userOptions.center||n(d.userOptions.zoom)||d.zoom!==d.minZoom?this.getProjectedBounds():d.fitToBounds(void 0,void 0,!1));if(d){var c=d.getSVGTransform();this.points.forEach(function(e){var h=n(e.insetIndex)&&d.insets[e.insetIndex].getSVGTransform()||
c;h&&e.bounds&&n(e.bounds.midX)&&n(e.bounds.midY)&&(e.plotX=e.bounds.midX*h.scaleX+h.translateX,e.plotY=e.bounds.midY*h.scaleY+h.translateY);a&&(e.shapeType="path",e.shapeArgs={d:f.getProjectedPath(e,b)});e.projectedPath&&!e.projectedPath.length?e.setVisible(!1):e.visible||e.setVisible(!0)})}w(this,"afterTranslate")};g.defaultOptions=E(t.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var a=this.series.chart.numberFormatter,d=this.point.value;return n(d)?a(d,
-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"round",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#e6e6e6",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:void 0,borderColor:"#666666",borderWidth:2},normal:{animation:!0},select:{color:"#cccccc"}},legendSymbol:"rectangle"});return g}(t);m(r.prototype,{type:"map",axisTypes:g.seriesMembers.axisTypes,colorAttribs:g.seriesMembers.colorAttribs,
colorKey:g.seriesMembers.colorKey,directTouch:!0,drawDataLabels:c,drawGraph:c,forceDL:!0,getCenter:p.getCenter,getExtremesFromAll:!0,getSymbol:c,isCartesian:!1,parallelArrays:g.seriesMembers.parallelArrays,pointArrayMap:g.seriesMembers.pointArrayMap,pointClass:f,preserveAspectRatio:!0,searchPoint:c,trackerGroups:g.seriesMembers.trackerGroups,useMapGeometry:!0});g.compose(r);u.registerSeriesType("map",r);"";return r});y(c,"Series/MapLine/MapLineSeries.js",[c["Series/Map/MapSeries.js"],c["Core/Series/SeriesRegistry.js"],
c["Core/Utilities.js"]],function(c,g,p){var l=this&&this.__extends||function(){function b(c,f){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a])};return b(c,f)}return function(c,f){function g(){this.constructor=c}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");b(c,f);c.prototype=null===f?Object.create(f):(g.prototype=
f.prototype,new g)}}(),m=p.extend,f=p.merge;p=function(b){function g(){var c=null!==b&&b.apply(this,arguments)||this;c.data=void 0;c.options=void 0;c.points=void 0;return c}l(g,b);g.prototype.pointAttribs=function(b,f){b=c.prototype.pointAttribs.call(this,b,f);b.fill=this.options.fillColor;return b};g.defaultOptions=f(c.defaultOptions,{lineWidth:1,fillColor:"none",legendSymbol:"lineMarker"});return g}(c);m(p.prototype,{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}});
g.registerSeriesType("mapline",p);"";return p});y(c,"Series/MapPoint/MapPointPoint.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,g){var p=this&&this.__extends||function(){function c(f,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(b[f]=c[f])};return c(f,b)}return function(f,b){function g(){this.constructor=f}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+
String(b)+" is not a constructor or null");c(f,b);f.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g)}}(),l=g.isNumber;return function(c){function f(){var b=null!==c&&c.apply(this,arguments)||this;b.options=void 0;b.series=void 0;return b}p(f,c);f.prototype.isValid=function(){return!!(this.options.geometry||l(this.x)&&l(this.y)||l(this.options.lon)&&l(this.options.lat))};return f}(c.seriesTypes.scatter.prototype.pointClass)});y(c,"Series/MapPoint/MapPointSeries.js",[c["Core/Globals.js"],
c["Series/MapPoint/MapPointPoint.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Renderer/SVG/SVGRenderer.js"],c["Core/Utilities.js"]],function(c,g,p,l,m){var f=this&&this.__extends||function(){function a(d,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(a[b]=d[b])};return a(d,b)}return function(d,b){function c(){this.constructor=d}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+
String(b)+" is not a constructor or null");a(d,b);d.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}}();c=c.noop;var b=p.seriesTypes,x=b.map,u=b.scatter;b=m.extend;var k=m.fireEvent,r=m.isNumber,a=m.merge;m=function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.chart=void 0;a.data=void 0;a.options=void 0;a.points=void 0;a.clearBounds=x.prototype.clearBounds;return a}f(d,b);d.prototype.drawDataLabels=function(){b.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&
this.dataLabelsGroup.clip(this.chart.clipRect)};d.prototype.projectPoint=function(a){var d=this.chart.mapView;if(d){var b=a.geometry,c=a.lon;a=a.lat;b=b&&"Point"===b.type&&b.coordinates;r(c)&&r(a)&&(b=[c,a]);if(b)return d.lonLatToProjectedUnits({lon:b[0],lat:b[1]})}};d.prototype.translate=function(){var a=this,d=this.chart.mapView;this.processedXData||this.processData();this.generatePoints();this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds());if(d){var b=d.getSVGTransform(),
c=d.projection.hasCoordinates;this.points.forEach(function(e){var f=e.x;f=void 0===f?void 0:f;var h=e.y;h=void 0===h?void 0:h;var g=r(e.insetIndex)&&d.insets[e.insetIndex].getSVGTransform()||b,n=a.projectPoint(e.options)||e.properties&&a.projectPoint(e.properties);if(n)f=n.x,h=n.y;else if(e.bounds&&(f=e.bounds.midX,h=e.bounds.midY,g&&r(f)&&r(h))){e.plotX=f*g.scaleX+g.translateX;e.plotY=h*g.scaleY+g.translateY;var k=!0}r(f)&&r(h)?k||(k=d.projectedUnitsToPixels({x:f,y:h}),e.plotX=k.x,e.plotY=c?k.y:
a.chart.plotHeight-k.y):e.y=e.plotX=e.plotY=void 0;e.isInside=a.isPointInside(e);e.zone=a.zones.length?e.getZone():void 0})}k(this,"afterTranslate")};d.defaultOptions=a(u.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}},legendSymbol:"lineMarker"});return d}(u);l.prototype.symbols.mapmarker=function(a,d,b,c,f){var e=f&&"legend"===f.context;e?(a+=b/2,f=d+c):f&&"number"===typeof f.anchorX&&"number"===typeof f.anchorY?
(a=f.anchorX,f=f.anchorY):(a+=b/2,f=d+c/2,d-=c);c=e?c/3:c/2;return[["M",a,f],["C",a,f,a-c,d+1.5*c,a-c,d+c],["A",c,c,1,1,1,a+c,d+c],["C",a+c,d+1.5*c,a,f,a,f],["Z"]]};b(m.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:g,searchPoint:c,useMapGeometry:!0});p.registerSeriesType("mappoint",m);"";return m});y(c,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,
connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}});y(c,"Series/Bubble/BubbleLegendItem.js",[c["Core/Color/Color.js"],c["Core/Templating.js"],c["Core/Globals.js"],c["Core/Utilities.js"]],function(c,
g,p,l){var m=c.parse,f=p.noop,b=l.arrayMax,x=l.arrayMin,u=l.isNumber,k=l.merge,r=l.pick,a=l.stableSort;c=function(){function c(a,b){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0;this.setState=f;this.init(a,b)}c.prototype.init=function(a,b){this.options=a;this.visible=!0;this.chart=b.chart;this.legend=b};c.prototype.addToLegend=function(a){a.splice(this.options.legendIndex,0,this)};c.prototype.drawLegendSymbol=function(d){var b=
r(d.options.itemDistance,20),c=this.legendItem||{},e=this.options,f=e.ranges,g=e.connectorDistance;if(f&&f.length&&u(f[0].value)){a(f,function(a,d){return d.value-a.value});this.ranges=f;this.setOptions();this.render();d=this.getMaxLabelSize();var k=this.ranges[0].radius;f=2*k;g=g-k+d.width;g=0<g?g:0;this.maxLabel=d;this.movementX="left"===e.labels.align?g:0;c.labelWidth=f+g+b;c.labelHeight=f+d.height/2}else d.options.bubbleLegend.autoRanges=!0};c.prototype.setOptions=function(){var a=this.ranges,
b=this.options,c=this.chart.series[b.seriesIndex],e=this.legend.baseline,f={zIndex:b.zIndex,"stroke-width":b.borderWidth},g={zIndex:b.zIndex,"stroke-width":b.connectorWidth},l={align:this.legend.options.rtl||"left"===b.labels.align?"right":"left",zIndex:b.zIndex},p=c.options.marker.fillOpacity,z=this.chart.styledMode;a.forEach(function(d,h){z||(f.stroke=r(d.borderColor,b.borderColor,c.color),f.fill=r(d.color,b.color,1!==p?m(c.color).setOpacity(p).get("rgba"):c.color),g.stroke=r(d.connectorColor,b.connectorColor,
c.color));a[h].radius=this.getRangeRadius(d.value);a[h]=k(a[h],{center:a[0].radius-a[h].radius+e});z||k(!0,a[h],{bubbleAttribs:k(f),connectorAttribs:k(g),labelAttribs:l})},this)};c.prototype.getRangeRadius=function(a){var d=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,d.ranges[d.ranges.length-1].value,d.ranges[0].value,d.minSize,d.maxSize,a)};c.prototype.render=function(){var a=this.legendItem||{},b=this.chart.renderer,c=this.options.zThreshold;this.symbols||
(this.symbols={connectors:[],bubbleItems:[],labels:[]});a.symbol=b.g("bubble-legend");a.label=b.g("bubble-legend-item").css(this.legend.itemStyle||{});a.symbol.translateX=0;a.symbol.translateY=0;a.symbol.add(a.label);a.label.add(a.group);a=0;for(b=this.ranges;a<b.length;a++){var e=b[a];e.value>=c&&this.renderRange(e)}this.hideOverlappingLabels()};c.prototype.renderRange=function(a){var d=this.options,b=d.labels,c=this.chart,e=c.series[d.seriesIndex],f=c.renderer,g=this.symbols;c=g.labels;var k=a.center,
l=Math.abs(a.radius),n=d.connectorDistance||0,m=b.align,p=d.connectorWidth,r=this.ranges[0].radius||0,u=k-l-d.borderWidth/2+p/2,v=f.styledMode;n=this.legend.options.rtl||"left"===m?-n:n;"center"===m&&(n=0,d.connectorDistance=0,a.labelAttribs.align="center");g.bubbleItems.push(f.circle(r,k+((u%1?1:.5)-(p%2?0:.5)),l).attr(v?{}:a.bubbleAttribs).addClass((v?"highcharts-color-"+e.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(d.className||"")).add(this.legendItem.symbol));g.connectors.push(f.path(f.crispLine([["M",
r,u],["L",r+n,u]],d.connectorWidth)).attr(v?{}:a.connectorAttribs).addClass((v?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(d.connectorClassName||"")).add(this.legendItem.symbol));a=f.text(this.formatLabel(a)).attr(v?{}:a.labelAttribs).css(v?{}:b.style).addClass("highcharts-bubble-legend-labels "+(d.labels.className||"")).add(this.legendItem.symbol);d={x:r+n+d.labels.x,y:u+d.labels.y+.4*a.getBBox().height};a.attr(d);c.push(a);a.placed=!0;a.alignAttr=
d};c.prototype.getMaxLabelSize=function(){var a,b;this.symbols.labels.forEach(function(d){b=d.getBBox(!0);a=a?b.width>a.width?b:a:b});return a||{}};c.prototype.formatLabel=function(a){var d=this.options,b=d.labels.formatter;d=d.labels.format;var c=this.chart.numberFormatter;return d?g.format(d,a):b?b.call(a):c(a.value,1)};c.prototype.hideOverlappingLabels=function(){var a=this.chart,b=this.symbols;!this.options.labels.allowOverlap&&b&&(a.hideOverlappingLabels(b.labels),b.labels.forEach(function(a,
d){a.newOpacity?a.newOpacity!==a.oldOpacity&&b.connectors[d].show():b.connectors[d].hide()}))};c.prototype.getRanges=function(){var a=this.legend.bubbleLegend,c=a.options.ranges,e,f=Number.MAX_VALUE,g=-Number.MAX_VALUE;a.chart.series.forEach(function(a){a.isBubble&&!a.ignoreSeries&&(e=a.zData.filter(u),e.length&&(f=r(a.options.zMin,Math.min(f,Math.max(x(e),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),g=r(a.options.zMax,Math.max(g,b(e)))))});var l=f===g?[{value:g}]:[{value:f},
{value:(f+g)/2},{value:g,autoRanges:!0}];c.length&&c[0].radius&&l.reverse();l.forEach(function(a,d){c&&c[d]&&(l[d]=k(c[d],a))});return l};c.prototype.predictBubbleSizes=function(){var a=this.chart,b=a.legend.options,c=b.floating,e=(b="horizontal"===b.layout)?a.legend.lastLineHeight:0,f=a.plotSizeX,g=a.plotSizeY,k=a.series[this.options.seriesIndex],l=k.getPxExtremes();a=Math.ceil(l.minPxSize);l=Math.ceil(l.maxPxSize);var m=Math.min(g,f);k=k.options.maxSize;if(c||!/%$/.test(k))c=l;else if(k=parseFloat(k),
c=(m+e)*k/100/(k/100+1),b&&g-c>=f||!b&&f-c>=g)c=l;return[a,Math.ceil(c)]};c.prototype.updateRanges=function(a,b){var d=this.legend.options.bubbleLegend;d.minSize=a;d.maxSize=b;d.ranges=this.getRanges()};c.prototype.correctSizes=function(){var a=this.legend,b=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(b.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,b.maxPxSize),a.render())};return c}();"";return c});y(c,"Series/Bubble/BubbleLegendComposition.js",
[c["Series/Bubble/BubbleLegendDefaults.js"],c["Series/Bubble/BubbleLegendItem.js"],c["Core/Defaults.js"],c["Core/Utilities.js"]],function(c,g,p,l){function m(a,d,c){var g=this.legend,h=0<=f(this),l;if(g&&g.options.enabled&&g.bubbleLegend&&g.options.bubbleLegend.autoRanges&&h){var m=g.bubbleLegend.options;h=g.bubbleLegend.predictBubbleSizes();g.bubbleLegend.updateRanges(h[0],h[1]);m.placed||(g.group.placed=!1,g.allItems.forEach(function(a){l=a.legendItem||{};l.group&&(l.group.translateY=null)}));g.render();
this.getMargins();this.axes.forEach(function(a){a.visible&&a.render();m.placed||(a.setScale(),a.updateNames(),e(a.ticks,function(a){a.isNew=!0;a.isNewLabel=!0}))});m.placed=!0;this.getMargins();a.call(this,d,c);g.bubbleLegend.correctSizes();k(g,b(g))}else a.call(this,d,c),g&&g.options.enabled&&g.bubbleLegend&&(g.render(),k(g,b(g)))}function f(a){a=a.series;for(var b=0;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;b++}return-1}function b(a){a=a.allItems;var b=[],d=a.length,
c,e=0;for(c=0;c<d;c++){var f=a[c].legendItem||{};var g=(a[c+1]||{}).legendItem||{};f.labelHeight&&(a[c].itemHeight=f.labelHeight);if(a[c]===a[d-1]||f.y!==g.y){b.push({height:0});f=b[b.length-1];for(e;e<=c;e++)a[e].itemHeight>f.height&&(f.height=a[e].itemHeight);f.step=c}}return b}function x(a){var b=this.bubbleLegend,d=this.options,c=d.bubbleLegend,e=f(this.chart);b&&b.ranges&&b.ranges.length&&(c.ranges.length&&(c.autoRanges=!!c.ranges[0].autoRanges),this.destroyItem(b));0<=e&&d.enabled&&c.enabled&&
(c.seriesIndex=e,this.bubbleLegend=new g(c,this),this.bubbleLegend.addToLegend(a.allItems))}function u(a){if(a.defaultPrevented)return!1;var b=this.chart;a=this.visible;var d=this.chart.legend;d&&d.bubbleLegend&&(this.visible=!a,this.ignoreSeries=a,b=0<=f(b),d.bubbleLegend.visible!==b&&(d.update({bubbleLegend:{enabled:b}}),d.bubbleLegend.visible=b),this.visible=a)}function k(a,b){var d=a.options.rtl,c,e,f,g,k=0;a.allItems.forEach(function(a,n){g=a.legendItem||{};if(g.group){c=g.group.translateX||
0;e=g.y||0;if((f=a.movementX)||d&&a.ranges)f=d?c-a.options.maxSize/2:c+f,g.group.attr({translateX:f});n>b[k].step&&k++;g.group.attr({translateY:Math.round(e+b[k].height/2)});g.y=e+b[k].height/2}})}var r=p.setOptions,a=l.addEvent,e=l.objectEach,d=l.wrap,q=[];return{compose:function(b,e,f){l.pushUnique(q,b)&&(r({legend:{bubbleLegend:c}}),d(b.prototype,"drawChartBox",m));l.pushUnique(q,e)&&a(e,"afterGetAllItems",x);l.pushUnique(q,f)&&a(f,"legendItemClick",u)}}});y(c,"Series/Bubble/BubblePoint.js",[c["Core/Series/Point.js"],
c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,g,p){var l=this&&this.__extends||function(){function c(f,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(b[f]=c[f])};return c(f,b)}return function(f,b){function g(){this.constructor=f}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");c(f,b);f.prototype=
null===b?Object.create(b):(g.prototype=b.prototype,new g)}}();p=p.extend;g=function(g){function f(){var b=null!==g&&g.apply(this,arguments)||this;b.options=void 0;b.series=void 0;return b}l(f,g);f.prototype.haloPath=function(b){return c.prototype.haloPath.call(this,0===b?0:(this.marker?this.marker.radius||0:0)+b)};return f}(g.seriesTypes.scatter.prototype.pointClass);p(g.prototype,{ttBelow:!1});return g});y(c,"Series/Bubble/BubbleSeries.js",[c["Series/Bubble/BubbleLegendComposition.js"],c["Series/Bubble/BubblePoint.js"],
c["Core/Color/Color.js"],c["Core/Globals.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,g,p,l,m,f){function b(){var a=this,b=this.len,d=this.chart,c=this.isXAxis,e=c?"xData":"yData",f=this.min,g=this.max-f,k=0,h=b,l=b/g,m;this.series.forEach(function(b){if(b.bubblePadding&&(b.visible||!d.options.chart.ignoreHiddenSeries)){m=a.allowZoomOutside=!0;var n=b[e];c&&((b.onPoint||b).getRadii(0,0,b),b.onPoint&&(b.radii=b.onPoint.radii));if(0<g)for(var p=n.length;p--;)if(t(n[p])&&
a.dataMin<=n[p]&&n[p]<=a.max){var q=b.radii&&b.radii[p]||0;k=Math.min((n[p]-f)*l-q,k);h=Math.max((n[p]-f)*l+q,h)}}});m&&0<g&&!this.logarithmic&&(h-=b,l*=(b+Math.max(0,k)-Math.min(h,b))/b,[["min","userMin",k],["max","userMax",h]].forEach(function(b){"undefined"===typeof w(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/l)}))}var x=this&&this.__extends||function(){function a(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,
d)&&(a[d]=b[d])};return a(b,d)}return function(b,d){function c(){this.constructor=b}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");a(b,d);b.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}}(),u=p.parse;p=l.noop;var k=m.series,r=m.seriesTypes;l=r.column.prototype;var a=r.scatter;r=f.addEvent;var e=f.arrayMax,d=f.arrayMin,q=f.clamp,h=f.extend,t=f.isNumber,y=f.merge,w=f.pick,G=[],B=function(g){function n(){var a=
null!==g&&g.apply(this,arguments)||this;a.data=void 0;a.maxPxSize=void 0;a.minPxSize=void 0;a.options=void 0;a.points=void 0;a.radii=void 0;a.yData=void 0;a.zData=void 0;return a}x(n,g);n.compose=function(a,d,e,g){c.compose(d,e,g);f.pushUnique(G,a)&&(a.prototype.beforePadding=b)};n.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach(function(a){var b=a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),
this.options.animation))},this)};n.prototype.getRadii=function(){var a=this,b=this.zData,d=this.yData,c=[],e=this.chart.bubbleZExtremes;var f=this.getPxExtremes();var g=f.minPxSize,k=f.maxPxSize;if(!e){var h=Number.MAX_VALUE,n=-Number.MAX_VALUE,l;this.chart.series.forEach(function(b){b.bubblePadding&&(b.visible||!a.chart.options.chart.ignoreHiddenSeries)&&(b=(b.onPoint||b).getZExtremes())&&(h=Math.min(w(h,b.zMin),b.zMin),n=Math.max(w(n,b.zMax),b.zMax),l=!0)});l?(e={zMin:h,zMax:n},this.chart.bubbleZExtremes=
e):e={zMin:0,zMax:0}}var m=0;for(f=b.length;m<f;m++){var p=b[m];c.push(this.getRadius(e.zMin,e.zMax,g,k,p,d&&d[m]))}this.radii=c};n.prototype.getRadius=function(a,b,d,c,e,f){var g=this.options,k="width"!==g.sizeBy,h=g.zThreshold,n=b-a,l=.5;if(null===f||null===e)return null;if(t(e)){g.sizeByAbsoluteValue&&(e=Math.abs(e-h),n=Math.max(b-h,Math.abs(a-h)),a=0);if(e<a)return d/2-1;0<n&&(l=(e-a)/n)}k&&0<=l&&(l=Math.sqrt(l));return Math.ceil(d+l*(c-d))/2};n.prototype.hasData=function(){return!!this.processedXData.length};
n.prototype.pointAttribs=function(a,b){var d=this.options.marker.fillOpacity;a=k.prototype.pointAttribs.call(this,a,b);1!==d&&(a.fill=u(a.fill).setOpacity(d).get("rgba"));return a};n.prototype.translate=function(){g.prototype.translate.call(this);this.getRadii();this.translateBubble()};n.prototype.translateBubble=function(){for(var a=this.data,b=this.options,d=this.radii,c=this.getPxExtremes().minPxSize,e=a.length;e--;){var f=a[e],g=d?d[e]:0;"z"===this.zoneAxis&&(f.negative=(f.z||0)<(b.zThreshold||
0));t(g)&&g>=c/2?(f.marker=h(f.marker,{radius:g,width:2*g,height:2*g}),f.dlBox={x:f.plotX-g,y:f.plotY-g,width:2*g,height:2*g}):(f.shapeArgs=f.plotY=f.dlBox=void 0,f.isInside=!1)}};n.prototype.getPxExtremes=function(){function a(a){if("string"===typeof a){var d=/%$/.test(a);a=parseInt(a,10)}return d?b*a/100:a}var b=Math.min(this.chart.plotWidth,this.chart.plotHeight),d=a(w(this.options.minSize,8)),c=Math.max(a(w(this.options.maxSize,"20%")),d);return{minPxSize:d,maxPxSize:c}};n.prototype.getZExtremes=
function(){var a=this.options,b=(this.zData||[]).filter(t);if(b.length){var c=w(a.zMin,q(d(b),!1===a.displayNegative?a.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));a=w(a.zMax,e(b));if(t(c)&&t(a))return{zMin:c,zMax:a}}};n.defaultOptions=y(a.defaultOptions,{dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.z;return t(b)?a(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},
symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});return n}(a);h(B.prototype,{alignDataLabel:l.alignDataLabel,applyZones:p,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:g,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"});r(B,"updatedData",function(a){delete a.target.chart.bubbleZExtremes});
r(B,"remove",function(a){delete a.target.chart.bubbleZExtremes});m.registerSeriesType("bubble",B);"";"";return B});y(c,"Series/MapBubble/MapBubblePoint.js",[c["Series/Bubble/BubblePoint.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,g,p){var l=this&&this.__extends||function(){function c(f,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(b[f]=c[f])};return c(f,
b)}return function(f,b){function g(){this.constructor=f}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");c(f,b);f.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g)}}();g=g.seriesTypes.map.prototype.pointClass.prototype;p=p.extend;c=function(c){function f(){return null!==c&&c.apply(this,arguments)||this}l(f,c);f.prototype.isValid=function(){return"number"===typeof this.z};return f}(c);p(c.prototype,{applyOptions:g.applyOptions,
getProjectedBounds:g.getProjectedBounds});return c});y(c,"Series/MapBubble/MapBubbleSeries.js",[c["Series/Bubble/BubbleSeries.js"],c["Series/MapBubble/MapBubblePoint.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,g,p,l){var m=this&&this.__extends||function(){function b(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])};return b(c,a)}return function(c,
a){function e(){this.constructor=c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),f=p.seriesTypes,b=f.map.prototype,x=f.mappoint.prototype;f=l.extend;var u=l.merge;l=function(f){function g(){var a=null!==f&&f.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;a.clearBounds=b.clearBounds;return a}m(g,f);g.prototype.searchPoint=
function(a,b){return this.searchKDTree({clientX:a.chartX-this.chart.plotLeft,plotY:a.chartY-this.chart.plotTop},b,a)};g.prototype.translate=function(){x.translate.call(this);this.getRadii();this.translateBubble()};g.prototype.updateParallelArrays=function(a,b,d){f.prototype.updateParallelArrays.call(this,a,b,d);a=this.processedXData;b=this.xData;a&&b&&(a.length=b.length)};g.defaultOptions=u(c.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}});
return g}(c);f(l.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:b.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:g,processData:b.processData,projectPoint:x.projectPoint,setData:b.setData,setOptions:b.setOptions,updateData:b.updateData,useMapGeometry:!0,xyFromShape:!0});p.registerSeriesType("mapbubble",l);"";return l});y(c,"Series/Heatmap/HeatmapPoint.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,g){var p=this&&this.__extends||
function(){function b(c,f){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c])};return b(c,f)}return function(c,f){function g(){this.constructor=c}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");b(c,f);c.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}(),l=g.clamp,m=g.defined,f=g.extend,
b=g.pick;c=function(c){function f(){var b=null!==c&&c.apply(this,arguments)||this;b.options=void 0;b.series=void 0;b.value=void 0;b.x=void 0;b.y=void 0;return b}p(f,c);f.prototype.applyOptions=function(b,f){(this.isNull||null===this.value)&&delete this.color;c.prototype.applyOptions.call(this,b,f);this.formatPrefix=this.isNull||null===this.value?"null":"point";return this};f.prototype.getCellAttributes=function(){var c=this.series,f=c.options,a=(f.colsize||1)/2,e=(f.rowsize||1)/2,d=c.xAxis,g=c.yAxis,
h=this.options.marker||c.options.marker;c=c.pointPlacementToXValue();var p=b(this.pointPadding,f.pointPadding,0),u={x1:l(Math.round(d.len-d.translate(this.x-a,!1,!0,!1,!0,-c)),-d.len,2*d.len),x2:l(Math.round(d.len-d.translate(this.x+a,!1,!0,!1,!0,-c)),-d.len,2*d.len),y1:l(Math.round(g.translate(this.y-e,!1,!0,!1,!0)),-g.len,2*g.len),y2:l(Math.round(g.translate(this.y+e,!1,!0,!1,!0)),-g.len,2*g.len)};[["width","x"],["height","y"]].forEach(function(a){var b=a[0];a=a[1];var c=a+"1",e=a+"2",f=Math.abs(u[c]-
u[e]),k=h&&h.lineWidth||0,l=Math.abs(u[c]+u[e])/2;b=h&&h[b];m(b)&&b<f&&(b=b/2+k/2,u[c]=l-b,u[e]=l+b);if(p){if("x"===a&&d.reversed||"y"===a&&!g.reversed)c=e,e=a+"1";u[c]+=p;u[e]-=p}});return u};f.prototype.haloPath=function(b){if(!b)return[];var c=this.shapeArgs||{},a=c.x;a=void 0===a?0:a;var e=c.y;e=void 0===e?0:e;var d=c.width;d=void 0===d?0:d;c=c.height;c=void 0===c?0:c;return[["M",a-b,e-b],["L",a-b,e+c+b],["L",a+d+b,e+c+b],["L",a+d+b,e-b],["Z"]]};f.prototype.isValid=function(){return Infinity!==
this.value&&-Infinity!==this.value};return f}(c.seriesTypes.scatter.prototype.pointClass);f(c.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1});return c});y(c,"Series/InterpolationUtilities.js",[c["Core/Globals.js"],c["Core/Utilities.js"]],function(c,g){var p=c.doc,l=g.defined,m=g.pick;return{colorFromPoint:function(c,b){var f=b.series.colorAxis;return f?(f=f.toColor(c||0,b).split(")")[0].split("(")[1].split(",").map(function(b){return m(parseFloat(b),parseInt(b,10))}),f[3]=255*m(f[3],
1),l(c)&&b.visible||(f[3]=0),f):[0,0,0,0]},getContext:function(c){var b=c.canvas,f=c.context;if(b&&f)f.clearRect(0,0,b.width,b.height);else return c.canvas=p.createElement("canvas"),c.context=c.canvas.getContext("2d",{willReadFrequently:!0})||void 0,c.context;return f}}});y(c,"Series/Heatmap/HeatmapSeries.js",[c["Core/Color/Color.js"],c["Series/ColorMapComposition.js"],c["Core/Globals.js"],c["Series/Heatmap/HeatmapPoint.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Renderer/SVG/SVGRenderer.js"],
c["Core/Utilities.js"],c["Series/InterpolationUtilities.js"]],function(c,g,p,l,m,f,b,x){var u=this&&this.__extends||function(){function a(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return a(b,c)}return function(b,c){function d(){this.constructor=b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");
a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),k=this&&this.__assign||function(){k=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return k.apply(this,arguments)},r=m.series,a=m.seriesTypes;p=a.column;var e=a.scatter,d=f.prototype.symbols;f=b.addEvent;a=b.extend;var q=b.fireEvent,h=b.isNumber,t=b.merge,y=b.pick,w=x.colorFromPoint,G=x.getContext;b=function(a){function b(){var b=
null!==a&&a.apply(this,arguments)||this;b.canvas=void 0;b.colorAxis=void 0;b.context=void 0;b.data=void 0;b.options=void 0;b.points=void 0;b.valueMax=NaN;b.valueMin=NaN;b.isDirtyCanvas=!0;return b}u(b,a);b.prototype.drawPoints=function(){var a=this,b=a.options,c=b.marker||{};if(b.interpolation){b=a.image;c=a.chart;var d=a.xAxis,e=a.yAxis,f=d.reversed,g=void 0===f?!1:f,h=d.len;f=e.reversed;var l=void 0===f?!1:f,m=e.len;f={width:h,height:m};if(!b||a.isDirtyData||a.isDirtyCanvas){h=G(a);m=a.canvas;var p=
a.options,q=p.colsize,t=void 0===q?1:q;p=p.rowsize;var u=void 0===p?1:p;p=a.points;q=a.points.length-1;var x=c.colorAxis&&c.colorAxis[0];if(m&&h&&x){d=d.getExtremes();var y=d.min;d=d.max;x=e.getExtremes();var z=x.min;e=d-y;d=x.max-z;t=Math.round(e/t/8*8);u=Math.round(d/u/8*8);g=[[t,t/e,g,"ceil"],[u,u/d,!l,"floor"]].map(function(a){var b=a[0],c=a[1],d=a[3];return a[2]?function(a){return Math[d](b-c*a)}:function(a){return Math[d](c*a)}});var B=g[0],D=g[1],F=m.width=t+1;g=m.height=u+1;g*=F;l=q/g;q=new Uint8ClampedArray(4*
g);e=function(a,b){return 4*Math.ceil(F*D(b-z)+B(a-y))};a.buildKDTree();for(d=0;d<g;d++)t=p[Math.ceil(l*d)],u=t.x,x=t.y,q.set(w(t.value,t),e(u,x));h.putImageData(new ImageData(q,F),0,0);b?b.attr(k(k({},f),{href:m.toDataURL("image/png",1)})):(a.directTouch=!1,a.image=c.renderer.image(m.toDataURL("image/png",1)).attr(f).add(a.group))}a.isDirtyCanvas=!1}else b.width===h&&b.height===m||b.attr(f)}else if(c.enabled||a._hasPointMarkers)r.prototype.drawPoints.call(a),a.points.forEach(function(b){b.graphic&&
(b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b)),null===b.value&&b.graphic.addClass("highcharts-null-point"))})};b.prototype.getExtremes=function(){var a=r.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;a=a.dataMax;h(b)&&(this.valueMin=b);h(a)&&(this.valueMax=a);return r.prototype.getExtremes.call(this)};b.prototype.getValidPoints=function(a,b){return r.prototype.getValidPoints.call(this,a,b,!0)};b.prototype.hasData=function(){return!!this.processedXData.length};b.prototype.init=
function(){a.prototype.init.apply(this,arguments);var b=this.options;b.pointRange=y(b.pointRange,b.colsize||1);this.yAxis.axisPointRange=b.rowsize||1;d.ellipse=d.circle;b.marker&&h(b.borderRadius)&&(b.marker.r=b.borderRadius)};b.prototype.markerAttribs=function(a,b){var c=a.shapeArgs||{};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b&&"normal"!==b){var d=a.options.marker||{};a=this.options.marker||{};a=a.states&&a.states[b]||{};d=d.states&&d.states[b]||{};b=(d.width||a.width||c.width||0)+(d.widthPlus||
a.widthPlus||0);a=(d.height||a.height||c.height||0)+(d.heightPlus||a.heightPlus||0);return{x:(c.x||0)+((c.width||0)-b)/2,y:(c.y||0)+((c.height||0)-a)/2,width:b,height:a}}return c};b.prototype.pointAttribs=function(a,b){var d=r.prototype.pointAttribs.call(this,a,b),e=this.options||{},f=this.chart.options.plotOptions||{},g=f.series||{},h=f.heatmap||{};f=a&&a.options.borderColor||e.borderColor||h.borderColor||g.borderColor;g=a&&a.options.borderWidth||e.borderWidth||h.borderWidth||g.borderWidth||d["stroke-width"];
d.stroke=a&&a.marker&&a.marker.lineColor||e.marker&&e.marker.lineColor||f||this.color;d["stroke-width"]=g;b&&"normal"!==b&&(a=t(e.states&&e.states[b],e.marker&&e.marker.states&&e.marker.states[b],a&&a.options.states&&a.options.states[b]||{}),d.fill=a.color||c.parse(d.fill).brighten(a.brightness||0).get(),d.stroke=a.lineColor||d.stroke);return d};b.prototype.translate=function(){var a=this.options,b=a.borderRadius,c=(a=a.marker)&&a.symbol||"rect",e=d[c]?c:"rect",f=-1!==["circle","square"].indexOf(e);
this.generatePoints();this.points.forEach(function(a){var g=a.getCellAttributes(),k=Math.min(g.x1,g.x2),l=Math.min(g.y1,g.y2),m=Math.max(Math.abs(g.x2-g.x1),0),n=Math.max(Math.abs(g.y2-g.y1),0);a.hasImage=0===(a.marker&&a.marker.symbol||c||"").indexOf("url");f&&(l=Math.abs(m-n),k=Math.min(g.x1,g.x2)+(m<n?0:l/2),l=Math.min(g.y1,g.y2)+(m<n?l/2:0),m=n=Math.min(m,n));a.hasImage&&(a.marker={width:m,height:n});a.plotX=a.clientX=(g.x1+g.x2)/2;a.plotY=(g.y1+g.y2)/2;a.shapeType="path";a.shapeArgs=t(!0,{x:k,
y:l,width:m,height:n},{d:d[e](k,l,m,n,{r:h(b)?b:0})})});q(this,"afterTranslate")};b.defaultOptions=t(e.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,interpolation:!1,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return h(b)?a(b,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},
states:{hover:{halo:!1,brightness:.2}},legendSymbol:"rectangle"});return b}(e);f(b,"afterDataClassLegendClick",function(){this.isDirtyCanvas=!0;this.drawPoints()});a(b.prototype,{axisTypes:g.seriesMembers.axisTypes,colorKey:g.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:g.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:l,specialGroup:"group",trackerGroups:g.seriesMembers.trackerGroups,alignDataLabel:p.prototype.alignDataLabel,colorAttribs:g.seriesMembers.colorAttribs,
getSymbol:r.prototype.getSymbol});g.compose(b);m.registerSeriesType("heatmap",b);"";"";return b});y(c,"masters/modules/map.src.js",[c["Core/Globals.js"],c["Core/Axis/Color/ColorAxis.js"],c["Series/MapBubble/MapBubbleSeries.js"],c["Core/Chart/MapChart.js"],c["Maps/MapView.js"],c["Maps/Projection.js"]],function(c,g,p,l,m,f){c.ColorAxis=g;c.MapChart=l;c.mapChart=c.Map=l.mapChart;c.MapView=m;c.maps=l.maps;c.Projection=f;g.compose(c.Chart,c.Fx,c.Legend,c.Series);p.compose(c.Axis,c.Chart,c.Legend,c.Series)})});
//# sourceMappingURL=map.js.map