/*
 Highcharts JS v11.1.0 (2023-09-05)

 Highcharts funnel module

 (c) 2010-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/funnel",["highcharts"],function(t){a(t);a.Highcharts=t;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function t(a,m,R,w){a.hasOwnProperty(m)||(a[m]=w.apply(null,R),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:m,module:a[m]}})))}a=a?a._modules:
{};t(a,"Series/Funnel/FunnelSeries.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Extensions/BorderRadius.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,R,w,g){var D=this&&this.__extends||function(){function a(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var k in a)Object.prototype.hasOwnProperty.call(a,k)&&(d[k]=a[k])};return a(b,d)}return function(b,d){function K(){this.constructor=b}if("function"!==
typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");a(b,d);b.prototype=null===d?Object.create(d):(K.prototype=d.prototype,new K)}}(),A=m.noop,f=w.series,I=w.seriesTypes.pie;m=g.addEvent;var N=g.extend,t=g.fireEvent,J=g.isArray,S=g.merge,V=g.pick,W=g.relativeLength,X=g.splat;g=function(a){function b(){var d=null!==a&&a.apply(this,arguments)||this;d.data=void 0;d.options=void 0;d.points=void 0;return d}D(b,a);b.prototype.alignDataLabel=function(d,
a,b,k,g){var q=d.series;k=q.options.reversed;var r=d.dlBox||d.shapeArgs,K=b.align,A=b.verticalAlign,m=((q.options||{}).dataLabels||{}).inside,H=q.center[1];q=q.getWidthAt((k?2*H-d.plotY:d.plotY)-r.height/2+a.height);q="middle"===A?(r.topWidth-r.bottomWidth)/4:(q-r.bottomWidth)/2;H=r.y;var D=r.x,u=V(a.height,a.getBBox().height);"middle"===A?H=r.y-r.height/2+u/2:"top"===A&&(H=r.y-r.height+u+b.padding);if("top"===A&&!k||"bottom"===A&&k||"middle"===A)"right"===K?D=r.x-b.padding+q:"left"===K&&(D=r.x+b.padding-
q);k={x:D,y:k?H-r.height:H,width:r.bottomWidth,height:r.height};b.verticalAlign="bottom";m&&!d.visible||f.prototype.alignDataLabel.call(this,d,a,b,k,g);m&&(!d.visible&&d.dataLabel&&(d.dataLabel.placed=!1),d.contrastColor&&a.css({color:d.contrastColor}))};b.prototype.drawDataLabels=function(){w.seriesTypes[X(this.options.dataLabels)[0].inside?"column":"pie"].prototype.drawDataLabels.call(this)};b.prototype.getDataLabelPosition=function(a,b){var d=a.plotY||0,k=this.getX(d,!!a.half,a);return{distance:b,
natural:{x:0,y:d},computed:{},alignment:a.half?"right":"left",connectorPosition:{breakAt:{x:k-5*(a.half?1:-1),y:d},touchingSliceAt:{x:k,y:d}}}};b.prototype.translate=function(){function a(a){var c=Math.tan(a/2),d=Math.cos(F),b=Math.sin(F),e=U,x=e/c;a=Math.tan((Math.PI-a)/3.2104);x>G&&(x=G,e=x*c);a*=e;return{dx:[x*d,(x-a)*d,x-a,x],dy:[x*b,(x-a)*b,x-a,x].map(function(a){return r?-a:a})}}function b(a,c){return/%$/.test(a)?c*parseInt(a,10)/100:parseInt(a,10)}var g=0,k=this,f=k.chart,q=k.options,r=q.reversed,
m=q.ignoreHiddenPoint,D=R.optionsToObject(q.borderRadius),I=f.plotWidth;f=f.plotHeight;var w=0,N=q.center,u=b(N[0],I),E=b(N[1],f),T=b(q.width,I),B,C=b(q.height,f),L=b(q.neckWidth,I),J=b(q.neckHeight,f),M=E-C/2+C-J,O=k.data,v,P,U=W(D.radius,T),Q=D.scope,F,G,S="left"===q.dataLabels.position?1:0,y,n,z,h,e,p,l;k.getWidthAt=function(a){var c=E-C/2;return a>M||C===J?L:L+(T-L)*(1-(a-c)/(C-J))};k.getX=function(a,c,d){var b,e;return u+(c?-1:1)*(k.getWidthAt(r?2*E-a:a)/2+((null===(e=null===(b=d.dataLabel)||
void 0===b?void 0:b.dataLabelPosition)||void 0===e?void 0:e.distance)||0))};k.center=[u,E,C];k.centerX=u;O.forEach(function(a){!a.y||!a.isValid()||m&&!1===a.visible||(g+=a.y)});O.forEach(function(b){l=null;P=g?b.y/g:0;n=E-C/2+w*C;e=n+P*C;B=k.getWidthAt(n);y=u-B/2;z=y+B;B=k.getWidthAt(e);h=u-B/2;p=h+B;n>M?(y=h=u-L/2,z=p=u+L/2):e>M&&(l=e,B=k.getWidthAt(M),h=u-B/2,p=h+B,e=M);r&&(n=2*E-n,e=2*E-e,null!==l&&(l=2*E-l));if(!U||"point"!==Q&&0!==b.index&&b.index!==O.length-1&&null===l)v=[["M",y,n],["L",z,n],
["L",p,e]],null!==l&&v.push(["L",p,l],["L",h,l]),v.push(["L",h,e]);else{var c=Math.abs(e-n),d=z-p,f=p-h,q=Math.sqrt(d*d+c*c);F=Math.atan(c/d);G=q/2;null!==l&&(G=Math.min(G,Math.abs(l-e)/2));1<=f&&(G=Math.min(G,f/2));c=a(F);v="stack"===Q&&0!==b.index?[["M",y,n],["L",z,n]]:[["M",y+c.dx[0],n+c.dy[0]],["C",y+c.dx[1],n+c.dy[1],y+c.dx[2],n,y+c.dx[3],n],["L",z-c.dx[3],n],["C",z-c.dx[2],n,z-c.dx[1],n+c.dy[1],z-c.dx[0],n+c.dy[0]]];null!==l?(f=a(Math.PI/2),c=a(Math.PI/2+F),v.push(["L",p+c.dx[0],e-c.dy[0]],
["C",p+c.dx[1],e-c.dy[1],p,e+c.dy[2],p,e+c.dy[3]]),"stack"===Q&&b.index!==O.length-1?v.push(["L",p,l],["L",h,l]):v.push(["L",p,l-f.dy[3]],["C",p,l-f.dy[2],p-f.dx[2],l,p-f.dx[3],l],["L",h+f.dx[3],l],["C",h+f.dx[2],l,h,l-f.dy[2],h,l-f.dy[3]]),v.push(["L",h,e+c.dy[3]],["C",h,e+c.dy[2],h-c.dx[1],e-c.dy[1],h-c.dx[0],e-c.dy[0]])):1<=f?(c=a(Math.PI-F),"stack"===Q&&0===b.index?v.push(["L",p,e],["L",h,e]):v.push(["L",p+c.dx[0],e-c.dy[0]],["C",p+c.dx[1],e-c.dy[1],p-c.dx[2],e,p-c.dx[3],e],["L",h+c.dx[3],e],
["C",h+c.dx[2],e,h-c.dx[1],e-c.dy[1],h-c.dx[0],e-c.dy[0]])):(c=a(Math.PI-2*F),v.push(["L",h+c.dx[0],e-c.dy[0]],["C",h+c.dx[1],e-c.dy[1],h-c.dx[1],e-c.dy[1],h-c.dx[0],e-c.dy[0]]))}v.push(["Z"]);b.shapeType="path";b.shapeArgs={d:v};b.percentage=100*P;b.plotX=u;b.plotY=(n+(l||e))/2;b.tooltipPos=[u,b.plotY];b.dlBox={x:h,y:n,topWidth:z-y,bottomWidth:p-h,height:Math.abs(V(l,e)-n),width:NaN};b.slice=A;b.half=S;!b.isValid()||m&&!1===b.visible||(w+=P)});t(k,"afterTranslate")};b.prototype.sortByAngle=function(a){a.sort(function(a,
b){return a.plotY-b.plotY})};b.defaultOptions=S(I.defaultOptions,{animation:!1,borderRadius:0,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1,verticalAlign:"middle"},states:{select:{color:"#cccccc",borderColor:"#000000"}}});return b}(I);N(g.prototype,{animate:A});m(a,"afterHideAllOverlappingLabels",function(){this.series.forEach(function(a){var b=a.options&&a.options.dataLabels;J(b)&&(b=b[0]);a.is("pie")&&a.placeDataLabels&&
b&&!b.inside&&a.placeDataLabels()})});w.registerSeriesType("funnel",g);"";return g});t(a,"Series/Pyramid/PyramidSeries.js",[a["Series/Funnel/FunnelSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,t){var w=this&&this.__extends||function(){function a(g,f){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(a[g]=f[g])};return a(g,f)}return function(g,f){function m(){this.constructor=
g}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");a(g,f);g.prototype=null===f?Object.create(f):(m.prototype=f.prototype,new m)}}(),g=t.merge;t=function(m){function t(){var a=null!==m&&m.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}w(t,m);t.defaultOptions=g(a.defaultOptions,{neckWidth:"0%",neckHeight:"0%",reversed:!0});return t}(a);m.registerSeriesType("pyramid",t);"";return t});t(a,"masters/modules/funnel.src.js",
[],function(){})});
//# sourceMappingURL=funnel.js.map