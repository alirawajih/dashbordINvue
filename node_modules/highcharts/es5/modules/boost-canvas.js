/*
 Highcharts JS v11.1.0 (2023-09-05)

 Boost module

 (c) 2010-2021 Highsoft AS
 Author: Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/boost-canvas",["highcharts"],function(z){a(z);a.Highcharts=z;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function z(a,h,c,l){a.hasOwnProperty(h)||(a[h]=l.apply(null,c),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:h,module:a[h]}})))}a=a?
a._modules:{};z(a,"Extensions/Boost/Boostables.js",[],function(){return"area areaspline arearange column columnrange bar line scatter heatmap bubble treemap".split(" ")});z(a,"Extensions/Boost/BoostableMap.js",[a["Extensions/Boost/Boostables.js"]],function(a){var h={};a.forEach(function(a){h[a]=!0});return h});z(a,"Extensions/Boost/BoostChart.js",[a["Extensions/Boost/BoostableMap.js"],a["Core/Utilities.js"]],function(a,h){function c(d){var b=d.series,h=d.boost=d.boost||{},B=d.options.boost||{},c=
w(B.seriesThreshold,50);if(b.length>=c)return!0;if(1===b.length)return!1;B=B.allowForce;if("undefined"===typeof B)for(B=!0,c=0,d=d.xAxis;c<d.length;c++){var r=d[c];if(w(r.min,-Infinity)>w(r.dataMin,-Infinity)||w(r.max,Infinity)<w(r.dataMax,Infinity)){B=!1;break}}if("undefined"!==typeof h.forceChartBoost){if(B)return h.forceChartBoost;h.forceChartBoost=void 0}for(var l=c=d=0;l<b.length;l++){var G=b[l];r=G.options;0!==r.boostThreshold&&!1!==G.visible&&"heatmap"!==G.type&&(a[G.type]&&++d,q(G.processedXData,
r.data,G.points)>=(r.boostThreshold||Number.MAX_VALUE)&&++c)}h.forceChartBoost=B&&(d===b.length&&c===d||5<c);return h.forceChartBoost}function l(d){b(d,"predraw",function(){d.boost=d.boost||{};d.boost.forceChartBoost=void 0;d.boosted=!1;d.boost.clear&&d.boost.clear();d.boost.canvas&&d.boost.wgl&&c(d)&&d.boost.wgl.allocateBuffer(d);d.boost.markerGroup&&d.xAxis&&0<d.xAxis.length&&d.yAxis&&0<d.yAxis.length&&d.boost.markerGroup.translate(d.xAxis[0].pos,d.yAxis[0].pos)});b(d,"render",function(){d.boost&&
d.boost.wgl&&c(d)&&d.boost.wgl.render(d)});var a=-1,h=-1;b(d.pointer,"afterGetHoverData",function(){var b=d.hoverSeries;d.boost=d.boost||{};if(d.boost.markerGroup&&b){var q=d.inverted?b.yAxis:b.xAxis;b=d.inverted?b.xAxis:b.yAxis;if(q&&q.pos!==a||b&&b.pos!==h)d.boost.markerGroup.translate(q.pos,b.pos),a=q.pos,h=b.pos}})}function q(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];var q=-Number.MAX_VALUE;b.forEach(function(b){if("undefined"!==typeof b&&null!==b&&"undefined"!==typeof b.length&&
0<b.length)return q=b.length,!0});return q}var b=h.addEvent,w=h.pick,r=[];return{compose:function(b,a){a&&h.pushUnique(r,b)&&b.prototype.callbacks.push(l);return b},getBoostClipRect:function(b,a){var d={x:b.plotLeft,y:b.plotTop,width:b.plotWidth,height:b.plotHeight};a===b&&(a=b.inverted?b.xAxis:b.yAxis,1>=a.length?(d.y=Math.min(a[0].pos,d.y),d.height=a[0].pos-b.plotTop+a[0].len):d.height=b.plotHeight);return d},isChartSeriesBoosting:c}});z(a,"Extensions/Boost/WGLDrawMode.js",[],function(){return{area:"LINES",
arearange:"LINES",areaspline:"LINES",column:"LINES",columnrange:"LINES",bar:"LINES",line:"LINE_STRIP",scatter:"POINTS",heatmap:"TRIANGLES",treemap:"TRIANGLES",bubble:"POINTS"}});z(a,"Extensions/Boost/WGLShader.js",[a["Core/Utilities.js"]],function(a){var h=a.clamp,c=a.error,l=a.pick;return function(){function a(b){this.errors=[];this.uLocations={};(this.gl=b)&&this.createShader()}a.prototype.bind=function(){this.gl&&this.shaderProgram&&this.gl.useProgram(this.shaderProgram)};a.prototype.createShader=
function(){function b(b){return a.gl.getUniformLocation(a.shaderProgram,b)}var a=this,h=this.stringToProgram("#version 100\n#define LN10 2.302585092994046\nprecision highp float;\nattribute vec4 aVertexPosition;\nattribute vec4 aColor;\nvarying highp vec2 position;\nvarying highp vec4 vColor;\nuniform mat4 uPMatrix;\nuniform float pSize;\nuniform float translatedThreshold;\nuniform bool hasThreshold;\nuniform bool skipTranslation;\nuniform float xAxisTrans;\nuniform float xAxisMin;\nuniform float xAxisMinPad;\nuniform float xAxisPointRange;\nuniform float xAxisLen;\nuniform bool  xAxisPostTranslate;\nuniform float xAxisOrdinalSlope;\nuniform float xAxisOrdinalOffset;\nuniform float xAxisPos;\nuniform bool  xAxisCVSCoord;\nuniform bool  xAxisIsLog;\nuniform bool  xAxisReversed;\nuniform float yAxisTrans;\nuniform float yAxisMin;\nuniform float yAxisMinPad;\nuniform float yAxisPointRange;\nuniform float yAxisLen;\nuniform bool  yAxisPostTranslate;\nuniform float yAxisOrdinalSlope;\nuniform float yAxisOrdinalOffset;\nuniform float yAxisPos;\nuniform bool  yAxisCVSCoord;\nuniform bool  yAxisIsLog;\nuniform bool  yAxisReversed;\nuniform bool  isBubble;\nuniform bool  bubbleSizeByArea;\nuniform float bubbleZMin;\nuniform float bubbleZMax;\nuniform float bubbleZThreshold;\nuniform float bubbleMinSize;\nuniform float bubbleMaxSize;\nuniform bool  bubbleSizeAbs;\nuniform bool  isInverted;\nfloat bubbleRadius(){\nfloat value = aVertexPosition.w;\nfloat zMax = bubbleZMax;\nfloat zMin = bubbleZMin;\nfloat radius = 0.0;\nfloat pos = 0.0;\nfloat zRange = zMax - zMin;\nif (bubbleSizeAbs){\nvalue = value - bubbleZThreshold;\nzMax = max(zMax - bubbleZThreshold, zMin - bubbleZThreshold);\nzMin = 0.0;\n}\nif (value < zMin){\nradius = bubbleZMin / 2.0 - 1.0;\n} else {\npos = zRange > 0.0 ? (value - zMin) / zRange : 0.5;\nif (bubbleSizeByArea && pos > 0.0){\npos = sqrt(pos);\n}\nradius = ceil(bubbleMinSize + pos * (bubbleMaxSize - bubbleMinSize)) / 2.0;\n}\nreturn radius * 2.0;\n}\nfloat translate(float val,\nfloat pointPlacement,\nfloat localA,\nfloat localMin,\nfloat minPixelPadding,\nfloat pointRange,\nfloat len,\nbool  cvsCoord,\nbool  isLog,\nbool  reversed\n){\nfloat sign = 1.0;\nfloat cvsOffset = 0.0;\nif (cvsCoord) {\nsign *= -1.0;\ncvsOffset = len;\n}\nif (isLog) {\nval = log(val) / LN10;\n}\nif (reversed) {\nsign *= -1.0;\ncvsOffset -= sign * len;\n}\nreturn sign * (val - localMin) * localA + cvsOffset + \n(sign * minPixelPadding);\n}\nfloat xToPixels(float value) {\nif (skipTranslation){\nreturn value;// + xAxisPos;\n}\nreturn translate(value, 0.0, xAxisTrans, xAxisMin, xAxisMinPad, xAxisPointRange, xAxisLen, xAxisCVSCoord, xAxisIsLog, xAxisReversed);// + xAxisPos;\n}\nfloat yToPixels(float value, float checkTreshold) {\nfloat v;\nif (skipTranslation){\nv = value;// + yAxisPos;\n} else {\nv = translate(value, 0.0, yAxisTrans, yAxisMin, yAxisMinPad, yAxisPointRange, yAxisLen, yAxisCVSCoord, yAxisIsLog, yAxisReversed);// + yAxisPos;\nif (v > yAxisLen) {\nv = yAxisLen;\n}\n}\nif (checkTreshold > 0.0 && hasThreshold) {\nv = min(v, translatedThreshold);\n}\nreturn v;\n}\nvoid main(void) {\nif (isBubble){\ngl_PointSize = bubbleRadius();\n} else {\ngl_PointSize = pSize;\n}\nvColor = aColor;\nif (skipTranslation && isInverted) {\ngl_Position = uPMatrix * vec4(aVertexPosition.y + yAxisPos, aVertexPosition.x + xAxisPos, 0.0, 1.0);\n} else if (isInverted) {\ngl_Position = uPMatrix * vec4(yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, xToPixels(aVertexPosition.x) + xAxisPos, 0.0, 1.0);\n} else {\ngl_Position = uPMatrix * vec4(xToPixels(aVertexPosition.x) + xAxisPos, yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, 0.0, 1.0);\n}\n}",
"vertex"),d=this.stringToProgram("precision highp float;\nuniform vec4 fillColor;\nvarying highp vec2 position;\nvarying highp vec4 vColor;\nuniform sampler2D uSampler;\nuniform bool isCircle;\nuniform bool hasColor;\nvoid main(void) {\nvec4 col = fillColor;\nvec4 tcol = texture2D(uSampler, gl_PointCoord.st);\nif (hasColor) {\ncol = vColor;\n}\nif (isCircle) {\ncol *= tcol;\nif (tcol.r < 0.0) {\ndiscard;\n} else {\ngl_FragColor = col;\n}\n} else {\ngl_FragColor = col;\n}\n}","fragment");if(!h||!d)return this.shaderProgram=
!1,this.handleErrors(),!1;this.shaderProgram=this.gl.createProgram();this.gl.attachShader(this.shaderProgram,h);this.gl.attachShader(this.shaderProgram,d);this.gl.linkProgram(this.shaderProgram);if(!this.gl.getProgramParameter(this.shaderProgram,this.gl.LINK_STATUS))return this.errors.push(this.gl.getProgramInfoLog(this.shaderProgram)),this.handleErrors(),this.shaderProgram=!1;this.gl.useProgram(this.shaderProgram);this.gl.bindAttribLocation(this.shaderProgram,0,"aVertexPosition");this.pUniform=b("uPMatrix");
this.psUniform=b("pSize");this.fcUniform=b("fillColor");this.isBubbleUniform=b("isBubble");this.bubbleSizeAbsUniform=b("bubbleSizeAbs");this.bubbleSizeAreaUniform=b("bubbleSizeByArea");this.uSamplerUniform=b("uSampler");this.skipTranslationUniform=b("skipTranslation");this.isCircleUniform=b("isCircle");this.isInverted=b("isInverted");return!0};a.prototype.handleErrors=function(){this.errors.length&&c("[highcharts boost] shader error - "+this.errors.join("\n"))};a.prototype.stringToProgram=function(b,
a){var h=this.gl.createShader("vertex"===a?this.gl.VERTEX_SHADER:this.gl.FRAGMENT_SHADER);this.gl.shaderSource(h,b);this.gl.compileShader(h);return this.gl.getShaderParameter(h,this.gl.COMPILE_STATUS)?h:(this.errors.push("when compiling "+a+" shader:\n"+this.gl.getShaderInfoLog(h)),!1)};a.prototype.destroy=function(){this.gl&&this.shaderProgram&&(this.gl.deleteProgram(this.shaderProgram),this.shaderProgram=!1)};a.prototype.fillColorUniform=function(){return this.fcUniform};a.prototype.getProgram=
function(){return this.shaderProgram};a.prototype.pointSizeUniform=function(){return this.psUniform};a.prototype.perspectiveUniform=function(){return this.pUniform};a.prototype.reset=function(){this.gl&&this.shaderProgram&&(this.gl.uniform1i(this.isBubbleUniform,0),this.gl.uniform1i(this.isCircleUniform,0))};a.prototype.setBubbleUniforms=function(b,a,c,d){void 0===d&&(d=1);var q=b.options,r=Number.MAX_VALUE,G=-Number.MAX_VALUE;if(this.gl&&this.shaderProgram&&b.is("bubble")){var w=b.getPxExtremes();
r=l(q.zMin,h(a,!1===q.displayNegative?q.zThreshold:-Number.MAX_VALUE,r));G=l(q.zMax,Math.max(G,c));this.gl.uniform1i(this.isBubbleUniform,1);this.gl.uniform1i(this.isCircleUniform,1);this.gl.uniform1i(this.bubbleSizeAreaUniform,"width"!==b.options.sizeBy);this.gl.uniform1i(this.bubbleSizeAbsUniform,b.options.sizeByAbsoluteValue);this.setUniform("bubbleMinSize",w.minPxSize*d);this.setUniform("bubbleMaxSize",w.maxPxSize*d);this.setUniform("bubbleZMin",r);this.setUniform("bubbleZMax",G);this.setUniform("bubbleZThreshold",
b.options.zThreshold)}};a.prototype.setColor=function(b){this.gl&&this.shaderProgram&&this.gl.uniform4f(this.fcUniform,b[0]/255,b[1]/255,b[2]/255,b[3])};a.prototype.setDrawAsCircle=function(b){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.isCircleUniform,b?1:0)};a.prototype.setInverted=function(b){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.isInverted,b)};a.prototype.setPMatrix=function(b){this.gl&&this.shaderProgram&&this.gl.uniformMatrix4fv(this.pUniform,!1,b)};a.prototype.setPointSize=
function(b){this.gl&&this.shaderProgram&&this.gl.uniform1f(this.psUniform,b)};a.prototype.setSkipTranslation=function(b){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.skipTranslationUniform,!0===b?1:0)};a.prototype.setTexture=function(b){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.uSamplerUniform,b)};a.prototype.setUniform=function(b,a){this.gl&&this.shaderProgram&&(b=this.uLocations[b]=this.uLocations[b]||this.gl.getUniformLocation(this.shaderProgram,b),this.gl.uniform1f(b,a))};return a}()});
z(a,"Extensions/Boost/WGLVertexBuffer.js",[],function(){return function(){function a(a,c,l){this.buffer=!1;this.iterator=0;this.vertAttribute=this.preAllocated=!1;this.components=l||2;this.dataComponents=l;this.gl=a;this.shader=c}a.prototype.allocate=function(a){this.iterator=-1;this.preAllocated=new Float32Array(4*a)};a.prototype.bind=function(){if(!this.buffer)return!1;this.gl.vertexAttribPointer(this.vertAttribute,this.components,this.gl.FLOAT,!1,0,0)};a.prototype.build=function(a,c,l){var h;this.data=
a||[];if(!(this.data&&0!==this.data.length||this.preAllocated))return this.destroy(),!1;this.components=l||this.components;this.buffer&&this.gl.deleteBuffer(this.buffer);this.preAllocated||(h=new Float32Array(this.data));this.buffer=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer);this.gl.bufferData(this.gl.ARRAY_BUFFER,this.preAllocated||h,this.gl.STATIC_DRAW);this.vertAttribute=this.gl.getAttribLocation(this.shader.getProgram(),c);this.gl.enableVertexAttribArray(this.vertAttribute);
return!0};a.prototype.destroy=function(){this.buffer&&(this.gl.deleteBuffer(this.buffer),this.vertAttribute=this.buffer=!1);this.iterator=0;this.components=this.dataComponents||2;this.data=[]};a.prototype.push=function(a,c,l,q){this.preAllocated&&(this.preAllocated[++this.iterator]=a,this.preAllocated[++this.iterator]=c,this.preAllocated[++this.iterator]=l,this.preAllocated[++this.iterator]=q)};a.prototype.render=function(a,c,l){var h=this.preAllocated?this.preAllocated.length:this.data.length;if(!this.buffer||
!h)return!1;if(!a||a>h||0>a)a=0;if(!c||c>h)c=h;if(a>=c)return!1;this.gl.drawArrays(this.gl[l||"POINTS"],a/this.components,(c-a)/this.components);return!0};return a}()});z(a,"Extensions/Boost/WGLRenderer.js",[a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Utilities.js"],a["Extensions/Boost/WGLDrawMode.js"],a["Extensions/Boost/WGLShader.js"],a["Extensions/Boost/WGLVertexBuffer.js"]],function(a,h,c,l,q,b){var w=a.parse,r=h.doc,d=h.win,G=c.isNumber,z=c.isObject,B=c.merge,ca=c.objectEach,R=c.pick,
C={column:!0,columnrange:!0,bar:!0,area:!0,areaspline:!0,arearange:!0},da={scatter:!0,bubble:!0},N=["webgl","experimental-webgl","moz-webgl","webkit-3d"];return function(){function c(a){this.data=[];this.height=0;this.isInited=!1;this.markerData=[];this.series=[];this.textureHandles={};this.width=0;this.postRenderCallback=a;this.settings={pointSize:1,lineWidth:1,fillColor:"#AA00AA",useAlpha:!0,usePreallocated:!1,useGPUTranslations:!1,debug:{timeRendering:!1,timeSeriesProcessing:!1,timeSetup:!1,timeBufferCopy:!1,
timeKDTree:!1,showSkipSummary:!1}}}c.orthoMatrix=function(a,b){return[2/a,0,0,0,0,-(2/b),0,0,0,0,-2,0,-1,1,-1,1]};c.seriesPointCount=function(a){if(a.boosted){var b=!!a.options.stacking;var A=a.xData||a.options.xData||a.processedXData;b=(b?a.data:A||a.options.data).length;"treemap"===a.type?b*=12:"heatmap"===a.type?b*=6:C[a.type]&&(b*=2);return b}return 0};c.prototype.getPixelRatio=function(){return this.settings.pixelRatio||d.devicePixelRatio||1};c.prototype.setOptions=function(a){"pixelRatio"in
a||(a.pixelRatio=1);B(!0,this.settings,a)};c.prototype.allocateBuffer=function(a){var b=this.vbuffer,A=0;this.settings.usePreallocated&&(a.series.forEach(function(a){a.boosted&&(A+=c.seriesPointCount(a))}),b&&b.allocate(A))};c.prototype.allocateBufferForSingleSeries=function(a){var b=this.vbuffer,A=0;this.settings.usePreallocated&&(a.boosted&&(A=c.seriesPointCount(a)),b&&b.allocate(A))};c.prototype.clear=function(){var a=this.gl;a&&a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)};c.prototype.pushSeriesData=
function(a,b){var A=this,d=this.data,c=this.settings,ka=this.vbuffer,f=a.pointArrayMap&&"low,high"===a.pointArrayMap.join(","),t=a.chart,n=a.options,g=!!n.stacking,O=n.data,e=a.xAxis.getExtremes(),S=e.min,h=e.max;e=a.yAxis.getExtremes();var r=e.min,q=e.max,l=a.xData||n.xData||a.processedXData,G=a.yData||n.yData||a.processedYData,u=a.zData||n.zData||a.processedZData,B=a.yAxis,F=a.xAxis,J=!l||0===l.length,N=n.connectNulls;e=a.points||!1;var H=g?a.data:l||O,k={x:Number.MAX_VALUE,y:0},m={x:-Number.MAX_VALUE,
y:0},pa="undefined"===typeof t.index,ya=C[a.type],qa=n.zoneAxis||"y",Y=n.zones||!1,za=n.threshold,fa=this.getPixelRatio(),ra=a.chart.plotWidth,P=!1,ha=!1,X,U,R=0,sa=!1,y,x,K,ta,E=-1,T=!1,V=!1,Q,Z=!1,ia=!1,v=!1,ua=!1,Aa=!0,va=!0,L=!1,M=!1,aa=0;if(!(n.boostData&&0<n.boostData.length)){n.gapSize&&(M="value"!==n.gapUnit?n.gapSize*a.closestPointRange:n.gapSize);if(Y){var ba=[];Y.forEach(function(a,b){if(a.color){var k=w(a.color).rgba;k[0]/=255;k[1]/=255;k[2]/=255;ba[b]=k;L||"undefined"!==typeof a.value||
(L=k)}});L||(l=a.pointAttribs&&a.pointAttribs().fill||a.color,L=w(l).rgba,L[0]/=255,L[1]/=255,L[2]/=255)}t.inverted&&(ra=a.chart.plotHeight);a.closestPointRangePx=Number.MAX_VALUE;var ja=function(a){a&&(b.colorData.push(a[0]),b.colorData.push(a[1]),b.colorData.push(a[2]),b.colorData.push(a[3]))},W=function(a,k,f,m,g){void 0===m&&(m=1);ja(g);1===fa||c.useGPUTranslations&&!b.skipTranslation||(a*=fa,k*=fa,m*=fa);c.usePreallocated&&ka?(ka.push(a,k,f?1:0,m),aa+=4):(d.push(a),d.push(k),d.push(f?fa:0),d.push(m))},
Da=function(){b.segments.length&&(b.segments[b.segments.length-1].to=d.length||aa)},Ba=function(){b.segments.length&&b.segments[b.segments.length-1].from===(d.length||aa)||(Da(),b.segments.push({from:d.length||aa}))},Ea=function(a,b,k,f,m){ja(m);W(a+k,b);ja(m);W(a,b);ja(m);W(a,b+f);ja(m);W(a,b+f);ja(m);W(a+k,b+f);ja(m);W(a+k,b)};Ba();if(e&&0<e.length)b.skipTranslation=!0,b.drawMode="TRIANGLES",e[0].node&&e[0].node.levelDynamic&&e.sort(function(a,b){if(a.node){if(a.node.levelDynamic>b.node.levelDynamic)return 1;
if(a.node.levelDynamic<b.node.levelDynamic)return-1}return 0}),e.forEach(function(b){var k=b.plotY;if("undefined"!==typeof k&&!isNaN(k)&&null!==b.y&&b.shapeArgs){var f=b.shapeArgs;k=f.x;k=void 0===k?0:k;var m=f.y;m=void 0===m?0:m;var g=f.width;g=void 0===g?0:g;f=f.height;f=void 0===f?0:f;var n=t.styledMode?b.series.colorAttribs(b):n=b.series.pointAttribs(b);b=n["stroke-width"]||0;v=w(n.fill).rgba;v[0]/=255;v[1]/=255;v[2]/=255;a.is("treemap")&&(b=b||1,U=w(n.stroke).rgba,U[0]/=255,U[1]/=255,U[2]/=255,
Ea(k,m,g,f,U),b/=2);a.is("heatmap")&&t.inverted&&(k=F.len-k,m=B.len-m,g=-g,f=-f);Ea(k+b,m+b,g-2*b,f-2*b,v)}});else{for(e=function(){K=H[++E];if("undefined"===typeof K)return"continue";if(pa)return"break";var e=O&&O[E];!J&&z(e,!0)&&e.color&&(v=w(e.color).rgba,v[0]/=255,v[1]/=255,v[2]/=255);J?(y=K[0],x=K[1],H[E+1]&&(V=H[E+1][0]),H[E-1]&&(T=H[E-1][0]),3<=K.length&&(ta=K[2],K[2]>b.zMax&&(b.zMax=K[2]),K[2]<b.zMin&&(b.zMin=K[2]))):(y=K,x=G[E],H[E+1]&&(V=H[E+1]),H[E-1]&&(T=H[E-1]),u&&u.length&&(ta=u[E],
u[E]>b.zMax&&(b.zMax=u[E]),u[E]<b.zMin&&(b.zMin=u[E])));if(!N&&(null===y||null===x))return Ba(),"continue";V&&V>=S&&V<=h&&(Z=!0);T&&T>=S&&T<=h&&(ia=!0);f?(J&&(x=K.slice(1,3)),Q=x[0],x=x[1]):g&&(y=K.x,x=K.stackY,Q=x-K.y);null!==r&&"undefined"!==typeof r&&null!==q&&"undefined"!==typeof q&&(Aa=x>=r&&x<=q);y>h&&m.x<h&&(m.x=y,m.y=x);y<S&&k.x>S&&(k.x=y,k.y=x);if(null===x&&N)return"continue";if(null===x||!Aa&&!Z&&!ia)return Ba(),"continue";(V>=S||y>=S)&&(T<=h||y<=h)&&(ua=!0);if(!ua&&!Z&&!ia)return"continue";
M&&y-T>M&&Ba();if(Y){var d;Y.some(function(a,b){var k=Y[b-1];return"x"===qa?"undefined"!==typeof a.value&&y<=a.value?(ba[b]&&(!k||y>=k.value)&&(d=ba[b]),!0):!1:"undefined"!==typeof a.value&&x<=a.value?(ba[b]&&(!k||x>=k.value)&&(d=ba[b]),!0):!1});v=d||L||v}if(!c.useGPUTranslations&&(b.skipTranslation=!0,y=F.toPixels(y,!0),x=B.toPixels(x,!0),y>ra&&"POINTS"===b.drawMode))return"continue";b.hasMarkers&&ua&&!1!==P&&(a.closestPointRangePx=Math.min(a.closestPointRangePx,Math.abs(y-P)));if(!c.useGPUTranslations&&
!c.usePreallocated&&P&&1>Math.abs(y-P)&&ha&&1>Math.abs(x-ha))return c.debug.showSkipSummary&&++R,"continue";if(ya){X=Q;if(!1===Q||"undefined"===typeof Q)X=0>x?x:0;f||g||(X=Math.max(null===za?r:za,r));c.useGPUTranslations||(X=B.toPixels(X,!0));W(y,X,0,0,v)}n.step&&!va&&W(y,ha,0,2,v);W(y,x,0,"bubble"===a.type?ta||1:2,v);P=y;ha=x;sa=!0;va=!1};E<H.length-1&&"break"!==e(););c.debug.showSkipSummary&&console.log("skipped points:",R);e=function(a,k){c.useGPUTranslations||(b.skipTranslation=!0,a.x=F.toPixels(a.x,
!0),a.y=B.toPixels(a.y,!0));k?A.data=[a.x,a.y,0,2].concat(A.data):W(a.x,a.y,0,2)};sa||!1===N||"line_strip"!==a.drawMode||(k.x<Number.MAX_VALUE&&e(k,!0),m.x>-Number.MAX_VALUE&&e(m))}Da()}};c.prototype.pushSeries=function(a){var b=this.markerData,d=this.series,c=this.settings;0<d.length&&d[d.length-1].hasMarkers&&(d[d.length-1].markerTo=b.length);c.debug.timeSeriesProcessing&&console.time("building "+a.type+" series");b={segments:[],markerFrom:b.length,colorData:[],series:a,zMin:Number.MAX_VALUE,zMax:-Number.MAX_VALUE,
hasMarkers:a.options.marker?!1!==a.options.marker.enabled:!1,showMarkers:!0,drawMode:l[a.type]||"LINE_STRIP"};a.index>=d.length?d.push(b):d[a.index]=b;this.pushSeriesData(a,b);c.debug.timeSeriesProcessing&&console.timeEnd("building "+a.type+" series")};c.prototype.flush=function(){var a=this.vbuffer;this.data=[];this.markerData=[];this.series=[];a&&a.destroy()};c.prototype.setXAxis=function(a){var b=this.shader;if(b){var d=this.getPixelRatio();b.setUniform("xAxisTrans",a.transA*d);b.setUniform("xAxisMin",
a.min);b.setUniform("xAxisMinPad",a.minPixelPadding*d);b.setUniform("xAxisPointRange",a.pointRange);b.setUniform("xAxisLen",a.len*d);b.setUniform("xAxisPos",a.pos*d);b.setUniform("xAxisCVSCoord",!a.horiz);b.setUniform("xAxisIsLog",!!a.logarithmic);b.setUniform("xAxisReversed",!!a.reversed)}};c.prototype.setYAxis=function(a){var b=this.shader;if(b){var d=this.getPixelRatio();b.setUniform("yAxisTrans",a.transA*d);b.setUniform("yAxisMin",a.min);b.setUniform("yAxisMinPad",a.minPixelPadding*d);b.setUniform("yAxisPointRange",
a.pointRange);b.setUniform("yAxisLen",a.len*d);b.setUniform("yAxisPos",a.pos*d);b.setUniform("yAxisCVSCoord",!a.horiz);b.setUniform("yAxisIsLog",!!a.logarithmic);b.setUniform("yAxisReversed",!!a.reversed)}};c.prototype.setThreshold=function(a,b){var d=this.shader;d&&(d.setUniform("hasThreshold",a),d.setUniform("translatedThreshold",b))};c.prototype.renderChart=function(d){var A=this,p=this.gl,r=this.settings,l=this.shader,D=this.vbuffer,f=this.getPixelRatio();if(d)this.width=d.chartWidth*f,this.height=
d.chartHeight*f;else return!1;var t=this.height,n=this.width;if(!(p&&l&&n&&t))return!1;r.debug.timeRendering&&console.time("gl rendering");p.canvas.width=n;p.canvas.height=t;l.bind();p.viewport(0,0,n,t);l.setPMatrix(c.orthoMatrix(n,t));1<r.lineWidth&&!h.isMS&&p.lineWidth(r.lineWidth);D&&(D.build(this.data,"aVertexPosition",4),D.bind());l.setInverted(d.inverted);this.series.forEach(function(g,n){var e=g.series.options,c=e.marker,t="undefined"!==typeof e.lineWidth?e.lineWidth:1,h=e.threshold,O=G(h),
q=g.series.yAxis.getThreshold(h);h=R(e.marker?e.marker.enabled:null,g.series.xAxis.isRadial?!0:null,g.series.closestPointRangePx>2*((e.marker?e.marker.radius:10)||10));c=A.textureHandles[c&&c.symbol||g.series.symbol]||A.textureHandles.circle;if(0!==g.segments.length&&g.segments[0].from!==g.segments[0].to&&(c.isReady&&(p.bindTexture(p.TEXTURE_2D,c.handle),l.setTexture(c.handle)),d.styledMode?c=g.series.markerGroup&&g.series.markerGroup.getStyle("fill"):(c="POINTS"===g.drawMode&&g.series.pointAttribs&&
g.series.pointAttribs().fill||g.series.color,e.colorByPoint&&(c=g.series.chart.options.colors[n])),g.series.fillOpacity&&e.fillOpacity&&(c=(new a(c)).setOpacity(R(e.fillOpacity,1)).get()),c=w(c).rgba,r.useAlpha||(c[3]=1),"LINES"===g.drawMode&&r.useAlpha&&1>c[3]&&(c[3]/=10),"add"===e.boostBlending?(p.blendFunc(p.SRC_ALPHA,p.ONE),p.blendEquation(p.FUNC_ADD)):"mult"===e.boostBlending||"multiply"===e.boostBlending?p.blendFunc(p.DST_COLOR,p.ZERO):"darken"===e.boostBlending?(p.blendFunc(p.ONE,p.ONE),p.blendEquation(p.FUNC_MIN)):
p.blendFuncSeparate(p.SRC_ALPHA,p.ONE_MINUS_SRC_ALPHA,p.ONE,p.ONE_MINUS_SRC_ALPHA),l.reset(),0<g.colorData.length?(l.setUniform("hasColor",1),n=new b(p,l),n.build(Array(g.segments[0].from).concat(g.colorData),"aColor",4),n.bind()):(l.setUniform("hasColor",0),p.disableVertexAttribArray(p.getAttribLocation(l.getProgram(),"aColor"))),l.setColor(c),A.setXAxis(g.series.xAxis),A.setYAxis(g.series.yAxis),A.setThreshold(O,q),"POINTS"===g.drawMode&&l.setPointSize(2*R(e.marker&&e.marker.radius,.5)*f),l.setSkipTranslation(g.skipTranslation),
"bubble"===g.series.type&&l.setBubbleUniforms(g.series,g.zMin,g.zMax,f),l.setDrawAsCircle(da[g.series.type]||!1),D)){if(0<t||"LINE_STRIP"!==g.drawMode)for(t=0;t<g.segments.length;t++)D.render(g.segments[t].from,g.segments[t].to,g.drawMode);if(g.hasMarkers&&h)for(l.setPointSize(2*R(e.marker&&e.marker.radius,5)*f),l.setDrawAsCircle(!0),t=0;t<g.segments.length;t++)D.render(g.segments[t].from,g.segments[t].to,"POINTS")}});r.debug.timeRendering&&console.timeEnd("gl rendering");this.postRenderCallback&&
this.postRenderCallback(this);this.flush()};c.prototype.render=function(a){var b=this;this.clear();if(a.renderer.forExport)return this.renderChart(a);this.isInited?this.renderChart(a):setTimeout(function(){b.render(a)},1)};c.prototype.setSize=function(a,b){var d=this.shader;!d||this.width===a&&this.height===b||(this.width=a,this.height=b,d.bind(),d.setPMatrix(c.orthoMatrix(a,b)))};c.prototype.init=function(a,d){function c(a,b){var d={isReady:!1,texture:r.createElement("canvas"),handle:f.createTexture()},
c=d.texture.getContext("2d");h.textureHandles[a]=d;d.texture.width=512;d.texture.height=512;c.mozImageSmoothingEnabled=!1;c.webkitImageSmoothingEnabled=!1;c.msImageSmoothingEnabled=!1;c.imageSmoothingEnabled=!1;c.strokeStyle="rgba(255, 255, 255, 0)";c.fillStyle="#FFF";b(c);try{f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,d.handle),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,d.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,
f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.bindTexture(f.TEXTURE_2D,null),d.isReady=!0}catch(e){}}var h=this,l=this.settings;this.isInited=!1;if(!a)return!1;l.debug.timeSetup&&console.time("gl setup");for(var D=0;D<N.length&&!(this.gl=a.getContext(N[D],{}));++D);var f=this.gl;if(f)d||this.flush();else return!1;f.enable(f.BLEND);f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA);f.disable(f.DEPTH_TEST);
f.depthFunc(f.LESS);a=this.shader=new q(f);if(!a)return!1;this.vbuffer=new b(f,a);c("circle",function(a){a.beginPath();a.arc(256,256,256,0,2*Math.PI);a.stroke();a.fill()});c("square",function(a){a.fillRect(0,0,512,512)});c("diamond",function(a){a.beginPath();a.moveTo(256,0);a.lineTo(512,256);a.lineTo(256,512);a.lineTo(0,256);a.lineTo(256,0);a.fill()});c("triangle",function(a){a.beginPath();a.moveTo(0,512);a.lineTo(256,0);a.lineTo(512,512);a.lineTo(0,512);a.fill()});c("triangle-down",function(a){a.beginPath();
a.moveTo(0,0);a.lineTo(256,512);a.lineTo(512,0);a.lineTo(0,0);a.fill()});this.isInited=!0;l.debug.timeSetup&&console.timeEnd("gl setup");return!0};c.prototype.destroy=function(){var a=this.gl,b=this.shader,d=this.vbuffer;this.flush();d&&d.destroy();b&&b.destroy();a&&(ca(this.textureHandles,function(b){b.handle&&a.deleteTexture(b.handle)}),a.canvas.width=1,a.canvas.height=1)};return c}()});z(a,"Extensions/Boost/BoostSeries.js",[a["Extensions/Boost/BoostableMap.js"],a["Extensions/Boost/Boostables.js"],
a["Extensions/Boost/BoostChart.js"],a["Core/Defaults.js"],a["Core/Globals.js"],a["Core/Utilities.js"],a["Extensions/Boost/WGLRenderer.js"]],function(a,h,c,l,q,b,w){function r(a,b){var k=b.boost;a&&k&&k.target&&k.canvas&&!n(b.chart)&&a.allocateBufferForSingleSeries(b)}function d(a){return la(a&&a.options&&a.options.boost&&a.options.boost.enabled,!0)}function G(a,b){var k=a.constructor,d=a.seriesGroup||b.group,f=a.chartWidth,c=a.chartHeight,m=a,g="undefined"!==typeof SVGForeignObjectElement;m=n(a)?
a:b;var e=m.boost=m.boost||{};g=!1;H||(H=O.createElement("canvas"));e.target||(e.canvas=H,a.renderer.forExport||!g?(m.renderTarget=e.target=a.renderer.image("",0,0,f,c).addClass("highcharts-boost-canvas").add(d),e.clear=function(){e.target.attr({href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="})},e.copy=function(){e.resize();e.target.attr({href:e.canvas.toDataURL("image/png")})}):(e.targetFo=a.renderer.createElement("foreignObject").add(d),
m.renderTarget=e.target=O.createElement("canvas"),e.targetCtx=e.target.getContext("2d"),e.targetFo.element.appendChild(e.target),e.clear=function(){e.target.width=e.canvas.width;e.target.height=e.canvas.height},e.copy=function(){e.target.width=e.canvas.width;e.target.height=e.canvas.height;e.targetCtx.drawImage(e.canvas,0,0)}),e.resize=function(){f=a.chartWidth;c=a.chartHeight;(e.targetFo||e.target).attr({x:0,y:0,width:f,height:c}).css({pointerEvents:"none",mixedBlendMode:"normal",opacity:1});m instanceof
k&&m.boost.markerGroup.translate(a.plotLeft,a.plotTop)},e.clipRect=a.renderer.clipRect(),(e.targetFo||e.target).attr({zIndex:b.options.zIndex}).clip(e.clipRect),m instanceof k&&(m.boost.markerGroup=m.renderer.g().add(d).translate(b.xAxis.pos,b.yAxis.pos)));e.canvas.width=f;e.canvas.height=c;e.clipRect&&e.clipRect.attr(t(a,m));e.resize();e.clear();e.wgl||(e.wgl=new w(function(a){a.settings.debug.timeBufferCopy&&console.time("buffer copy");e.copy();a.settings.debug.timeBufferCopy&&console.timeEnd("buffer copy")}),
e.wgl.init(e.canvas)||na("[highcharts boost] - unable to init WebGL renderer"),e.wgl.setOptions(a.options.boost||{}),m instanceof k&&e.wgl.allocateBuffer(a));e.wgl.setSize(f,c);return e.wgl}function z(a){var b=a.points;if(b){var k=void 0,e=void 0;for(e=0;e<b.length;e+=1)(k=b[e])&&k.destroyElements&&k.destroyElements()}["graph","area","tracker"].forEach(function(b){var k=a[b];k&&(a[b]=k.destroy())});a.getZonesGraphs&&a.getZonesGraphs([["graph","highcharts-graph"]]).forEach(function(b){var k=a[b[0]];
k&&(a[b[0]]=k.destroy())})}function B(a,b,e,d,f,c){f=f||0;d=d||3E3;for(var k=f+d,m=!0;m&&f<k&&f<a.length;)m=b(a[f],f),++f;m&&(f<a.length?c?B(a,b,e,d,f,c):S.requestAnimationFrame?S.requestAnimationFrame(function(){B(a,b,e,d,f)}):setTimeout(B,0,a,b,e,d,f):e&&e())}function ca(a){a.boost=a.boost||{getPoint:function(b){return A(a,b)}};var b=a.boost.altered=[];["allowDG","directTouch","stickyTracking"].forEach(function(e){b.push({prop:e,val:a[e],own:Object.hasOwnProperty.call(a,e)})});a.allowDG=!1;a.directTouch=
!1;a.stickyTracking=!0;a.finishedAnimating=!0;a.labelBySeries&&(a.labelBySeries=a.labelBySeries.destroy())}function R(a){var b=a.boost;b&&((b.altered||[]).forEach(function(b){b.own?a[b.prop]=b.val:delete a[b.prop]}),b.clear&&b.clear())}function C(a,b){var e=a.options,d=a.xAxis&&a.xAxis.options,f=a.yAxis&&a.yAxis.options;a=a.colorAxis&&a.colorAxis.options;return e.data.length>(e.boostThreshold||Number.MAX_VALUE)&&u(f.min)&&u(f.max)&&(!b||u(d.min)&&u(d.max))&&(!a||u(a.min)&&u(a.max))}function da(){var a=
this,b=a.chart;b.boost&&b.boost.markerGroup===a.markerGroup&&(a.markerGroup=null);b.hoverPoints&&(b.hoverPoints=b.hoverPoints.filter(function(b){return b.series===a}));b.hoverPoint&&b.hoverPoint.series===a&&(b.hoverPoint=null)}function N(){var a=this.boost;a&&a.canvas&&a.target&&(a.wgl&&a.wgl.clear(),a.clear&&a.clear())}function wa(a){var b=a.boost;b&&b.canvas&&b.target&&b.wgl&&!n(a.chart)&&b.wgl.render(a.chart)}function A(a,b){var e=a.options,d=a.xAxis,f=a.pointClass;if(b instanceof f)return b;e=
a.xData||e.xData||a.processedXData||!1;f=(new f).init(a,a.options.data[b.i],e?e[b.i]:void 0);f.category=la(d.categories?d.categories[f.x]:f.x,f.x);f.dist=b.dist;f.distX=b.distX;f.plotX=b.plotX;f.plotY=b.plotY;f.index=b.i;f.percentage=b.percentage;f.isInside=a.isPointInside(f);return f}function ka(){function a(a,b){var f="undefined"===typeof d.index,e=!1,n=!0;if("undefined"===typeof a)return!0;if(!f){if(ma){var k=a[0];var m=a[1]}else k=a,m=l[b];if(A)ma&&(m=a.slice(1,3)),e=m[0],m=m[1];else if(w){k=
a.x;m=a.stackY;e=m-a.y;var h=a.percentage}H||(n=(m||0)>=p&&m<=S);if(null!==m&&k>=O&&k<=q&&n)if(a=c.toPixels(k,!0),y){if("undefined"===typeof I||a===C){A||(e=m);if("undefined"===typeof L||m>N)N=m,L=b;if("undefined"===typeof I||e<J)J=e,I=b}na&&a===C||("undefined"!==typeof I&&(m=g.toPixels(N,!0),v=g.toPixels(J,!0),aa(a,m,L,h),v!==m&&aa(a,v,I,h)),I=L=void 0,C=a)}else m=Math.ceil(g.toPixels(m,!0)),aa(a,m,b,h)}return!f}var b=this,f=this.options||{},d=this.chart,c=this.xAxis,g=this.yAxis,h=f.xData||this.processedXData,
l=f.yData||this.processedYData,t=f.data,D=c.getExtremes(),O=D.min,q=D.max;D=g.getExtremes();var p=D.min,S=D.max,u={},y=!!this.sampling,x=f.enableMouseTracking;D=f.threshold;var A=this.pointArrayMap&&"low,high"===this.pointArrayMap.join(","),w=!!f.stacking,E=this.cropStart||0,H=this.requireSorting,ma=!h,na="x"===f.findNearestPointBy,F=this.xData||this.options.xData||this.processedXData||!1;f=!1;var C,v=g.getThreshold(D),J,N,I,L;f=G(d,this);d.boosted=!0;if(this.visible){(this.points||this.graph)&&z(this);
n(d)?(this.markerGroup&&this.markerGroup!==d.boost.markerGroup&&this.markerGroup.destroy(),this.markerGroup=d.boost.markerGroup,this.boost&&this.boost.target&&(this.renderTarget=this.boost.target=this.boost.target.destroy())):(d.boost&&this.markerGroup===d.boost.markerGroup&&(this.markerGroup=void 0),this.markerGroup=this.plotGroup("markerGroup","markers",!0,1,d.seriesGroup));var M=this.points=[],aa=function(a,b,f,n){function k(a){d.inverted&&(a=c.len-a,b=g.len-b);M.push({destroy:e,x:m,clientX:a,
plotX:a,plotY:b,i:E+f,percentage:n})}var m=F?F[E+f]:!1;a=Math.ceil(a);oa=na?a:a+","+b;x&&(u[oa]?m===F[F.length-1]&&(M.length--,k(a)):(u[oa]=!0,k(a)))};this.buildKDTree=e;f&&(r(f,this),f.pushSeries(this),wa(this));var ba=f.settings;f=function(){Fa(b,"renderedCanvas");delete b.buildKDTree;b.buildKDTree();ba.debug.timeKDTree&&console.timeEnd("kd tree building")};d.renderer.forExport||(ba.debug.timeKDTree&&console.time("kd tree building"),B(w?this.data:h||t,a,f))}}function p(a){var b=!0;this.chart.options&&
this.chart.options.boost&&(b="undefined"===typeof this.chart.options.boost.enabled?!0:this.chart.options.boost.enabled);if(!b||!this.boosted)return a.call(this);this.chart.boosted=!0;if(a=G(this.chart,this))r(a,this),a.pushSeries(this);wa(this)}function ea(b,f,e){function c(b){var f=this.options.stacking&&("translate"===e||"generatePoints"===e);this.boosted&&!f&&d(this.chart)&&"heatmap"!==this.type&&"treemap"!==this.type&&a[this.type]&&0!==this.options.boostThreshold?"render"===e&&this.renderCanvas&&
this.renderCanvas():b.call(this)}F(b,e,c);"translate"===e&&["column","arearange","columnrange","heatmap","treemap"].forEach(function(a){f[a]&&F(f[a].prototype,e,c)})}function xa(a){return this.boosted&&C(this)?{}:a.apply(this,[].slice.call(arguments,1))}function D(b){function f(a){return e.forceCrop?!1:n(e.chart)||(a?a.length:0)>=(e.options.boostThreshold||Number.MAX_VALUE)}var e=this,c=this.options.data;d(this.chart)&&a[this.type]?(f(c)&&"heatmap"!==this.type&&"treemap"!==this.type&&!this.options.stacking&&
C(this,!0)||(b.apply(this,[].slice.call(arguments,1)),c=this.processedXData),(this.boosted=f(c))?(c=void 0,this.options.data&&this.options.data.length&&(c=this.getFirstValidPoint(this.options.data),u(c)||Ga(c)||na(12,!1,this.chart)),ca(this)):R(this)):b.apply(this,[].slice.call(arguments,1))}function f(a){var b=a.apply(this,[].slice.call(arguments,1));return this.boost&&b?this.boost.getPoint(b):b}var t=c.getBoostClipRect,n=c.isChartSeriesBoosting,g=l.getOptions,O=q.doc,e=q.noop,S=q.win,ma=b.addEvent,
na=b.error,I=b.extend,Fa=b.fireEvent,Ga=b.isArray,u=b.isNumber,la=b.pick,F=b.wrap,J=[],oa,H;return{compose:function(a,e,d){if(b.pushUnique(J,a)){ma(a,"destroy",da);ma(a,"hide",N);var c=a.prototype;d&&(c.renderCanvas=ka);F(c,"getExtremes",xa);F(c,"processData",D);F(c,"searchPoint",f);["translate","generatePoints","drawTracker","drawPoints","render"].forEach(function(a){return ea(c,e,a)})}if(b.pushUnique(J,g)){var n=g().plotOptions;h.forEach(function(a){var b=n[a];b&&(b.boostThreshold=5E3,b.boostData=
[],e[a].prototype.fillOpacity=!0)})}if(d){var k=e.area,m=e.areaspline,l=e.bubble;d=e.column;var t=e.heatmap,O=e.scatter,r=e.treemap;k&&b.pushUnique(J,k)&&I(k.prototype,{fill:!0,fillOpacity:!0,sampling:!0});m&&b.pushUnique(J,m)&&I(m.prototype,{fill:!0,fillOpacity:!0,sampling:!0});l&&b.pushUnique(J,l)&&(k=l.prototype,delete k.buildKDTree,F(k,"markerAttribs",function(a){return this.boosted?!1:a.apply(this,[].slice.call(arguments,1))}));d&&b.pushUnique(J,d)&&I(d.prototype,{fill:!0,sampling:!0});O&&b.pushUnique(J,
O)&&(O.prototype.fill=!0);[t,r].forEach(function(a){a&&b.pushUnique(J,a)&&F(a.prototype,"drawPoints",p)})}return a},destroyGraphics:z,eachAsync:B,getPoint:A}});z(a,"Extensions/BoostCanvas.js",[a["Extensions/Boost/BoostChart.js"],a["Extensions/Boost/BoostSeries.js"],a["Core/Chart/Chart.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,h,c,l,q,b,w,r){var d=a.getBoostClipRect,z=a.isChartSeriesBoosting,G=
h.destroyGraphics,B=l.parse,ca=q.doc,R=q.noop,C=w.seriesTypes,da=r.addEvent,N=r.extend,wa=r.fireEvent,A=r.isNumber,ka=r.merge,p=r.pick,ea=r.wrap,xa;return function(){q.seriesTypes.heatmap&&ea(q.seriesTypes.heatmap.prototype,"drawPoints",function(){var a=this.chart,b=this.getContext(),d=this.chart.inverted,c=this.xAxis,g=this.yAxis;b?(this.points.forEach(function(f){var e=f.plotY;if("undefined"!==typeof e&&!isNaN(e)&&null!==f.y&&b){var n=f.shapeArgs||{};e=n.x;e=void 0===e?0:e;var h=n.y;h=void 0===
h?0:h;var l=n.width;l=void 0===l?0:l;n=n.height;n=void 0===n?0:n;f=a.styledMode?f.series.colorAttribs(f):f.series.pointAttribs(f);b.fillStyle=f.fill;d?b.fillRect(g.len-h+c.left,c.len-e+g.top,-n,-l):b.fillRect(e+c.left,h+g.top,l,n)}}),this.canvasToSVG()):this.chart.showLoading("Your browser doesn't support HTML5 canvas, <br>please use a modern browser")});N(b.prototype,{getContext:function(){function a(a,b,e,f,d,c,n){a.call(this,e,b,f,d,c,n)}var b=this.chart,c=z(b)?b:this,n=c===b?b.seriesGroup:b.seriesGroup||
this.group,g=b.chartWidth,h=b.chartHeight,e=c.boost=c.boost||{};var l=e.targetCtx;e.canvas||(e.canvas=ca.createElement("canvas"),e.target=b.renderer.image("",0,0,g,h).addClass("highcharts-boost-canvas").add(n),l=e.targetCtx=e.canvas.getContext("2d"),b.inverted&&["moveTo","lineTo","rect","arc"].forEach(function(b){ea(l,b,a)}),e.copy=function(){e.target.attr({href:e.canvas.toDataURL("image/png")})},e.clear=function(){l.clearRect(0,0,e.canvas.width,e.canvas.height);c===e.target&&e.target.attr({href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="})},
e.clipRect=b.renderer.clipRect(),e.target.clip(e.clipRect));e.canvas.width!==g&&(e.canvas.width=g);e.canvas.height!==h&&(e.canvas.height=h);e.target.attr({x:0,y:0,width:g,height:h,style:"pointer-events: none",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="});e.clipRect&&e.clipRect.attr(d(b,c));return l},canvasToSVG:function(){z(this.chart)?this.boost&&this.boost.clear&&this.boost.clear():this.boost&&this.boost.copy?this.boost.copy():
this.chart.boost&&this.chart.boost.copy&&this.chart.boost.copy()},cvsLineTo:function(a,b,d){a.lineTo(b,d)},renderCanvas:function(){function a(a,b,c){ia=Aa?a:a+","+b;fa&&!H[ia]&&(H[ia]=!0,q.inverted&&(a=e.len-a,b=w.len-b),L.push({x:va?va[y+c]:!1,clientX:a,plotX:a,plotY:b,i:y+c}))}function b(a,b,e,f){0===C&&(M.beginPath(),qa&&(M.lineJoin="round"));q.scroller&&"highcharts-navigator-series"===c.options.className?(b+=q.scroller.top,e&&(e+=q.scroller.top)):b+=q.plotTop;a+=q.plotLeft;K?M.moveTo(a,b):ya?
ya(M,a,b,e,ra):qa?qa(M,a,b):Y&&Y.call(c,M,a,b,pa,f);C+=1;C===za&&(d(),C=0);ra={clientX:a,plotY:b,yBottom:e}}function d(){U?(M.fillStyle=ua,M.fill()):(M.strokeStyle=c.color,M.lineWidth=g.lineWidth,M.stroke())}var c=this,g=c.options,q=c.chart,e=this.xAxis,w=this.yAxis,z=(q.options.boost||{}).timeRendering||!1,C=0,I=c.processedXData,ca=c.processedYData,ea=g.data,u=e.getExtremes(),la=u.min,F=u.max;u=w.getExtremes();var J=u.min,oa=u.max,H={},k,m=!!c.sampling,pa=g.marker&&g.marker.radius,ya=this.cvsDrawPoint,
qa=g.lineWidth?this.cvsLineTo:void 0,Y=pa&&1>=pa?this.cvsMarkerSquare:this.cvsMarkerCircle,za=this.cvsStrokeBatch||1E3,fa=g.enableMouseTracking,ra;u=g.threshold;var P=w.getThreshold(u),ha=A(u),X=P,U=this.fill,Ca=c.pointArrayMap&&"low,high"===c.pointArrayMap.join(","),sa=!!g.stacking,y=c.cropStart||0;u=q.options.loading;var x=c.requireSorting,K,ta=g.connectNulls,E=!I,T,V,Q,Z,ia,v=sa?c.data:I||ea,ua=c.fillOpacity?l.parse(c.color).setOpacity(p(g.fillOpacity,.75)).get():c.color,Aa="x"===g.findNearestPointBy,
va=this.xData||this.options.xData||this.processedXData||!1;I=this.boost||{};I.target&&I.target.attr({href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="});(this.points||this.graph)&&G(this);c.plotGroup("group","series",c.visible?"visible":"hidden",g.zIndex,q.seriesGroup);c.markerGroup=c.group;da(c,"destroy",function(){c.markerGroup=null});var L=this.points=[];var M=this.getContext();c.buildKDTree=R;I.clear&&I.clear();this.visible&&
(99999<ea.length&&(q.options.loading=ka(u,{labelStyle:{backgroundColor:B("#ffffff").setOpacity(.75).get(),padding:"1em",borderRadius:"0.5em"},style:{backgroundColor:"none",opacity:1}}),r.clearTimeout(xa),q.showLoading("Drawing..."),q.options.loading=u),z&&console.time("canvas rendering"),h.eachAsync(v,function(f,d){var g=!1,h=!1,n=!1,l=!1,r="undefined"===typeof q.index,D=!0;if(!r){if(E){var t=f[0];var p=f[1];v[d+1]&&(n=v[d+1][0]);v[d-1]&&(l=v[d-1][0])}else t=f,p=ca[d],v[d+1]&&(n=v[d+1]),v[d-1]&&(l=
v[d-1]);n&&n>=la&&n<=F&&(g=!0);l&&l>=la&&l<=F&&(h=!0);if(Ca){E&&(p=f.slice(1,3));var u=p[0];p=p[1]}else sa&&(t=f.x,p=f.stackY,u=p-f.y);f=null===p;x||(D=p>=J&&p<=oa);if(!f&&(t>=la&&t<=F&&D||g||h))if(t=Math.round(e.toPixels(t,!0)),m){if("undefined"===typeof Q||t===k){Ca||(u=p);if("undefined"===typeof Z||p>V)V=p,Z=d;if("undefined"===typeof Q||u<T)T=u,Q=d}t!==k&&("undefined"!==typeof Q&&(p=w.toPixels(V,!0),P=w.toPixels(T,!0),b(t,ha?Math.min(p,X):p,ha?Math.max(P,X):P,d),a(t,p,Z),P!==p&&a(t,P,Q)),Q=Z=void 0,
k=t)}else p=Math.round(w.toPixels(p,!0)),b(t,p,P,d),a(t,p,d);K=f&&!ta;0===d%5E4&&(c.boost&&c.boost.copy?c.boost.copy():c.chart.boost&&c.chart.boost.copy&&c.chart.boost.copy())}return!r},function(){var a=q.loadingDiv,b=q.loadingShown;d();c.canvasToSVG();z&&console.timeEnd("canvas rendering");wa(c,"renderedCanvas");b&&(N(a.style,{transition:"opacity 250ms",opacity:0}),q.loadingShown=!1,xa=setTimeout(function(){a.parentNode&&a.parentNode.removeChild(a);q.loadingDiv=q.loadingSpan=null},250));delete c.buildKDTree;
c.buildKDTree()},q.renderer.forExport?Number.MAX_VALUE:void 0))}});C.scatter.prototype.cvsMarkerCircle=function(a,b,c,d){a.moveTo(b,c);a.arc(b,c,d,0,2*Math.PI,!1)};C.scatter.prototype.cvsMarkerSquare=function(a,b,c,d){a.rect(b-d,c-d,2*d,2*d)};C.scatter.prototype.fill=!0;C.bubble&&(C.bubble.prototype.cvsMarkerCircle=function(a,b,c,d,g){a.moveTo(b,c);a.arc(b,c,this.radii&&this.radii[g],0,2*Math.PI,!1)},C.bubble.prototype.cvsStrokeBatch=1);N(C.area.prototype,{cvsDrawPoint:function(a,b,c,d,g){g&&b!==
g.clientX&&(a.moveTo(g.clientX,g.yBottom),a.lineTo(g.clientX,g.plotY),a.lineTo(b,c),a.lineTo(b,d))},fill:!0,fillOpacity:!0,sampling:!0});N(C.column.prototype,{cvsDrawPoint:function(a,b,c,d){a.rect(b-1,c,1,d-c)},fill:!0,sampling:!0});c.prototype.callbacks.push(function(a){da(a,"predraw",function(){var a=this.boost||{};a.target&&a.target.attr({href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="});a.canvas&&a.canvas.getContext("2d").clearRect(0,
0,a.canvas.width,a.canvas.height)});da(a,"render",function(){a.boost&&a.boost.copy&&a.boost.copy()})})}});z(a,"masters/modules/boost-canvas.src.js",[],function(){})});
//# sourceMappingURL=boost-canvas.js.map