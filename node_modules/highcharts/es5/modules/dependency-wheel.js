/*
 Highcharts JS v11.1.0 (2023-09-05)

 Dependency wheel module

 (c) 2010-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/dependency-wheel",["highcharts","highcharts/modules/sankey"],function(f){a(f);a.Highcharts=f;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function f(a,c,f,h){a.hasOwnProperty(c)||(a[c]=h.apply(null,f),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,
module:a[c]}})))}a=a?a._modules:{};f(a,"Series/DependencyWheel/DependencyWheelPoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,f){var c=this&&this.__extends||function(){function a(d,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])};return a(d,b)}return function(d,b){function f(){this.constructor=d}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+
String(b)+" is not a constructor or null");a(d,b);d.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)}}(),h=f.pInt,n=f.wrap;return function(a){function d(){var b=null!==a&&a.apply(this,arguments)||this;b.angle=void 0;b.fromNode=void 0;b.index=void 0;b.linksFrom=void 0;b.linksTo=void 0;b.options=void 0;b.series=void 0;b.shapeArgs=void 0;b.toNode=void 0;return b}c(d,a);d.prototype.getDataLabelPath=function(a){var b=this,d,f=this.series.chart.renderer,c=this.shapeArgs,q=0>this.angle||
this.angle>Math.PI,r=c.start||0,e=c.end||0;this.dataLabelPath?(this.dataLabelPath=this.dataLabelPath.destroy(),delete this.dataLabelPath):n(a,"destroy",function(e){b.dataLabelPath&&(b.dataLabelPath=b.dataLabelPath.destroy());return e.call(a)});return this.dataLabelPath=f.arc({open:!0,longArc:Math.abs(Math.abs(r)-Math.abs(e))<Math.PI?0:1}).attr({x:c.x,y:c.y,r:(c.r||0)+h((null===(d=a.options)||void 0===d?void 0:d.distance)||0),start:q?r:e,end:q?e:r,clockwise:+q}).add(f.defs)};d.prototype.isValid=function(){return!0};
return d}(a.seriesTypes.sankey.prototype.pointClass)});f(a,"Series/DependencyWheel/DependencyWheelSeriesDefaults.js",[],function(){"";return{center:[null,null],curveFactor:.6,startAngle:0,dataLabels:{textPath:{enabled:!1,attributes:{dy:5}}}}});f(a,"Series/DependencyWheel/DependencyWheelSeries.js",[a["Core/Animation/AnimationUtilities.js"],a["Series/DependencyWheel/DependencyWheelPoint.js"],a["Series/DependencyWheel/DependencyWheelSeriesDefaults.js"],a["Core/Globals.js"],a["Series/Sankey/SankeyColumnComposition.js"],
a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,f,u,h,v,t,d){var b=this&&this.__extends||function(){function a(b,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])};return a(b,e)}return function(b,e){function d(){this.constructor=b}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a(b,
e);b.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}}(),c=a.animObject,n=h.deg2rad;h=t.seriesTypes;a=h.pie;var l=h.sankey;h=d.extend;var w=d.merge;d=function(a){function d(){var b=null!==a&&a.apply(this,arguments)||this;b.data=void 0;b.options=void 0;b.nodeColumns=void 0;b.nodes=void 0;b.points=void 0;return b}b(d,a);d.prototype.animate=function(a){if(!a){var b=c(this.options.animation).duration/2/this.nodes.length;this.nodes.forEach(function(a,d){var e=a.graphic;e&&(e.attr({opacity:0}),
setTimeout(function(){a.graphic&&a.graphic.animate({opacity:1},{duration:b})},b*d))},this);this.points.forEach(function(a){var b=a.graphic;!a.isNode&&b&&b.attr({opacity:0}).animate({opacity:1},this.options.animation)},this)}};d.prototype.createNode=function(a){var b=l.prototype.createNode.call(this,a);b.getSum=function(){return b.linksFrom.concat(b.linksTo).reduce(function(a,b){return a+b.weight},0)};b.offset=function(a){function d(a){return a.fromNode===b?a.toNode:a.fromNode}var e=0,f,g=b.linksFrom.concat(b.linksTo);
g.sort(function(a,b){return d(a).index-d(b).index});for(f=0;f<g.length;f++)if(d(g[f]).index>b.index){g=g.slice(0,f).reverse().concat(g.slice(f).reverse());var c=!0;break}c||g.reverse();for(f=0;f<g.length;f++){if(g[f]===a)return e;e+=g[f].weight}};return b};d.prototype.createNodeColumns=function(){var a=[v.compose([],this)];this.nodes.forEach(function(b){b.column=0;a[0].push(b)});return a};d.prototype.getNodePadding=function(){return this.options.nodePadding/Math.PI};d.prototype.translate=function(){var a=
this.options,b=2*Math.PI/(this.chart.plotHeight+this.getNodePadding()),d=this.getCenter(),f=(a.startAngle-90)*n,c=a.borderRadius,h="object"===typeof c?c.radius:c;l.prototype.translate.call(this);this.nodeColumns[0].forEach(function(e){if(e.sum){var c=e.shapeArgs,g=d[0],l=d[1],p=d[2]/2,k=p-a.nodeWidth,m=f+b*(c.y||0);c=f+b*((c.y||0)+(c.height||0));e.angle=m+(c-m)/2;e.shapeType="arc";e.shapeArgs={x:g,y:l,r:p,innerR:k,start:m,end:c,borderRadius:h};e.dlBox={x:g+Math.cos((m+c)/2)*(p+k)/2,y:l+Math.sin((m+
c)/2)*(p+k)/2,width:1,height:1};e.linksFrom.forEach(function(d){if(d.linkBase){var e,c=d.linkBase.map(function(c,h){c*=b;var m=Math.cos(f+c)*(k+1),p=Math.sin(f+c)*(k+1),n=a.curveFactor||0;e=Math.abs(d.linkBase[3-h]*b-c);e>Math.PI&&(e=2*Math.PI-e);e*=k;e<k&&(n*=e/k);return{x:g+m,y:l+p,cpX:g+(1-n)*m,cpY:l+(1-n)*p}});d.shapeArgs={d:[["M",c[0].x,c[0].y],["A",k,k,0,0,1,c[1].x,c[1].y],["C",c[1].cpX,c[1].cpY,c[2].cpX,c[2].cpY,c[2].x,c[2].y],["A",k,k,0,0,1,c[3].x,c[3].y],["C",c[3].cpX,c[3].cpY,c[0].cpX,c[0].cpY,
c[0].x,c[0].y]]}}})}})};d.defaultOptions=w(l.defaultOptions,u);return d}(l);h(d.prototype,{orderNodes:!1,getCenter:a.prototype.getCenter});d.prototype.pointClass=f;t.registerSeriesType("dependencywheel",d);return d});f(a,"masters/modules/dependency-wheel.src.js",[],function(){})});
//# sourceMappingURL=dependency-wheel.js.map