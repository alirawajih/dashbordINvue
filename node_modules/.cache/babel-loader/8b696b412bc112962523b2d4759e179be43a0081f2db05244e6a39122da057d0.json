{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-a49090ce\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"row\",\n  style: {\n    \"background\": \"rgb(218, 215, 215)\",\n    \"border\": \"1px solid  rgb(113, 110, 110)\",\n    \"height\": \"90vh\",\n    \"margin\": \"50px\",\n    \"border-radius\": \"8px\"\n  }\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-10\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"col-2\"\n};\nconst _hoisted_4 = {\n  class: \"LoginForm\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"alert alert-danger\",\n  role: \"alert\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"h3 mb-3 fw-normal text-dark\"\n}, \"Please sign in\", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, \"Email address\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"\"\n};\nconst _hoisted_9 = {\n  class: \"p-error text-danger\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"Password\"\n}, \"Password\", -1 /* HOISTED */));\nconst _hoisted_11 = {\n  class: \"\"\n};\nconst _hoisted_12 = {\n  class: \"p-error text-danger\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"checkbox mb-3 text-dark\"\n}, [/*#__PURE__*/_createElementVNode(\"label\", null, [/*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"checkbox\",\n  name: \"checkbox\",\n  value: \"remember-me\"\n}), /*#__PURE__*/_createTextVNode(\" Remember me \")])], -1 /* HOISTED */));\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"w-100 btn btn-lg btn-primary\",\n  type: \"submit\"\n}, \" Sign in \", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"main\", _hoisted_4, [_createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $data.onSubmit && $data.onSubmit(...args), [\"prevent\"]))\n  }, [$data.message ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString($data.message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _hoisted_6, _hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    name: \"email\",\n    id: \"email\",\n    class: \"form-control\",\n    type: \"email\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]]), _createElementVNode(\"span\", _hoisted_9, _toDisplayString($data.erroremail), 1 /* TEXT */)]), _hoisted_10, _createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    name: \"password\",\n    id: \"password\",\n    class: \"form-control\",\n    type: \"password\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]]), _createElementVNode(\"span\", _hoisted_12, _toDisplayString($data.errorpassword), 1 /* TEXT */)]), _hoisted_13, _hoisted_14], 32 /* HYDRATE_EVENTS */)])])]);\n}","map":{"version":3,"names":["class","style","_createElementVNode","role","for","type","name","value","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","args","$data","message","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","email","$event","id","_hoisted_9","erroremail","_hoisted_10","_hoisted_11","password","_hoisted_12","errorpassword","_hoisted_13","_hoisted_14"],"sources":["/var/www/html/project/Dash_Vuexy-master/src/views/login/login.vue"],"sourcesContent":["<template>\n  <div class=\"row\" style=\"background: rgb(218, 215, 215);border:1px solid  rgb(113, 110, 110); height: 90vh;margin: 50px;\n  border-radius: 8px;\">\n    <div class=\"col-10\"> </div>\n    <div class=\"col-2\">\n <main class=\" LoginForm  \">\n      <form @submit.prevent=\"onSubmit\">\n        <div class=\"alert alert-danger\" role=\"alert\" v-if=\"message\">\n          {{ message }}\n        </div>\n\n        <h1 class=\"h3 mb-3 fw-normal text-dark\">Please sign in</h1>\n        <label for=\"email\">Email address</label>\n        <div class=\"\">\n          <input\n            v-model=\"email\"\n            name=\"email\"\n            id=\"email\"\n            class=\"form-control\"\n            type=\"email\"\n          />\n          <span class=\"p-error text-danger\"> {{ erroremail }}</span>\n        </div>\n        <label for=\"Password\">Password</label>\n        <div class=\"\">\n          <input\n            v-model=\"password\"\n            name=\"password\"\n            id=\"password\"\n            class=\"form-control\"\n            type=\"password\"\n          />\n          <span class=\"p-error text-danger\"> {{ errorpassword }}</span>\n        </div>\n\n        <div class=\"checkbox mb-3 text-dark\">\n          <label>\n            <input type=\"checkbox\" name=\"checkbox\" value=\"remember-me\" />\n            Remember me\n          </label>\n        </div>\n        <button class=\"w-100 btn btn-lg btn-primary\" type=\"submit\">\n          Sign in\n        </button>\n      </form>\n    </main>\n    </div>\n\n</div>\n   \n  \n</template>\n<script>\nimport { ability } from \"@/ability/defineApilty\";\nimport router from \"@/router\";\nimport { login } from \"@/jsc/loginuser\";\nimport { Store } from \"vuex\";\nimport * as yup from \"yup\";\nimport { Form, Field, ErrorMessage, useField, useForm } from \"vee-validate\";\nexport default {\n  name: \"login\",\n\n  components: {\n    Field,\n    Form,\n    ErrorMessage,\n  },\n  data() {\n    const { handleSubmit } = useForm();\n\n    const onSubmit = handleSubmit((values) => {\n      login(values.email, values.password)\n        .then((user) => {\n          localStorage.setItem(\"user\", JSON.stringify(user));\n          ability.update(user.ability);\n          router.replace({ path: \"/\" });\n        })\n        .catch((e) => (this.message = \"email or password is incorrect\"));\n    });\n    const { value: email, errorMessage: erroremail } = useField(\n      \"email\",\n\n      yup.string().email().required()\n    );\n    const { value: password, errorMessage: errorpassword } = useField(\n      \"password\",\n\n      yup.string().min(3).required()\n    );\n\n    return {\n      message: \"\",\n      email,\n      password,\n      errorpassword,\n      erroremail,\n      handleSubmit,\n      onSubmit,\n    };\n  },\n  created() {},\n  methods: {\n    async submit() {\n      // console.log(handleSubmit)\n      // login(this.email, this.password)\n      //   .then((user) => {\n      //     localStorage.setItem(\"user\", JSON.stringify(user));\n      //     // updateability(user.position)\n      //     ability.update(user.ability);\n      //     router.replace({ path: \"/\" });\n      //     // timeout()\n      //   })\n      //   .catch((e) => (this.message = \"email or password is incorrect\"));\n      ///////////////////\n      // this.$store\n      //   .dispatch(\"login\", this.user)\n      //   .then((user) => {\n      //     localStorage.setItem(\"user\", JSON.stringify(user));\n      //     // updateability(user.position)\n      //     ability.update(user.ability);\n      //     router.replace({ path: \"/\" });\n      //     // timeout()\n      //   })\n      //   .catch((e) => (this.message = \"email or password is incorrect\"));\n      /////////////////////\n      // this.$store.dispatch(\"login\", this.user)\n      // if(this.$store.state.auth){\n      //   localStorage.setItem('user' ,JSON.stringify(this.$store.state.auth))\n      //   router.replace({name:\"ecommerce\"})\n      // }else{\n      //   this.message = \"email or password is incorrect\"\n      // }\n    },\n    login() {},\n    // validateEmail(value) {\n    //   if (!value) {\n    //     return \"This field is required\";\n    //   }\n    //   const regex = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\n    //   if (!regex.test(value)) {\n    //     return \"This field must be a valid email\";\n    //   }\n\n    //   return true;\n    // },\n  },\n};\n</script>\n<style scoped>\n\n.LoginForm{\n  position: absolute;\n  top: 30%;\n  \n  /* left: 25%; */\n}\n\n\n</style>"],"mappings":";;;EACOA,KAAK,EAAC,KAAK;EAACC,KACG,EADH;IAAA;IAAA;IAAA;IAAA;IAAA;EAAA;;gEAEfC,mBAAA,CAA2B;EAAtBF,KAAK,EAAC;AAAQ;;EACdA,KAAK,EAAC;AAAO;;EACfA,KAAK,EAAC;AAAc;;;EAEdA,KAAK,EAAC,oBAAoB;EAACG,IAAI,EAAC;;gEAIrCD,mBAAA,CAA2D;EAAvDF,KAAK,EAAC;AAA6B,GAAC,gBAAc;gEACtDE,mBAAA,CAAwC;EAAjCE,GAAG,EAAC;AAAO,GAAC,eAAa;;EAC3BJ,KAAK,EAAC;AAAE;;EAQLA,KAAK,EAAC;AAAqB;iEAEnCE,mBAAA,CAAsC;EAA/BE,GAAG,EAAC;AAAU,GAAC,UAAQ;;EACzBJ,KAAK,EAAC;AAAE;;EAQLA,KAAK,EAAC;AAAqB;iEAGnCE,mBAAA,CAKM;EALDF,KAAK,EAAC;AAAyB,I,aAClCE,mBAAA,CAGQ,gB,aAFNA,mBAAA,CAA6D;EAAtDG,IAAI,EAAC,UAAU;EAACC,IAAI,EAAC,UAAU;EAACC,KAAK,EAAC;kCAAgB,eAE/D,E;iEAEFL,mBAAA,CAES;EAFDF,KAAK,EAAC,8BAA8B;EAACK,IAAI,EAAC;GAAS,WAE3D;;;uBA1CNG,mBAAA,CA+CI,OA/CJC,UA+CI,GA7CFC,UAA2B,EAC3BR,mBAAA,CA0CM,OA1CNS,UA0CM,GAzCTT,mBAAA,CAwCU,QAxCVU,UAwCU,GAvCLV,mBAAA,CAsCO;IAtCAW,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,KAAA,CAAAJ,QAAA,IAAAI,KAAA,CAAAJ,QAAA,IAAAG,IAAA,CAAQ;MACsBC,KAAA,CAAAC,OAAO,I,cAA1DV,mBAAA,CAEM,OAFNW,UAEM,EAAAC,gBAAA,CADDH,KAAA,CAAAC,OAAO,oB,mCAGZG,UAA2D,EAC3DC,UAAwC,EACxCpB,mBAAA,CASM,OATNqB,UASM,G,gBARJrB,mBAAA,CAME;+DALSe,KAAA,CAAAO,KAAK,GAAAC,MAAA;IACdnB,IAAI,EAAC,OAAO;IACZoB,EAAE,EAAC,OAAO;IACV1B,KAAK,EAAC,cAAc;IACpBK,IAAI,EAAC;iDAJIY,KAAA,CAAAO,KAAK,E,GAMhBtB,mBAAA,CAA0D,QAA1DyB,UAA0D,EAAAP,gBAAA,CAApBH,KAAA,CAAAW,UAAU,iB,GAElDC,WAAsC,EACtC3B,mBAAA,CASM,OATN4B,WASM,G,gBARJ5B,mBAAA,CAME;+DALSe,KAAA,CAAAc,QAAQ,GAAAN,MAAA;IACjBnB,IAAI,EAAC,UAAU;IACfoB,EAAE,EAAC,UAAU;IACb1B,KAAK,EAAC,cAAc;IACpBK,IAAI,EAAC;iDAJIY,KAAA,CAAAc,QAAQ,E,GAMnB7B,mBAAA,CAA6D,QAA7D8B,WAA6D,EAAAZ,gBAAA,CAAvBH,KAAA,CAAAgB,aAAa,iB,GAGrDC,WAKM,EACNC,WAES,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}