{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar node_fetch_1 = require(\"node-fetch\");\nvar stream_1 = require(\"stream\");\nvar uuid = require(\"uuid\");\n// tslint:disable-next-line variable-name\nvar HttpsProxyAgent = require('https-proxy-agent');\nvar RequestError = /** @class */function (_super) {\n  __extends(RequestError, _super);\n  function RequestError() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  return RequestError;\n}(Error);\nexports.RequestError = RequestError;\n/**\n * Convert options from Request to Fetch format\n * @private\n * @param reqOpts Request options\n */\nfunction requestToFetchOptions(reqOpts) {\n  var options = __assign({\n    method: reqOpts.method || 'GET'\n  }, reqOpts.timeout && {\n    timeout: reqOpts.timeout\n  }, reqOpts.gzip && {\n    compress: reqOpts.gzip\n  });\n  if (typeof reqOpts.json === 'object') {\n    // Add Content-type: application/json header\n    reqOpts.headers = reqOpts.headers || {};\n    reqOpts.headers['Content-Type'] = 'application/json';\n    // Set body to JSON representation of value\n    options.body = JSON.stringify(reqOpts.json);\n  } else {\n    if (typeof reqOpts.body !== 'string') {\n      options.body = JSON.stringify(reqOpts.body);\n    } else {\n      options.body = reqOpts.body;\n    }\n  }\n  options.headers = reqOpts.headers;\n  var uri = reqOpts.uri || reqOpts.url;\n  if (reqOpts.useQuerystring === true || typeof reqOpts.qs === 'object') {\n    var qs = require('querystring');\n    var params = qs.stringify(reqOpts.qs);\n    uri = uri + '?' + params;\n  }\n  if (reqOpts.proxy || process.env.HTTP_PROXY || process.env.HTTPS_PROXY) {\n    var proxy = process.env.HTTP_PROXY || process.env.HTTPS_PROXY;\n    options.agent = new HttpsProxyAgent(proxy);\n  }\n  return {\n    uri: uri,\n    options: options\n  };\n}\n/**\n * Convert a response from `fetch` to `request` format.\n * @private\n * @param opts The `request` options used to create the request.\n * @param res The Fetch response\n * @returns A `request` response object\n */\nfunction fetchToRequestResponse(opts, res) {\n  var request = {};\n  request.headers = opts.headers || {};\n  request.href = res.url;\n  // headers need to be converted from a map to an obj\n  var resHeaders = {};\n  res.headers.forEach(function (value, key) {\n    return resHeaders[key] = value;\n  });\n  var response = Object.assign(res.body, {\n    statusCode: res.status,\n    statusMessage: res.statusText,\n    request: request,\n    body: res.body,\n    headers: resHeaders,\n    toJSON: function () {\n      return {\n        headers: resHeaders\n      };\n    }\n  });\n  return response;\n}\n/**\n * Create POST body from two parts as multipart/related content-type\n * @private\n * @param boundary\n * @param multipart\n */\nfunction createMultipartStream(boundary, multipart) {\n  var finale = \"--\" + boundary + \"--\";\n  var stream = new stream_1.PassThrough();\n  for (var _i = 0, multipart_1 = multipart; _i < multipart_1.length; _i++) {\n    var part = multipart_1[_i];\n    var preamble = \"--\" + boundary + \"\\r\\nContent-Type: \" + part['Content-Type'] + \"\\r\\n\\r\\n\";\n    stream.write(preamble);\n    if (typeof part.body === 'string') {\n      stream.write(part.body);\n      stream.write('\\r\\n');\n    } else {\n      part.body.pipe(stream, {\n        end: false\n      });\n      part.body.on('end', function () {\n        stream.write('\\r\\n');\n        stream.write(finale);\n        stream.end();\n      });\n    }\n  }\n  return stream;\n}\nfunction teenyRequest(reqOpts, callback) {\n  var _a = requestToFetchOptions(reqOpts),\n    uri = _a.uri,\n    options = _a.options;\n  var multipart = reqOpts.multipart;\n  if (reqOpts.multipart && multipart.length === 2) {\n    if (!callback) {\n      console.log('Error, multipart without callback not implemented.');\n      return;\n    }\n    var boundary = uuid.v4();\n    options.headers['Content-Type'] = \"multipart/related; boundary=\" + boundary;\n    options.body = createMultipartStream(boundary, multipart);\n    // Multipart upload\n    node_fetch_1.default(uri, options).then(function (res) {\n      var header = res.headers.get('content-type');\n      var response = fetchToRequestResponse(reqOpts, res);\n      var body = response.body;\n      if (header === 'application/json' || header === 'application/json; charset=utf-8') {\n        res.json().then(function (json) {\n          response.body = json;\n          callback(null, response, json);\n        }, function (err) {\n          callback(err, response, body);\n        });\n        return;\n      }\n      res.text().then(function (text) {\n        response.body = text;\n        callback(null, response, text);\n      }, function (err) {\n        callback(err, response, body);\n      });\n    }, function (err) {\n      callback(err, null, null);\n    });\n    return;\n  }\n  if (callback === undefined) {\n    // Stream mode\n    var requestStream_1 = new stream_1.PassThrough();\n    options.compress = false;\n    node_fetch_1.default(uri, options).then(function (res) {\n      if (!res.ok) {\n        res.text().then(function (text) {\n          var error = new RequestError(text);\n          error.code = res.status;\n          requestStream_1.emit('error', error);\n          return;\n        }, function (error) {\n          requestStream_1.emit('error', error);\n        });\n        return;\n      }\n      res.body.on('error', function (err) {\n        console.log('whoa there was an error, passing it on: ' + err);\n        requestStream_1.emit('error', err);\n      });\n      var response = fetchToRequestResponse(reqOpts, res);\n      requestStream_1.emit('response', response);\n    }, function (err) {\n      console.log('such a nice error:' + err);\n      requestStream_1.emit('error', err);\n    });\n    // fetch doesn't supply the raw HTTP stream, instead it\n    // returns a PassThrough piped from the HTTP response\n    // stream.\n    return requestStream_1;\n  }\n  // GET or POST with callback\n  node_fetch_1.default(uri, options).then(function (res) {\n    var header = res.headers.get('content-type');\n    var response = fetchToRequestResponse(reqOpts, res);\n    var body = response.body;\n    if (header === 'application/json' || header === 'application/json; charset=utf-8') {\n      if (response.statusCode === 204) {\n        // Probably a DELETE\n        callback(null, response, body);\n        return;\n      }\n      res.json().then(function (json) {\n        response.body = json;\n        callback(null, response, json);\n      }, function (err) {\n        callback(err, response, body);\n      });\n      return;\n    }\n    res.text().then(function (text) {\n      var response = fetchToRequestResponse(reqOpts, res);\n      response.body = text;\n      callback(null, response, text);\n    }, function (err) {\n      callback(err, response, body);\n    });\n  }, function (err) {\n    callback(err, null, null);\n  });\n  return;\n}\nexports.teenyRequest = teenyRequest;\nteenyRequest.defaults = function (defaults) {\n  return function (reqOpts, callback) {\n    var opts = __assign({}, defaults, reqOpts);\n    if (callback === undefined) {\n      return teenyRequest(opts);\n    }\n    teenyRequest(opts, callback);\n  };\n};","map":{"version":3,"names":["node_fetch_1","require","stream_1","uuid","HttpsProxyAgent","RequestError","_super","__extends","Error","exports","requestToFetchOptions","reqOpts","options","__assign","method","timeout","gzip","compress","json","headers","body","JSON","stringify","uri","url","useQuerystring","qs","params","proxy","process","env","HTTP_PROXY","HTTPS_PROXY","agent","fetchToRequestResponse","opts","res","request","href","resHeaders","forEach","value","key","response","Object","assign","statusCode","status","statusMessage","statusText","toJSON","createMultipartStream","boundary","multipart","finale","stream","PassThrough","_i","multipart_1","length","part","preamble","write","pipe","end","on","teenyRequest","callback","_a","console","log","v4","default","then","header","get","err","text","undefined","requestStream_1","ok","error","code","emit","defaults"],"sources":["../../src/index.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}